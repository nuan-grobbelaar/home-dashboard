import{j as A}from"./jsx-runtime-D_zvdyIk.js";import{r as U}from"./iframe-JmGQLgl2.js";import{r as Rr}from"./index-DgCpqn9F.js";const Ei=()=>A.jsx("div",{className:"icon-container",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:A.jsx("path",{d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})})});Ei.__docgenInfo={description:"",methods:[],displayName:"ChevronLeftIcon"};const Ti=()=>A.jsx("div",{className:"icon-container",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%",children:A.jsx("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})})});Ti.__docgenInfo={description:"",methods:[],displayName:"SearchIcon"};const Xe=()=>A.jsx("div",{className:"icon-container",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%",children:A.jsx("path",{d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"})})});Xe.__docgenInfo={description:"",methods:[],displayName:"ChevronUpIcon"};const Ai=i=>A.jsxs("div",{className:"input","data-hasvalue":i.value&&i.value!="",children:[A.jsx("label",{htmlFor:i.id,children:i.id}),A.jsx("input",{className:"input-text",name:i.id,type:"text",value:i.value?i.value:"",onChange:r=>i.onInputChange(i.id,r.target.value!==""?r.target.value:null)})]});Ai.__docgenInfo={description:"",methods:[],displayName:"TextInput",props:{id:{required:!0,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"any"},description:""},label:{required:!1,tsType:{name:"boolean"},description:""},onInputChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string, value: any) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:""},initialValue:{required:!0,tsType:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]},description:""}}};const Si=i=>A.jsxs("div",{className:"input","data-hasvalue":i.value&&i.value!="",children:[A.jsx("label",{htmlFor:i.id,children:i.id}),A.jsx("input",{className:"input-text",name:i.id,type:"number",step:".01",value:i.value?i.value:"",onChange:r=>i.onInputChange(i.id,r.target.value)})]});Si.__docgenInfo={description:"",methods:[],displayName:"NumberInput",props:{id:{required:!0,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"any"},description:""},label:{required:!1,tsType:{name:"boolean"},description:""},onInputChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string, value: any) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:""},initialValue:{required:!0,tsType:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]},description:""}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=function(i){const r=[];let o=0;for(let u=0;u<i.length;u++){let g=i.charCodeAt(u);g<128?r[o++]=g:g<2048?(r[o++]=g>>6|192,r[o++]=g&63|128):(g&64512)===55296&&u+1<i.length&&(i.charCodeAt(u+1)&64512)===56320?(g=65536+((g&1023)<<10)+(i.charCodeAt(++u)&1023),r[o++]=g>>18|240,r[o++]=g>>12&63|128,r[o++]=g>>6&63|128,r[o++]=g&63|128):(r[o++]=g>>12|224,r[o++]=g>>6&63|128,r[o++]=g&63|128)}return r},br=function(i){const r=[];let o=0,u=0;for(;o<i.length;){const g=i[o++];if(g<128)r[u++]=String.fromCharCode(g);else if(g>191&&g<224){const v=i[o++];r[u++]=String.fromCharCode((g&31)<<6|v&63)}else if(g>239&&g<365){const v=i[o++],w=i[o++],_=i[o++],T=((g&7)<<18|(v&63)<<12|(w&63)<<6|_&63)-65536;r[u++]=String.fromCharCode(55296+(T>>10)),r[u++]=String.fromCharCode(56320+(T&1023))}else{const v=i[o++],w=i[o++];r[u++]=String.fromCharCode((g&15)<<12|(v&63)<<6|w&63)}}return r.join("")},Dr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,r){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const o=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,u=[];for(let g=0;g<i.length;g+=3){const v=i[g],w=g+1<i.length,_=w?i[g+1]:0,T=g+2<i.length,S=T?i[g+2]:0,P=v>>2,k=(v&3)<<4|_>>4;let x=(_&15)<<2|S>>6,z=S&63;T||(z=64,w||(x=64)),u.push(o[P],o[k],o[x],o[z])}return u.join("")},encodeString(i,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(i):this.encodeByteArray(Ii(i),r)},decodeString(i,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(i):br(this.decodeStringToByteArray(i,r))},decodeStringToByteArray(i,r){this.init_();const o=r?this.charToByteMapWebSafe_:this.charToByteMap_,u=[];for(let g=0;g<i.length;){const v=o[i.charAt(g++)],_=g<i.length?o[i.charAt(g)]:0;++g;const S=g<i.length?o[i.charAt(g)]:64;++g;const k=g<i.length?o[i.charAt(g)]:64;if(++g,v==null||_==null||S==null||k==null)throw new Cr;const x=v<<2|_>>4;if(u.push(x),S!==64){const z=_<<4&240|S>>2;if(u.push(z),k!==64){const b=S<<6&192|k;u.push(b)}}}return u},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Cr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nr=function(i){const r=Ii(i);return Dr.encodeByteArray(r,!0)},Ri=function(i){return Nr(i).replace(/\./g,"")};function xr(){try{return typeof indexedDB=="object"}catch{return!1}}function Pr(){return new Promise((i,r)=>{try{let o=!0;const u="validate-browser-context-for-indexeddb-analytics-module",g=self.indexedDB.open(u);g.onsuccess=()=>{g.result.close(),o||self.indexedDB.deleteDatabase(u),i(!0)},g.onupgradeneeded=()=>{o=!1},g.onerror=()=>{var v;r(((v=g.error)===null||v===void 0?void 0:v.message)||"")}}catch(o){r(o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirebaseError";class _t extends Error{constructor(r,o,u){super(o),this.code=r,this.customData=u,this.name=Or,Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bi.prototype.create)}}class bi{constructor(r,o,u){this.service=r,this.serviceName=o,this.errors=u}create(r,...o){const u=o[0]||{},g=`${this.service}/${r}`,v=this.errors[r],w=v?jr(v,u):"Error",_=`${this.serviceName}: ${w} (${g}).`;return new _t(g,_,u)}}function jr(i,r){return i.replace(kr,(o,u)=>{const g=r[u];return g!=null?String(g):`<${u}?>`})}const kr=/\{\$([^}]+)}/g;class ae{constructor(r,o,u){this.name=r,this.instanceFactory=o,this.type=u,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(r){return this.instantiationMode=r,this}setMultipleInstances(r){return this.multipleInstances=r,this}setServiceProps(r){return this.serviceProps=r,this}setInstanceCreatedCallback(r){return this.onInstanceCreated=r,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(C||(C={}));const Mr={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Lr=C.INFO,Br={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Fr=(i,r,...o)=>{if(r<i.logLevel)return;const u=new Date().toISOString(),g=Br[r];if(g)console[g](`[${u}]  ${i.name}:`,...o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class Di{constructor(r){this.name=r,this._logLevel=Lr,this._logHandler=Fr,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(r){if(!(r in C))throw new TypeError(`Invalid value "${r}" assigned to \`logLevel\``);this._logLevel=r}setLogLevel(r){this._logLevel=typeof r=="string"?Mr[r]:r}get logHandler(){return this._logHandler}set logHandler(r){if(typeof r!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=r}get userLogHandler(){return this._userLogHandler}set userLogHandler(r){this._userLogHandler=r}debug(...r){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...r),this._logHandler(this,C.DEBUG,...r)}log(...r){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...r),this._logHandler(this,C.VERBOSE,...r)}info(...r){this._userLogHandler&&this._userLogHandler(this,C.INFO,...r),this._logHandler(this,C.INFO,...r)}warn(...r){this._userLogHandler&&this._userLogHandler(this,C.WARN,...r),this._logHandler(this,C.WARN,...r)}error(...r){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...r),this._logHandler(this,C.ERROR,...r)}}const Vr=(i,r)=>r.some(o=>i instanceof o);let Yn,Kn;function Hr(){return Yn||(Yn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ur(){return Kn||(Kn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ci=new WeakMap,$e=new WeakMap,Ni=new WeakMap,Be=new WeakMap,We=new WeakMap;function $r(i){const r=new Promise((o,u)=>{const g=()=>{i.removeEventListener("success",v),i.removeEventListener("error",w)},v=()=>{o(ut(i.result)),g()},w=()=>{u(i.error),g()};i.addEventListener("success",v),i.addEventListener("error",w)});return r.then(o=>{o instanceof IDBCursor&&Ci.set(o,i)}).catch(()=>{}),We.set(r,i),r}function qr(i){if($e.has(i))return;const r=new Promise((o,u)=>{const g=()=>{i.removeEventListener("complete",v),i.removeEventListener("error",w),i.removeEventListener("abort",w)},v=()=>{o(),g()},w=()=>{u(i.error||new DOMException("AbortError","AbortError")),g()};i.addEventListener("complete",v),i.addEventListener("error",w),i.addEventListener("abort",w)});$e.set(i,r)}let qe={get(i,r,o){if(i instanceof IDBTransaction){if(r==="done")return $e.get(i);if(r==="objectStoreNames")return i.objectStoreNames||Ni.get(i);if(r==="store")return o.objectStoreNames[1]?void 0:o.objectStore(o.objectStoreNames[0])}return ut(i[r])},set(i,r,o){return i[r]=o,!0},has(i,r){return i instanceof IDBTransaction&&(r==="done"||r==="store")?!0:r in i}};function Gr(i){qe=i(qe)}function Xr(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(r,...o){const u=i.call(Fe(this),r,...o);return Ni.set(u,r.sort?r.sort():[r]),ut(u)}:Ur().includes(i)?function(...r){return i.apply(Fe(this),r),ut(Ci.get(this))}:function(...r){return ut(i.apply(Fe(this),r))}}function Wr(i){return typeof i=="function"?Xr(i):(i instanceof IDBTransaction&&qr(i),Vr(i,Hr())?new Proxy(i,qe):i)}function ut(i){if(i instanceof IDBRequest)return $r(i);if(Be.has(i))return Be.get(i);const r=Wr(i);return r!==i&&(Be.set(i,r),We.set(r,i)),r}const Fe=i=>We.get(i);function zr(i,r,{blocked:o,upgrade:u,blocking:g,terminated:v}={}){const w=indexedDB.open(i,r),_=ut(w);return u&&w.addEventListener("upgradeneeded",T=>{u(ut(w.result),T.oldVersion,T.newVersion,ut(w.transaction),T)}),o&&w.addEventListener("blocked",T=>o(T.oldVersion,T.newVersion,T)),_.then(T=>{v&&T.addEventListener("close",()=>v()),g&&T.addEventListener("versionchange",S=>g(S.oldVersion,S.newVersion,S))}).catch(()=>{}),_}const Yr=["get","getKey","getAll","getAllKeys","count"],Kr=["put","add","delete","clear"],Ve=new Map;function Jn(i,r){if(!(i instanceof IDBDatabase&&!(r in i)&&typeof r=="string"))return;if(Ve.get(r))return Ve.get(r);const o=r.replace(/FromIndex$/,""),u=r!==o,g=Kr.includes(o);if(!(o in(u?IDBIndex:IDBObjectStore).prototype)||!(g||Yr.includes(o)))return;const v=async function(w,..._){const T=this.transaction(w,g?"readwrite":"readonly");let S=T.store;return u&&(S=S.index(_.shift())),(await Promise.all([S[o](..._),g&&T.done]))[0]};return Ve.set(r,v),v}Gr(i=>({...i,get:(r,o,u)=>Jn(r,o)||i.get(r,o,u),has:(r,o)=>!!Jn(r,o)||i.has(r,o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(r){this.container=r}getPlatformInfoString(){return this.container.getProviders().map(o=>{if(Zr(o)){const u=o.getImmediate();return`${u.library}/${u.version}`}else return null}).filter(o=>o).join(" ")}}function Zr(i){const r=i.getComponent();return(r==null?void 0:r.type)==="VERSION"}const Ge="@firebase/app",Zn="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt=new Di("@firebase/app"),Qr="@firebase/app-compat",ts="@firebase/analytics-compat",es="@firebase/analytics",ns="@firebase/app-check-compat",is="@firebase/app-check",rs="@firebase/auth",ss="@firebase/auth-compat",os="@firebase/database",as="@firebase/data-connect",hs="@firebase/database-compat",ls="@firebase/functions",us="@firebase/functions-compat",cs="@firebase/installations",fs="@firebase/installations-compat",ds="@firebase/messaging",ps="@firebase/messaging-compat",gs="@firebase/performance",ms="@firebase/performance-compat",ys="@firebase/remote-config",vs="@firebase/remote-config-compat",ws="@firebase/storage",_s="@firebase/storage-compat",Es="@firebase/firestore",Ts="@firebase/ai",As="@firebase/firestore-compat",Ss="firebase",Is="11.9.0",Rs={[Ge]:"fire-core",[Qr]:"fire-core-compat",[es]:"fire-analytics",[ts]:"fire-analytics-compat",[is]:"fire-app-check",[ns]:"fire-app-check-compat",[rs]:"fire-auth",[ss]:"fire-auth-compat",[os]:"fire-rtdb",[as]:"fire-data-connect",[hs]:"fire-rtdb-compat",[ls]:"fire-fn",[us]:"fire-fn-compat",[cs]:"fire-iid",[fs]:"fire-iid-compat",[ds]:"fire-fcm",[ps]:"fire-fcm-compat",[gs]:"fire-perf",[ms]:"fire-perf-compat",[ys]:"fire-rc",[vs]:"fire-rc-compat",[ws]:"fire-gcs",[_s]:"fire-gcs-compat",[Es]:"fire-fst",[As]:"fire-fst-compat",[Ts]:"fire-vertex","fire-js":"fire-js",[Ss]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Map,Ds=new Map,Qn=new Map;function ti(i,r){try{i.container.addComponent(r)}catch(o){rt.debug(`Component ${r.name} failed to register with FirebaseApp ${i.name}`,o)}}function he(i){const r=i.name;if(Qn.has(r))return rt.debug(`There were multiple attempts to register component ${r}.`),!1;Qn.set(r,i);for(const o of bs.values())ti(o,i);for(const o of Ds.values())ti(o,i);return!0}function Cs(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ze=new bi("app","Firebase",Ns);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=Is;function Bt(i,r,o){var u;let g=(u=Rs[i])!==null&&u!==void 0?u:i;o&&(g+=`-${o}`);const v=g.match(/\s|\//),w=r.match(/\s|\//);if(v||w){const _=[`Unable to register library "${g}" with version "${r}":`];v&&_.push(`library name "${g}" contains illegal characters (whitespace or "/")`),v&&w&&_.push("and"),w&&_.push(`version name "${r}" contains illegal characters (whitespace or "/")`),rt.warn(_.join(" "));return}he(new ae(`${g}-version`,()=>({library:g,version:r}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="firebase-heartbeat-database",Os=1,Ut="firebase-heartbeat-store";let He=null;function xi(){return He||(He=zr(Ps,Os,{upgrade:(i,r)=>{switch(r){case 0:try{i.createObjectStore(Ut)}catch(o){console.warn(o)}}}}).catch(i=>{throw ze.create("idb-open",{originalErrorMessage:i.message})})),He}async function js(i){try{const o=(await xi()).transaction(Ut),u=await o.objectStore(Ut).get(Pi(i));return await o.done,u}catch(r){if(r instanceof _t)rt.warn(r.message);else{const o=ze.create("idb-get",{originalErrorMessage:r==null?void 0:r.message});rt.warn(o.message)}}}async function ei(i,r){try{const u=(await xi()).transaction(Ut,"readwrite");await u.objectStore(Ut).put(r,Pi(i)),await u.done}catch(o){if(o instanceof _t)rt.warn(o.message);else{const u=ze.create("idb-set",{originalErrorMessage:o==null?void 0:o.message});rt.warn(u.message)}}}function Pi(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=1024,Ms=30;class Ls{constructor(r){this.container=r,this._heartbeatsCache=null;const o=this.container.getProvider("app").getImmediate();this._storage=new Fs(o),this._heartbeatsCachePromise=this._storage.read().then(u=>(this._heartbeatsCache=u,u))}async triggerHeartbeat(){var r,o;try{const g=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),v=ni();if(((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((o=this._heartbeatsCache)===null||o===void 0?void 0:o.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===v||this._heartbeatsCache.heartbeats.some(w=>w.date===v))return;if(this._heartbeatsCache.heartbeats.push({date:v,agent:g}),this._heartbeatsCache.heartbeats.length>Ms){const w=Vs(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(w,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(u){rt.warn(u)}}async getHeartbeatsHeader(){var r;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const o=ni(),{heartbeatsToSend:u,unsentEntries:g}=Bs(this._heartbeatsCache.heartbeats),v=Ri(JSON.stringify({version:2,heartbeats:u}));return this._heartbeatsCache.lastSentHeartbeatDate=o,g.length>0?(this._heartbeatsCache.heartbeats=g,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),v}catch(o){return rt.warn(o),""}}}function ni(){return new Date().toISOString().substring(0,10)}function Bs(i,r=ks){const o=[];let u=i.slice();for(const g of i){const v=o.find(w=>w.agent===g.agent);if(v){if(v.dates.push(g.date),ii(o)>r){v.dates.pop();break}}else if(o.push({agent:g.agent,dates:[g.date]}),ii(o)>r){o.pop();break}u=u.slice(1)}return{heartbeatsToSend:o,unsentEntries:u}}class Fs{constructor(r){this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xr()?Pr().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const o=await js(this.app);return o!=null&&o.heartbeats?o:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(r){var o;if(await this._canUseIndexedDBPromise){const g=await this.read();return ei(this.app,{lastSentHeartbeatDate:(o=r.lastSentHeartbeatDate)!==null&&o!==void 0?o:g.lastSentHeartbeatDate,heartbeats:r.heartbeats})}else return}async add(r){var o;if(await this._canUseIndexedDBPromise){const g=await this.read();return ei(this.app,{lastSentHeartbeatDate:(o=r.lastSentHeartbeatDate)!==null&&o!==void 0?o:g.lastSentHeartbeatDate,heartbeats:[...g.heartbeats,...r.heartbeats]})}else return}}function ii(i){return Ri(JSON.stringify({version:2,heartbeats:i})).length}function Vs(i){if(i.length===0)return-1;let r=0,o=i[0].date;for(let u=1;u<i.length;u++)i[u].date<o&&(o=i[u].date,r=u);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(i){he(new ae("platform-logger",r=>new Jr(r),"PRIVATE")),he(new ae("heartbeat",r=>new Ls(r),"PRIVATE")),Bt(Ge,Zn,i),Bt(Ge,Zn,"esm2017"),Bt("fire-js","")}Hs("");var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oi;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function r(d,a){function l(){}l.prototype=a.prototype,d.D=a.prototype,d.prototype=new l,d.prototype.constructor=d,d.C=function(c,f,m){for(var h=Array(arguments.length-2),et=2;et<arguments.length;et++)h[et-2]=arguments[et];return a.prototype[f].apply(c,h)}}function o(){this.blockSize=-1}function u(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}r(u,o),u.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function g(d,a,l){l||(l=0);var c=Array(16);if(typeof a=="string")for(var f=0;16>f;++f)c[f]=a.charCodeAt(l++)|a.charCodeAt(l++)<<8|a.charCodeAt(l++)<<16|a.charCodeAt(l++)<<24;else for(f=0;16>f;++f)c[f]=a[l++]|a[l++]<<8|a[l++]<<16|a[l++]<<24;a=d.g[0],l=d.g[1],f=d.g[2];var m=d.g[3],h=a+(m^l&(f^m))+c[0]+3614090360&4294967295;a=l+(h<<7&4294967295|h>>>25),h=m+(f^a&(l^f))+c[1]+3905402710&4294967295,m=a+(h<<12&4294967295|h>>>20),h=f+(l^m&(a^l))+c[2]+606105819&4294967295,f=m+(h<<17&4294967295|h>>>15),h=l+(a^f&(m^a))+c[3]+3250441966&4294967295,l=f+(h<<22&4294967295|h>>>10),h=a+(m^l&(f^m))+c[4]+4118548399&4294967295,a=l+(h<<7&4294967295|h>>>25),h=m+(f^a&(l^f))+c[5]+1200080426&4294967295,m=a+(h<<12&4294967295|h>>>20),h=f+(l^m&(a^l))+c[6]+2821735955&4294967295,f=m+(h<<17&4294967295|h>>>15),h=l+(a^f&(m^a))+c[7]+4249261313&4294967295,l=f+(h<<22&4294967295|h>>>10),h=a+(m^l&(f^m))+c[8]+1770035416&4294967295,a=l+(h<<7&4294967295|h>>>25),h=m+(f^a&(l^f))+c[9]+2336552879&4294967295,m=a+(h<<12&4294967295|h>>>20),h=f+(l^m&(a^l))+c[10]+4294925233&4294967295,f=m+(h<<17&4294967295|h>>>15),h=l+(a^f&(m^a))+c[11]+2304563134&4294967295,l=f+(h<<22&4294967295|h>>>10),h=a+(m^l&(f^m))+c[12]+1804603682&4294967295,a=l+(h<<7&4294967295|h>>>25),h=m+(f^a&(l^f))+c[13]+4254626195&4294967295,m=a+(h<<12&4294967295|h>>>20),h=f+(l^m&(a^l))+c[14]+2792965006&4294967295,f=m+(h<<17&4294967295|h>>>15),h=l+(a^f&(m^a))+c[15]+1236535329&4294967295,l=f+(h<<22&4294967295|h>>>10),h=a+(f^m&(l^f))+c[1]+4129170786&4294967295,a=l+(h<<5&4294967295|h>>>27),h=m+(l^f&(a^l))+c[6]+3225465664&4294967295,m=a+(h<<9&4294967295|h>>>23),h=f+(a^l&(m^a))+c[11]+643717713&4294967295,f=m+(h<<14&4294967295|h>>>18),h=l+(m^a&(f^m))+c[0]+3921069994&4294967295,l=f+(h<<20&4294967295|h>>>12),h=a+(f^m&(l^f))+c[5]+3593408605&4294967295,a=l+(h<<5&4294967295|h>>>27),h=m+(l^f&(a^l))+c[10]+38016083&4294967295,m=a+(h<<9&4294967295|h>>>23),h=f+(a^l&(m^a))+c[15]+3634488961&4294967295,f=m+(h<<14&4294967295|h>>>18),h=l+(m^a&(f^m))+c[4]+3889429448&4294967295,l=f+(h<<20&4294967295|h>>>12),h=a+(f^m&(l^f))+c[9]+568446438&4294967295,a=l+(h<<5&4294967295|h>>>27),h=m+(l^f&(a^l))+c[14]+3275163606&4294967295,m=a+(h<<9&4294967295|h>>>23),h=f+(a^l&(m^a))+c[3]+4107603335&4294967295,f=m+(h<<14&4294967295|h>>>18),h=l+(m^a&(f^m))+c[8]+1163531501&4294967295,l=f+(h<<20&4294967295|h>>>12),h=a+(f^m&(l^f))+c[13]+2850285829&4294967295,a=l+(h<<5&4294967295|h>>>27),h=m+(l^f&(a^l))+c[2]+4243563512&4294967295,m=a+(h<<9&4294967295|h>>>23),h=f+(a^l&(m^a))+c[7]+1735328473&4294967295,f=m+(h<<14&4294967295|h>>>18),h=l+(m^a&(f^m))+c[12]+2368359562&4294967295,l=f+(h<<20&4294967295|h>>>12),h=a+(l^f^m)+c[5]+4294588738&4294967295,a=l+(h<<4&4294967295|h>>>28),h=m+(a^l^f)+c[8]+2272392833&4294967295,m=a+(h<<11&4294967295|h>>>21),h=f+(m^a^l)+c[11]+1839030562&4294967295,f=m+(h<<16&4294967295|h>>>16),h=l+(f^m^a)+c[14]+4259657740&4294967295,l=f+(h<<23&4294967295|h>>>9),h=a+(l^f^m)+c[1]+2763975236&4294967295,a=l+(h<<4&4294967295|h>>>28),h=m+(a^l^f)+c[4]+1272893353&4294967295,m=a+(h<<11&4294967295|h>>>21),h=f+(m^a^l)+c[7]+4139469664&4294967295,f=m+(h<<16&4294967295|h>>>16),h=l+(f^m^a)+c[10]+3200236656&4294967295,l=f+(h<<23&4294967295|h>>>9),h=a+(l^f^m)+c[13]+681279174&4294967295,a=l+(h<<4&4294967295|h>>>28),h=m+(a^l^f)+c[0]+3936430074&4294967295,m=a+(h<<11&4294967295|h>>>21),h=f+(m^a^l)+c[3]+3572445317&4294967295,f=m+(h<<16&4294967295|h>>>16),h=l+(f^m^a)+c[6]+76029189&4294967295,l=f+(h<<23&4294967295|h>>>9),h=a+(l^f^m)+c[9]+3654602809&4294967295,a=l+(h<<4&4294967295|h>>>28),h=m+(a^l^f)+c[12]+3873151461&4294967295,m=a+(h<<11&4294967295|h>>>21),h=f+(m^a^l)+c[15]+530742520&4294967295,f=m+(h<<16&4294967295|h>>>16),h=l+(f^m^a)+c[2]+3299628645&4294967295,l=f+(h<<23&4294967295|h>>>9),h=a+(f^(l|~m))+c[0]+4096336452&4294967295,a=l+(h<<6&4294967295|h>>>26),h=m+(l^(a|~f))+c[7]+1126891415&4294967295,m=a+(h<<10&4294967295|h>>>22),h=f+(a^(m|~l))+c[14]+2878612391&4294967295,f=m+(h<<15&4294967295|h>>>17),h=l+(m^(f|~a))+c[5]+4237533241&4294967295,l=f+(h<<21&4294967295|h>>>11),h=a+(f^(l|~m))+c[12]+1700485571&4294967295,a=l+(h<<6&4294967295|h>>>26),h=m+(l^(a|~f))+c[3]+2399980690&4294967295,m=a+(h<<10&4294967295|h>>>22),h=f+(a^(m|~l))+c[10]+4293915773&4294967295,f=m+(h<<15&4294967295|h>>>17),h=l+(m^(f|~a))+c[1]+2240044497&4294967295,l=f+(h<<21&4294967295|h>>>11),h=a+(f^(l|~m))+c[8]+1873313359&4294967295,a=l+(h<<6&4294967295|h>>>26),h=m+(l^(a|~f))+c[15]+4264355552&4294967295,m=a+(h<<10&4294967295|h>>>22),h=f+(a^(m|~l))+c[6]+2734768916&4294967295,f=m+(h<<15&4294967295|h>>>17),h=l+(m^(f|~a))+c[13]+1309151649&4294967295,l=f+(h<<21&4294967295|h>>>11),h=a+(f^(l|~m))+c[4]+4149444226&4294967295,a=l+(h<<6&4294967295|h>>>26),h=m+(l^(a|~f))+c[11]+3174756917&4294967295,m=a+(h<<10&4294967295|h>>>22),h=f+(a^(m|~l))+c[2]+718787259&4294967295,f=m+(h<<15&4294967295|h>>>17),h=l+(m^(f|~a))+c[9]+3951481745&4294967295,d.g[0]=d.g[0]+a&4294967295,d.g[1]=d.g[1]+(f+(h<<21&4294967295|h>>>11))&4294967295,d.g[2]=d.g[2]+f&4294967295,d.g[3]=d.g[3]+m&4294967295}u.prototype.u=function(d,a){a===void 0&&(a=d.length);for(var l=a-this.blockSize,c=this.B,f=this.h,m=0;m<a;){if(f==0)for(;m<=l;)g(this,d,m),m+=this.blockSize;if(typeof d=="string"){for(;m<a;)if(c[f++]=d.charCodeAt(m++),f==this.blockSize){g(this,c),f=0;break}}else for(;m<a;)if(c[f++]=d[m++],f==this.blockSize){g(this,c),f=0;break}}this.h=f,this.o+=a},u.prototype.v=function(){var d=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);d[0]=128;for(var a=1;a<d.length-8;++a)d[a]=0;var l=8*this.o;for(a=d.length-8;a<d.length;++a)d[a]=l&255,l/=256;for(this.u(d),d=Array(16),a=l=0;4>a;++a)for(var c=0;32>c;c+=8)d[l++]=this.g[a]>>>c&255;return d};function v(d,a){var l=_;return Object.prototype.hasOwnProperty.call(l,d)?l[d]:l[d]=a(d)}function w(d,a){this.h=a;for(var l=[],c=!0,f=d.length-1;0<=f;f--){var m=d[f]|0;c&&m==a||(l[f]=m,c=!1)}this.g=l}var _={};function T(d){return-128<=d&&128>d?v(d,function(a){return new w([a|0],0>a?-1:0)}):new w([d|0],0>d?-1:0)}function S(d){if(isNaN(d)||!isFinite(d))return k;if(0>d)return j(S(-d));for(var a=[],l=1,c=0;d>=l;c++)a[c]=d/l|0,l*=4294967296;return new w(a,0)}function P(d,a){if(d.length==0)throw Error("number format error: empty string");if(a=a||10,2>a||36<a)throw Error("radix out of range: "+a);if(d.charAt(0)=="-")return j(P(d.substring(1),a));if(0<=d.indexOf("-"))throw Error('number format error: interior "-" character');for(var l=S(Math.pow(a,8)),c=k,f=0;f<d.length;f+=8){var m=Math.min(8,d.length-f),h=parseInt(d.substring(f,f+m),a);8>m?(m=S(Math.pow(a,m)),c=c.j(m).add(S(h))):(c=c.j(l),c=c.add(S(h)))}return c}var k=T(0),x=T(1),z=T(16777216);i=w.prototype,i.m=function(){if(L(this))return-j(this).m();for(var d=0,a=1,l=0;l<this.g.length;l++){var c=this.i(l);d+=(0<=c?c:4294967296+c)*a,a*=4294967296}return d},i.toString=function(d){if(d=d||10,2>d||36<d)throw Error("radix out of range: "+d);if(b(this))return"0";if(L(this))return"-"+j(this).toString(d);for(var a=S(Math.pow(d,6)),l=this,c="";;){var f=st(l,a).g;l=pt(l,f.j(a));var m=((0<l.g.length?l.g[0]:l.h)>>>0).toString(d);if(l=f,b(l))return m+c;for(;6>m.length;)m="0"+m;c=m+c}},i.i=function(d){return 0>d?0:d<this.g.length?this.g[d]:this.h};function b(d){if(d.h!=0)return!1;for(var a=0;a<d.g.length;a++)if(d.g[a]!=0)return!1;return!0}function L(d){return d.h==-1}i.l=function(d){return d=pt(this,d),L(d)?-1:b(d)?0:1};function j(d){for(var a=d.g.length,l=[],c=0;c<a;c++)l[c]=~d.g[c];return new w(l,~d.h).add(x)}i.abs=function(){return L(this)?j(this):this},i.add=function(d){for(var a=Math.max(this.g.length,d.g.length),l=[],c=0,f=0;f<=a;f++){var m=c+(this.i(f)&65535)+(d.i(f)&65535),h=(m>>>16)+(this.i(f)>>>16)+(d.i(f)>>>16);c=h>>>16,m&=65535,h&=65535,l[f]=h<<16|m}return new w(l,l[l.length-1]&-2147483648?-1:0)};function pt(d,a){return d.add(j(a))}i.j=function(d){if(b(this)||b(d))return k;if(L(this))return L(d)?j(this).j(j(d)):j(j(this).j(d));if(L(d))return j(this.j(j(d)));if(0>this.l(z)&&0>d.l(z))return S(this.m()*d.m());for(var a=this.g.length+d.g.length,l=[],c=0;c<2*a;c++)l[c]=0;for(c=0;c<this.g.length;c++)for(var f=0;f<d.g.length;f++){var m=this.i(c)>>>16,h=this.i(c)&65535,et=d.i(f)>>>16,Et=d.i(f)&65535;l[2*c+2*f]+=h*Et,Q(l,2*c+2*f),l[2*c+2*f+1]+=m*Et,Q(l,2*c+2*f+1),l[2*c+2*f+1]+=h*et,Q(l,2*c+2*f+1),l[2*c+2*f+2]+=m*et,Q(l,2*c+2*f+2)}for(c=0;c<a;c++)l[c]=l[2*c+1]<<16|l[2*c];for(c=a;c<2*a;c++)l[c]=0;return new w(l,0)};function Q(d,a){for(;(d[a]&65535)!=d[a];)d[a+1]+=d[a]>>>16,d[a]&=65535,a++}function Y(d,a){this.g=d,this.h=a}function st(d,a){if(b(a))throw Error("division by zero");if(b(d))return new Y(k,k);if(L(d))return a=st(j(d),a),new Y(j(a.g),j(a.h));if(L(a))return a=st(d,j(a)),new Y(j(a.g),a.h);if(30<d.g.length){if(L(d)||L(a))throw Error("slowDivide_ only works with positive integers.");for(var l=x,c=a;0>=c.l(d);)l=$t(l),c=$t(c);var f=tt(l,1),m=tt(c,1);for(c=tt(c,2),l=tt(l,2);!b(c);){var h=m.add(c);0>=h.l(d)&&(f=f.add(l),m=h),c=tt(c,1),l=tt(l,1)}return a=pt(d,f.j(a)),new Y(f,a)}for(f=k;0<=d.l(a);){for(l=Math.max(1,Math.floor(d.m()/a.m())),c=Math.ceil(Math.log(l)/Math.LN2),c=48>=c?1:Math.pow(2,c-48),m=S(l),h=m.j(a);L(h)||0<h.l(d);)l-=c,m=S(l),h=m.j(a);b(m)&&(m=x),f=f.add(m),d=pt(d,h)}return new Y(f,d)}i.A=function(d){return st(this,d).h},i.and=function(d){for(var a=Math.max(this.g.length,d.g.length),l=[],c=0;c<a;c++)l[c]=this.i(c)&d.i(c);return new w(l,this.h&d.h)},i.or=function(d){for(var a=Math.max(this.g.length,d.g.length),l=[],c=0;c<a;c++)l[c]=this.i(c)|d.i(c);return new w(l,this.h|d.h)},i.xor=function(d){for(var a=Math.max(this.g.length,d.g.length),l=[],c=0;c<a;c++)l[c]=this.i(c)^d.i(c);return new w(l,this.h^d.h)};function $t(d){for(var a=d.g.length+1,l=[],c=0;c<a;c++)l[c]=d.i(c)<<1|d.i(c-1)>>>31;return new w(l,d.h)}function tt(d,a){var l=a>>5;a%=32;for(var c=d.g.length-l,f=[],m=0;m<c;m++)f[m]=0<a?d.i(m+l)>>>a|d.i(m+l+1)<<32-a:d.i(m+l);return new w(f,d.h)}u.prototype.digest=u.prototype.v,u.prototype.reset=u.prototype.s,u.prototype.update=u.prototype.u,w.prototype.add=w.prototype.add,w.prototype.multiply=w.prototype.j,w.prototype.modulo=w.prototype.A,w.prototype.compare=w.prototype.l,w.prototype.toNumber=w.prototype.m,w.prototype.toString=w.prototype.toString,w.prototype.getBits=w.prototype.i,w.fromNumber=S,w.fromString=P,Oi=w}).apply(typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{});var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var i,r=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};function o(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof oe=="object"&&oe];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var u=o(this);function g(t,e){if(e)t:{var n=u;t=t.split(".");for(var s=0;s<t.length-1;s++){var p=t[s];if(!(p in n))break t;n=n[p]}t=t[t.length-1],s=n[t],e=e(s),e!=s&&e!=null&&r(n,t,{configurable:!0,writable:!0,value:e})}}function v(t,e){t instanceof String&&(t+="");var n=0,s=!1,p={next:function(){if(!s&&n<t.length){var y=n++;return{value:e(y,t[y]),done:!1}}return s=!0,{done:!0,value:void 0}}};return p[Symbol.iterator]=function(){return p},p}g("Array.prototype.values",function(t){return t||function(){return v(this,function(e,n){return n})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var w=w||{},_=this||self;function T(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function S(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function P(t,e,n){return t.call.apply(t.bind,arguments)}function k(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,s),t.apply(e,p)}}return function(){return t.apply(e,arguments)}}function x(t,e,n){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?P:k,x.apply(null,arguments)}function z(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function b(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(s,p,y){for(var E=Array(arguments.length-2),D=2;D<arguments.length;D++)E[D-2]=arguments[D];return e.prototype[p].apply(s,E)}}function L(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function j(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(T(s)){const p=t.length||0,y=s.length||0;t.length=p+y;for(let E=0;E<y;E++)t[p+E]=s[E]}else t.push(s)}}class pt{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Q(t){return/^[\s\xa0]*$/.test(t)}function Y(){var t=_.navigator;return t&&(t=t.userAgent)?t:""}function st(t){return st[" "](t),t}st[" "]=function(){};var $t=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function tt(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function d(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function a(t){const e={};for(const n in t)e[n]=t[n];return e}const l="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c(t,e){let n,s;for(let p=1;p<arguments.length;p++){s=arguments[p];for(n in s)t[n]=s[n];for(let y=0;y<l.length;y++)n=l[y],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function f(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function m(t){_.setTimeout(()=>{throw t},0)}function h(){var t=fe;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class et{constructor(){this.h=this.g=null}add(e,n){const s=Et.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Et=new pt(()=>new $i,t=>t.reset());class $i{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}let Tt,At=!1,fe=new et,Ke=()=>{const t=_.Promise.resolve(void 0);Tt=()=>{t.then(qi)}};var qi=()=>{for(var t;t=h();){try{t.h.call(t.g)}catch(n){m(n)}var e=Et;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}At=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var Gi=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};_.addEventListener("test",n,e),_.removeEventListener("test",n,e)}catch{}return t}();function St(t,e){if(B.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if($t){t:{try{st(e.nodeName);var p=!0;break t}catch{}p=!1}p||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Xi[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&St.aa.h.call(this)}}b(St,B);var Xi={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),Wi=0;function zi(t,e,n,s,p){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ha=p,this.key=++Wi,this.da=this.fa=!1}function Gt(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Xt(t){this.src=t,this.g={},this.h=0}Xt.prototype.add=function(t,e,n,s,p){var y=t.toString();t=this.g[y],t||(t=this.g[y]=[],this.h++);var E=pe(t,e,s,p);return-1<E?(e=t[E],n||(e.fa=!1)):(e=new zi(e,this.src,y,!!s,p),e.fa=n,t.push(e)),e};function de(t,e){var n=e.type;if(n in t.g){var s=t.g[n],p=Array.prototype.indexOf.call(s,e,void 0),y;(y=0<=p)&&Array.prototype.splice.call(s,p,1),y&&(Gt(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function pe(t,e,n,s){for(var p=0;p<t.length;++p){var y=t[p];if(!y.da&&y.listener==e&&y.capture==!!n&&y.ha==s)return p}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),me={};function Je(t,e,n,s,p){if(Array.isArray(e)){for(var y=0;y<e.length;y++)Je(t,e[y],n,s,p);return null}return n=tn(n),t&&t[qt]?t.K(e,n,S(s)?!!s.capture:!1,p):Yi(t,e,n,!1,s,p)}function Yi(t,e,n,s,p,y){if(!e)throw Error("Invalid event type");var E=S(p)?!!p.capture:!!p,D=ve(t);if(D||(t[ge]=D=new Xt(t)),n=D.add(e,n,s,E,y),n.proxy)return n;if(s=Ki(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)Gi||(p=E),p===void 0&&(p=!1),t.addEventListener(e.toString(),s,p);else if(t.attachEvent)t.attachEvent(Qe(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ki(){function t(n){return e.call(t.src,t.listener,n)}const e=Ji;return t}function Ze(t,e,n,s,p){if(Array.isArray(e))for(var y=0;y<e.length;y++)Ze(t,e[y],n,s,p);else s=S(s)?!!s.capture:!!s,n=tn(n),t&&t[qt]?(t=t.i,e=String(e).toString(),e in t.g&&(y=t.g[e],n=pe(y,n,s,p),-1<n&&(Gt(y[n]),Array.prototype.splice.call(y,n,1),y.length==0&&(delete t.g[e],t.h--)))):t&&(t=ve(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pe(e,n,s,p)),(n=-1<t?e[t]:null)&&ye(n))}function ye(t){if(typeof t!="number"&&t&&!t.da){var e=t.src;if(e&&e[qt])de(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Qe(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=ve(e))?(de(n,t),n.h==0&&(n.src=null,e[ge]=null)):Gt(t)}}}function Qe(t){return t in me?me[t]:me[t]="on"+t}function Ji(t,e){if(t.da)t=!0;else{e=new St(e,this);var n=t.listener,s=t.ha||t.src;t.fa&&ye(t),t=n.call(s,e)}return t}function ve(t){return t=t[ge],t instanceof Xt?t:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function tn(t){return typeof t=="function"?t:(t[we]||(t[we]=function(e){return t.handleEvent(e)}),t[we])}function F(){ot.call(this),this.i=new Xt(this),this.M=this,this.F=null}b(F,ot),F.prototype[qt]=!0,F.prototype.removeEventListener=function(t,e,n,s){Ze(this,t,e,n,s)};function $(t,e){var n,s=t.F;if(s)for(n=[];s;s=s.F)n.push(s);if(t=t.M,s=e.type||e,typeof e=="string")e=new B(e,t);else if(e instanceof B)e.target=e.target||t;else{var p=e;e=new B(s,t),c(e,p)}if(p=!0,n)for(var y=n.length-1;0<=y;y--){var E=e.g=n[y];p=Wt(E,s,!0,e)&&p}if(E=e.g=t,p=Wt(E,s,!0,e)&&p,p=Wt(E,s,!1,e)&&p,n)for(y=0;y<n.length;y++)E=e.g=n[y],p=Wt(E,s,!1,e)&&p}F.prototype.N=function(){if(F.aa.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Gt(n[s]);delete t.g[e],t.h--}}this.F=null},F.prototype.K=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)},F.prototype.L=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Wt(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var p=!0,y=0;y<e.length;++y){var E=e[y];if(E&&!E.da&&E.capture==n){var D=E.listener,M=E.ha||E.src;E.fa&&de(t.i,E),p=D.call(M,s)!==!1&&p}}return p&&!s.defaultPrevented}function en(t,e,n){if(typeof t=="function")n&&(t=x(t,n));else if(t&&typeof t.handleEvent=="function")t=x(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:_.setTimeout(t,e||0)}function nn(t){t.g=en(()=>{t.g=null,t.i&&(t.i=!1,nn(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}class Zi extends ot{constructor(e,n){super(),this.m=e,this.l=n,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:nn(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function It(t){ot.call(this),this.h=t,this.g={}}b(It,ot);var rn=[];function sn(t){tt(t.g,function(e,n){this.g.hasOwnProperty(n)&&ye(e)},t),t.g={}}It.prototype.N=function(){It.aa.N.call(this),sn(this)},It.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _e=_.JSON.stringify,Qi=_.JSON.parse,tr=class{stringify(t){return _.JSON.stringify(t,void 0)}parse(t){return _.JSON.parse(t,void 0)}};function Ee(){}Ee.prototype.h=null;function on(t){return t.h||(t.h=t.i())}function er(){}var Rt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Te(){B.call(this,"d")}b(Te,B);function Ae(){B.call(this,"c")}b(Ae,B);var gt={},an=null;function Se(){return an=an||new F}gt.La="serverreachability";function hn(t){B.call(this,gt.La,t)}b(hn,B);function bt(t){const e=Se();$(e,new hn(e))}gt.STAT_EVENT="statevent";function ln(t,e){B.call(this,gt.STAT_EVENT,t),this.stat=e}b(ln,B);function q(t){const e=Se();$(e,new ln(e,t))}gt.Ma="timingevent";function un(t,e){B.call(this,gt.Ma,t),this.size=e}b(un,B);function Dt(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){t()},e)}function Ct(){this.g=!0}Ct.prototype.xa=function(){this.g=!1};function nr(t,e,n,s,p,y){t.info(function(){if(t.g)if(y)for(var E="",D=y.split("&"),M=0;M<D.length;M++){var R=D[M].split("=");if(1<R.length){var V=R[0];R=R[1];var H=V.split("_");E=2<=H.length&&H[1]=="type"?E+(V+"="+R+"&"):E+(V+"=redacted&")}}else E=null;else E=y;return"XMLHTTP REQ ("+s+") [attempt "+p+"]: "+e+`
`+n+`
`+E})}function ir(t,e,n,s,p,y,E){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+p+"]: "+e+`
`+n+`
`+y+" "+E})}function mt(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+sr(t,n)+(s?" "+s:"")})}function rr(t,e){t.info(function(){return"TIMEOUT: "+e})}Ct.prototype.info=function(){};function sr(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var p=s[1];if(Array.isArray(p)&&!(1>p.length)){var y=p[0];if(y!="noop"&&y!="stop"&&y!="close")for(var E=1;E<p.length;E++)p[E]=""}}}}return _e(n)}catch{return e}}var Ie={NO_ERROR:0,TIMEOUT:8},or={},Re;function zt(){}b(zt,Ee),zt.prototype.g=function(){return new XMLHttpRequest},zt.prototype.i=function(){return{}},Re=new zt;function at(t,e,n,s){this.j=t,this.i=e,this.l=n,this.R=s||1,this.U=new It(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cn}function cn(){this.i=null,this.g="",this.h=!1}var fn={},be={};function De(t,e,n){t.L=1,t.v=Zt(nt(e)),t.m=n,t.P=!0,dn(t,null)}function dn(t,e){t.F=Date.now(),Yt(t),t.A=nt(t.v);var n=t.A,s=t.R;Array.isArray(s)||(s=[String(s)]),bn(n.i,"t",s),t.C=0,n=t.j.J,t.h=new cn,t.g=Gn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new Zi(x(t.Y,t,t.g),t.O)),e=t.U,n=t.g,s=t.ca;var p="readystatechange";Array.isArray(p)||(p&&(rn[0]=p.toString()),p=rn);for(var y=0;y<p.length;y++){var E=Je(n,p[y],s||e.handleEvent,!1,e.h||e);if(!E)break;e.g[E.key]=E}e=t.H?a(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),bt(),nr(t.i,t.u,t.A,t.l,t.R,t.m)}at.prototype.ca=function(t){t=t.target;const e=this.M;e&&it(t)==3?e.j():this.Y(t)},at.prototype.Y=function(t){try{if(t==this.g)t:{const H=it(this.g);var e=this.g.Ba();const wt=this.g.Z();if(!(3>H)&&(H!=3||this.g&&(this.h.h||this.g.oa()||jn(this.g)))){this.J||H!=4||e==7||(e==8||0>=wt?bt(3):bt(2)),Ce(this);var n=this.g.Z();this.X=n;e:if(pn(this)){var s=jn(this.g);t="";var p=s.length,y=it(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ct(this),Nt(this);var E="";break e}this.h.i=new _.TextDecoder}for(e=0;e<p;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:!(y&&e==p-1)});s.length=0,this.h.g+=t,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=n==200,ir(this.i,this.u,this.A,this.l,this.R,H,n),this.o){if(this.T&&!this.K){e:{if(this.g){var D,M=this.g;if((D=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(D)){var R=D;break e}}R=null}if(n=R)mt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ne(this,n);else{this.o=!1,this.s=3,q(12),ct(this),Nt(this);break t}}if(this.P){n=!0;let J;for(;!this.J&&this.C<E.length;)if(J=ar(this,E),J==be){H==4&&(this.s=4,q(14),n=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(J==fn){this.s=4,q(15),mt(this.i,this.l,E,"[Invalid Chunk]"),n=!1;break}else mt(this.i,this.l,J,null),Ne(this,J);if(pn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),H!=4||E.length!=0||this.h.h||(this.s=1,q(16),n=!1),this.o=this.o&&n,!n)mt(this.i,this.l,E,"[Invalid Chunked Response]"),ct(this),Nt(this);else if(0<E.length&&!this.W){this.W=!0;var V=this.j;V.g==this&&V.ba&&!V.M&&(V.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Me(V),V.M=!0,q(11))}}else mt(this.i,this.l,E,null),Ne(this,E);H==4&&ct(this),this.o&&!this.J&&(H==4?Hn(this.j,this):(this.o=!1,Yt(this)))}else Sr(this.g),n==400&&0<E.indexOf("Unknown SID")?(this.s=3,q(12)):(this.s=0,q(13)),ct(this),Nt(this)}}}catch{}finally{}};function pn(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function ar(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?be:(n=Number(e.substring(n,s)),isNaN(n)?fn:(s+=1,s+n>e.length?be:(e=e.slice(s,s+n),t.C=s+n,e)))}at.prototype.cancel=function(){this.J=!0,ct(this)};function Yt(t){t.S=Date.now()+t.I,gn(t,t.I)}function gn(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Dt(x(t.ba,t),e)}function Ce(t){t.B&&(_.clearTimeout(t.B),t.B=null)}at.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(rr(this.i,this.A),this.L!=2&&(bt(),q(17)),ct(this),this.s=2,Nt(this)):gn(this,this.S-t)};function Nt(t){t.j.G==0||t.J||Hn(t.j,t)}function ct(t){Ce(t);var e=t.M;e&&typeof e.ma=="function"&&e.ma(),t.M=null,sn(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Ne(t,e){try{var n=t.j;if(n.G!=0&&(n.g==t||xe(n.h,t))){if(!t.K&&xe(n.h,t)&&n.G==3){try{var s=n.Da.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var p=s;if(p[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)re(n),ne(n);else break t;ke(n),q(18)}}else n.za=p[1],0<n.za-n.T&&37500>p[2]&&n.F&&n.v==0&&!n.C&&(n.C=Dt(x(n.Za,n),6e3));if(1>=vn(n.h)&&n.ca){try{n.ca()}catch{}n.ca=void 0}}else dt(n,11)}else if((t.K||n.g==t)&&re(n),!Q(e))for(p=n.Da.g.parse(e),e=0;e<p.length;e++){let R=p[e];if(n.T=R[0],R=R[1],n.G==2)if(R[0]=="c"){n.K=R[1],n.ia=R[2];const V=R[3];V!=null&&(n.la=V,n.j.info("VER="+n.la));const H=R[4];H!=null&&(n.Aa=H,n.j.info("SVER="+n.Aa));const wt=R[5];wt!=null&&typeof wt=="number"&&0<wt&&(s=1.5*wt,n.L=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const J=t.g;if(J){const se=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var y=s.h;y.g||se.indexOf("spdy")==-1&&se.indexOf("quic")==-1&&se.indexOf("h2")==-1||(y.j=y.l,y.g=new Set,y.h&&(Pe(y,y.h),y.h=null))}if(s.D){const Le=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(s.ya=Le,N(s.I,s.D,Le))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms")),s=n;var E=t;if(s.qa=qn(s,s.J?s.ia:null,s.W),E.K){wn(s.h,E);var D=E,M=s.L;M&&(D.I=M),D.B&&(Ce(D),Yt(D)),s.g=E}else Fn(s);0<n.i.length&&ie(n)}else R[0]!="stop"&&R[0]!="close"||dt(n,7);else n.G==3&&(R[0]=="stop"||R[0]=="close"?R[0]=="stop"?dt(n,7):je(n):R[0]!="noop"&&n.l&&n.l.ta(R),n.v=0)}}bt(4)}catch{}}var hr=class{constructor(t,e){this.g=t,this.map=e}};function mn(t){this.l=t||10,_.PerformanceNavigationTiming?(t=_.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vn(t){return t.h?1:t.g?t.g.size:0}function xe(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Pe(t,e){t.g?t.g.add(e):t.h=e}function wn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}mn.prototype.cancel=function(){if(this.i=_n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function _n(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return L(t.i)}function lr(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(T(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function ur(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(T(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function En(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(T(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ur(t),s=lr(t),p=s.length,y=0;y<p;y++)e.call(void 0,s[y],n&&n[y],t)}var Tn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cr(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),p=null;if(0<=s){var y=t[n].substring(0,s);p=t[n].substring(s+1)}else y=t[n];e(y,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ft(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof ft){this.h=t.h,Kt(this,t.j),this.o=t.o,this.g=t.g,Jt(this,t.s),this.l=t.l;var e=t.i,n=new Ot;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),An(this,n),this.m=t.m}else t&&(e=String(t).match(Tn))?(this.h=!1,Kt(this,e[1]||"",!0),this.o=xt(e[2]||""),this.g=xt(e[3]||"",!0),Jt(this,e[4]),this.l=xt(e[5]||"",!0),An(this,e[6]||"",!0),this.m=xt(e[7]||"")):(this.h=!1,this.i=new Ot(null,this.h))}ft.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Pt(e,Sn,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.o)&&t.push(Pt(e,Sn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.s,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Pt(n,n.charAt(0)=="/"?pr:dr,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",Pt(n,mr)),t.join("")};function nt(t){return new ft(t)}function Kt(t,e,n){t.j=n?xt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function An(t,e,n){e instanceof Ot?(t.i=e,yr(t.i,t.h)):(n||(e=Pt(e,gr)),t.i=new Ot(e,t.h))}function N(t,e,n){t.i.set(e,n)}function Zt(t){return N(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Pt(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,fr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fr(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Sn=/[#\/\?@]/g,dr=/[#\?:]/g,pr=/[#\?]/g,gr=/[#\?@]/g,mr=/#/g;function Ot(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ht(t){t.g||(t.g=new Map,t.h=0,t.i&&cr(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}i=Ot.prototype,i.add=function(t,e){ht(this),this.i=null,t=yt(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function In(t,e){ht(t),e=yt(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Rn(t,e){return ht(t),e=yt(t,e),t.g.has(e)}i.forEach=function(t,e){ht(this),this.g.forEach(function(n,s){n.forEach(function(p){t.call(e,p,s,this)},this)},this)},i.na=function(){ht(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const p=t[s];for(let y=0;y<p.length;y++)n.push(e[s])}return n},i.V=function(t){ht(this);let e=[];if(typeof t=="string")Rn(this,t)&&(e=e.concat(this.g.get(yt(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},i.set=function(t,e){return ht(this),this.i=null,t=yt(this,t),Rn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t?(t=this.V(t),0<t.length?String(t[0]):e):e};function bn(t,e,n){In(t,e),0<n.length&&(t.i=null,t.g.set(yt(t,e),L(n)),t.h+=n.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const y=encodeURIComponent(String(s)),E=this.V(s);for(s=0;s<E.length;s++){var p=y;E[s]!==""&&(p+="="+encodeURIComponent(String(E[s]))),t.push(p)}}return this.i=t.join("&")};function yt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yr(t,e){e&&!t.j&&(ht(t),t.i=null,t.g.forEach(function(n,s){var p=s.toLowerCase();s!=p&&(In(this,s),bn(this,p,n))},t)),t.j=e}function vr(t,e){const n=new Ct;if(_.Image){const s=new Image;s.onload=z(lt,n,"TestLoadImage: loaded",!0,e,s),s.onerror=z(lt,n,"TestLoadImage: error",!1,e,s),s.onabort=z(lt,n,"TestLoadImage: abort",!1,e,s),s.ontimeout=z(lt,n,"TestLoadImage: timeout",!1,e,s),_.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function wr(t,e){const n=new Ct,s=new AbortController,p=setTimeout(()=>{s.abort(),lt(n,"TestPingServer: timeout",!1,e)},1e4);fetch(t,{signal:s.signal}).then(y=>{clearTimeout(p),y.ok?lt(n,"TestPingServer: ok",!0,e):lt(n,"TestPingServer: server error",!1,e)}).catch(()=>{clearTimeout(p),lt(n,"TestPingServer: error",!1,e)})}function lt(t,e,n,s,p){try{p&&(p.onload=null,p.onerror=null,p.onabort=null,p.ontimeout=null),s(n)}catch{}}function _r(){this.g=new tr}function Er(t,e,n){const s=n||"";try{En(t,function(p,y){let E=p;S(p)&&(E=_e(p)),e.push(s+y+"="+encodeURIComponent(E))})}catch(p){throw e.push(s+"type="+encodeURIComponent("_badmap")),p}}function Qt(t){this.l=t.Ub||null,this.j=t.eb||!1}b(Qt,Ee),Qt.prototype.g=function(){return new te(this.l,this.j)},Qt.prototype.i=function(t){return function(){return t}}({});function te(t,e){F.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(te,F),i=te.prototype,i.open=function(t,e){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,kt(this)},i.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||_).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jt(this)),this.readyState=0},i.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kt(this)),this.g&&(this.readyState=3,kt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dn(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dn(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}i.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?jt(this):kt(this),this.readyState==3&&Dn(this)}},i.Ra=function(t){this.g&&(this.response=this.responseText=t,jt(this))},i.Qa=function(t){this.g&&(this.response=t,jt(this))},i.ga=function(){this.g&&jt(this)};function jt(t){t.readyState=4,t.l=null,t.j=null,t.v=null,kt(t)}i.setRequestHeader=function(t,e){this.u.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(te.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function Cn(t){let e="";return tt(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Oe(t,e,n){t:{for(s in n){var s=!1;break t}s=!0}s||(n=Cn(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):N(t,e,n))}function O(t){F.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(O,F);var Tr=/^https?$/i,Ar=["POST","PUT"];i=O.prototype,i.Ha=function(t){this.J=t},i.ea=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Re.g(),this.v=this.o?on(this.o):on(Re),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(y){Nn(this,y);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var p in s)n.set(p,s[p]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const y of s.keys())n.set(y,s.get(y));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(y=>y.toLowerCase()=="content-type"),p=_.FormData&&t instanceof _.FormData,!(0<=Array.prototype.indexOf.call(Ar,e,void 0))||s||p||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[y,E]of n)this.g.setRequestHeader(y,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{On(this),this.u=!0,this.g.send(t),this.u=!1}catch(y){Nn(this,y)}};function Nn(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,xn(t),ee(t)}function xn(t){t.A||(t.A=!0,$(t,"complete"),$(t,"error"))}i.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,$(this,"complete"),$(this,"abort"),ee(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ee(this,!0)),O.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Pn(this):this.bb())},i.bb=function(){Pn(this)};function Pn(t){if(t.h&&typeof w<"u"&&(!t.v[1]||it(t)!=4||t.Z()!=2)){if(t.u&&it(t)==4)en(t.Ea,0,t);else if($(t,"readystatechange"),it(t)==4){t.h=!1;try{const E=t.Z();t:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=E===0){var p=String(t.D).match(Tn)[1]||null;!p&&_.self&&_.self.location&&(p=_.self.location.protocol.slice(0,-1)),s=!Tr.test(p?p.toLowerCase():"")}n=s}if(n)$(t,"complete"),$(t,"success");else{t.m=6;try{var y=2<it(t)?t.g.statusText:""}catch{y=""}t.l=y+" ["+t.Z()+"]",xn(t)}}finally{ee(t)}}}}function ee(t,e){if(t.g){On(t);const n=t.g,s=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||$(t,"ready");try{n.onreadystatechange=s}catch{}}}function On(t){t.I&&(_.clearTimeout(t.I),t.I=null)}i.isActive=function(){return!!this.g};function it(t){return t.g?t.g.readyState:0}i.Z=function(){try{return 2<it(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Qi(e)}};function jn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Sr(t){const e={};t=(t.g&&2<=it(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(Q(t[s]))continue;var n=f(t[s]);const p=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const y=e[p]||[];e[p]=y,y.push(n)}d(e,function(s){return s.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mt(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kn(t){this.Aa=0,this.i=[],this.j=new Ct,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mt("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mt("baseRetryDelayMs",5e3,t),this.cb=Mt("retryDelaySeedMs",1e4,t),this.Wa=Mt("forwardChannelMaxRetries",2,t),this.wa=Mt("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new mn(t&&t.concurrentRequestLimit),this.Da=new _r,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=kn.prototype,i.la=8,i.G=1,i.connect=function(t,e,n,s){q(0),this.W=t,this.H=e||{},n&&s!==void 0&&(this.H.OSID=n,this.H.OAID=s),this.F=this.X,this.I=qn(this,null,this.W),ie(this)};function je(t){if(Mn(t),t.G==3){var e=t.U++,n=nt(t.I);if(N(n,"SID",t.K),N(n,"RID",e),N(n,"TYPE","terminate"),Lt(t,n),e=new at(t,t.j,e),e.L=2,e.v=Zt(nt(n)),n=!1,_.navigator&&_.navigator.sendBeacon)try{n=_.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&_.Image&&(new Image().src=e.v,n=!0),n||(e.g=Gn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Yt(e)}$n(t)}function ne(t){t.g&&(Me(t),t.g.cancel(),t.g=null)}function Mn(t){ne(t),t.u&&(_.clearTimeout(t.u),t.u=null),re(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&_.clearTimeout(t.s),t.s=null)}function ie(t){if(!yn(t.h)&&!t.s){t.s=!0;var e=t.Ga;Tt||Ke(),At||(Tt(),At=!0),fe.add(e,t),t.B=0}}function Ir(t,e){return vn(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=Dt(x(t.Ga,t,e),Un(t,t.B)),t.B++,!0)}i.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const p=new at(this,this.j,t);let y=this.o;if(this.S&&(y?(y=a(y),c(y,this.S)):y=this.S),this.m!==null||this.O||(p.H=y,y=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){e:{var s=this.i[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break e}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break t}if(e===4096||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=Bn(this,p,e),n=nt(this.I),N(n,"RID",t),N(n,"CVER",22),this.D&&N(n,"X-HTTP-Session-Id",this.D),Lt(this,n),y&&(this.O?e="headers="+encodeURIComponent(String(Cn(y)))+"&"+e:this.m&&Oe(n,this.m,y)),Pe(this.h,p),this.Ua&&N(n,"TYPE","init"),this.P?(N(n,"$req",e),N(n,"SID","null"),p.T=!0,De(p,n,null)):De(p,n,e),this.G=2}}else this.G==3&&(t?Ln(this,t):this.i.length==0||yn(this.h)||Ln(this))};function Ln(t,e){var n;e?n=e.l:n=t.U++;const s=nt(t.I);N(s,"SID",t.K),N(s,"RID",n),N(s,"AID",t.T),Lt(t,s),t.m&&t.o&&Oe(s,t.m,t.o),n=new at(t,t.j,n,t.B+1),t.m===null&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=Bn(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Pe(t.h,n),De(n,s,e)}function Lt(t,e){t.H&&tt(t.H,function(n,s){N(e,s,n)}),t.l&&En({},function(n,s){N(e,s,n)})}function Bn(t,e,n){n=Math.min(t.i.length,n);var s=t.l?x(t.l.Na,t.l,t):null;t:{var p=t.i;let y=-1;for(;;){const E=["count="+n];y==-1?0<n?(y=p[0].g,E.push("ofs="+y)):y=0:E.push("ofs="+y);let D=!0;for(let M=0;M<n;M++){let R=p[M].g;const V=p[M].map;if(R-=y,0>R)y=Math.max(0,p[M].g-100),D=!1;else try{Er(V,E,"req"+R+"_")}catch{s&&s(V)}}if(D){s=E.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,s}function Fn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;Tt||Ke(),At||(Tt(),At=!0),fe.add(e,t),t.v=0}}function ke(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=Dt(x(t.Fa,t),Un(t,t.v)),t.v++,!0)}i.Fa=function(){if(this.u=null,Vn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Dt(x(this.ab,this),t)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,q(10),ne(this),Vn(this))};function Me(t){t.A!=null&&(_.clearTimeout(t.A),t.A=null)}function Vn(t){t.g=new at(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var e=nt(t.qa);N(e,"RID","rpc"),N(e,"SID",t.K),N(e,"AID",t.T),N(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&N(e,"TO",t.ja),N(e,"TYPE","xmlhttp"),Lt(t,e),t.m&&t.o&&Oe(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=Zt(nt(e)),n.m=null,n.P=!0,dn(n,t)}i.Za=function(){this.C!=null&&(this.C=null,ne(this),ke(this),q(19))};function re(t){t.C!=null&&(_.clearTimeout(t.C),t.C=null)}function Hn(t,e){var n=null;if(t.g==e){re(t),Me(t),t.g=null;var s=2}else if(xe(t.h,e))n=e.D,wn(t.h,e),s=1;else return;if(t.G!=0){if(e.o)if(s==1){n=e.m?e.m.length:0,e=Date.now()-e.F;var p=t.B;s=Se(),$(s,new un(s,n)),ie(t)}else Fn(t);else if(p=e.s,p==3||p==0&&0<e.X||!(s==1&&Ir(t,e)||s==2&&ke(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),p){case 1:dt(t,5);break;case 4:dt(t,10);break;case 3:dt(t,6);break;default:dt(t,2)}}}function Un(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function dt(t,e){if(t.j.info("Error code "+e),e==2){var n=x(t.fb,t),s=t.Xa;const p=!s;s=new ft(s||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||Kt(s,"https"),Zt(s),p?vr(s.toString(),n):wr(s.toString(),n)}else q(2);t.G=0,t.l&&t.l.sa(e),$n(t),Mn(t)}i.fb=function(t){t?(this.j.info("Successfully pinged google.com"),q(2)):(this.j.info("Failed to ping google.com"),q(1))};function $n(t){if(t.G=0,t.ka=[],t.l){const e=_n(t.h);(e.length!=0||t.i.length!=0)&&(j(t.ka,e),j(t.ka,t.i),t.h.i.length=0,L(t.i),t.i.length=0),t.l.ra()}}function qn(t,e,n){var s=n instanceof ft?nt(n):new ft(n);if(s.g!="")e&&(s.g=e+"."+s.g),Jt(s,s.s);else{var p=_.location;s=p.protocol,e=e?e+"."+p.hostname:p.hostname,p=+p.port;var y=new ft(null);s&&Kt(y,s),e&&(y.g=e),p&&Jt(y,p),n&&(y.l=n),s=y}return n=t.D,e=t.ya,n&&e&&N(s,n,e),N(s,"VER",t.la),Lt(t,s),s}function Gn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ca&&!t.pa?new O(new Qt({eb:n})):new O(t.pa),e.Ha(t.J),e}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xn(){}i=Xn.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function K(t,e){F.call(this),this.g=new kn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!Q(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Q(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vt(this)}b(K,F),K.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},K.prototype.close=function(){je(this.g)},K.prototype.o=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.u&&(n={},n.__data__=_e(t),t=n);e.i.push(new hr(e.Ya++,t)),e.G==3&&ie(e)},K.prototype.N=function(){this.g.l=null,delete this.j,je(this.g),delete this.g,K.aa.N.call(this)};function Wn(t){Te.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}b(Wn,Te);function zn(){Ae.call(this),this.status=1}b(zn,Ae);function vt(t){this.g=t}b(vt,Xn),vt.prototype.ua=function(){$(this.g,"a")},vt.prototype.ta=function(t){$(this.g,new Wn(t))},vt.prototype.sa=function(t){$(this.g,new zn)},vt.prototype.ra=function(){$(this.g,"b")},K.prototype.send=K.prototype.o,K.prototype.open=K.prototype.m,K.prototype.close=K.prototype.close,Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,or.COMPLETE="complete",er.EventType=Rt,Rt.OPEN="a",Rt.CLOSE="b",Rt.ERROR="c",Rt.MESSAGE="d",F.prototype.listen=F.prototype.K,O.prototype.listenOnce=O.prototype.L,O.prototype.getLastError=O.prototype.Ka,O.prototype.getLastErrorCode=O.prototype.Ba,O.prototype.getStatus=O.prototype.Z,O.prototype.getResponseJson=O.prototype.Oa,O.prototype.getResponseText=O.prototype.oa,O.prototype.send=O.prototype.ea,O.prototype.setWithCredentials=O.prototype.Ha}).apply(typeof oe<"u"?oe:typeof self<"u"?self:typeof window<"u"?window:{});const si="@firebase/firestore",oi="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(r){this.uid=r}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}W.UNAUTHENTICATED=new W(null),W.GOOGLE_CREDENTIALS=new W("google-credentials-uid"),W.FIRST_PARTY=new W("first-party-uid"),W.MOCK_USER=new W("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ce="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le=new Di("@firebase/firestore");function Z(i,...r){if(le.logLevel<=C.DEBUG){const o=r.map(ki);le.debug(`Firestore (${ce}): ${i}`,...o)}}function ji(i,...r){if(le.logLevel<=C.ERROR){const o=r.map(ki);le.error(`Firestore (${ce}): ${i}`,...o)}}function ki(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(o){return JSON.stringify(o)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(i,r,o){let u="Unexpected state";typeof r=="string"?u=r:o=r,Mi(i,u,o)}function Mi(i,r,o){let u=`FIRESTORE (${ce}) INTERNAL ASSERTION FAILED: ${r} (ID: ${i.toString(16)})`;if(o!==void 0)try{u+=" CONTEXT: "+JSON.stringify(o)}catch{u+=" CONTEXT: "+o}throw ji(u),new Error(u)}function Ft(i,r,o,u){let g="Unexpected state";typeof o=="string"?g=o:u=o,i||Mi(r,g,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class X extends _t{constructor(r,o){super(r,o),this.code=r,this.message=o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(){this.promise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(r,o){this.user=o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${r}`)}}class qs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,o){r.enqueueRetryable(()=>o(W.UNAUTHENTICATED))}shutdown(){}}class Gs{constructor(r){this.t=r,this.currentUser=W.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,o){Ft(this.o===void 0,42304);let u=this.i;const g=T=>this.i!==u?(u=this.i,o(T)):Promise.resolve();let v=new Vt;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Vt,r.enqueueRetryable(()=>g(this.currentUser))};const w=()=>{const T=v;r.enqueueRetryable(async()=>{await T.promise,await g(this.currentUser)})},_=T=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.o&&(this.auth.addAuthTokenListener(this.o),w())};this.t.onInit(T=>_(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?_(T):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Vt)}},0),w()}getToken(){const r=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(u=>this.i!==r?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(Ft(typeof u.accessToken=="string",31837,{l:u}),new $s(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const r=this.auth&&this.auth.getUid();return Ft(r===null||typeof r=="string",2055,{h:r}),new W(r)}}class Xs{constructor(r,o,u){this.P=r,this.T=o,this.I=u,this.type="FirstParty",this.user=W.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const r=this.R();return r&&this.A.set("Authorization",r),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ws{constructor(r,o,u){this.P=r,this.T=o,this.I=u}getToken(){return Promise.resolve(new Xs(this.P,this.T,this.I))}start(r,o){r.enqueueRetryable(()=>o(W.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ai{constructor(r){this.value=r,this.type="AppCheck",this.headers=new Map,r&&r.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zs{constructor(r,o){this.V=o,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(r)&&r.settings.appCheckToken&&(this.p=r.settings.appCheckToken)}start(r,o){Ft(this.o===void 0,3512);const u=v=>{v.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const w=v.token!==this.m;return this.m=v.token,Z("FirebaseAppCheckTokenProvider",`Received ${w?"new":"existing"} token.`),w?o(v.token):Promise.resolve()};this.o=v=>{r.enqueueRetryable(()=>u(v))};const g=v=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(v=>g(v)),setTimeout(()=>{if(!this.appCheck){const v=this.V.getImmediate({optional:!0});v?g(v):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ai(this.p));const r=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(r).then(o=>o?(Ft(typeof o.token=="string",44558,{tokenResult:o}),this.m=o.token,new ai(o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hi(i,r){return i<r?-1:i>r?1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=-62135596800,ui=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(r){return Ht.fromMillis(r.getTime())}static fromMillis(r){const o=Math.floor(r/1e3),u=Math.floor((r-1e3*o)*ui);return new Ht(o,u)}constructor(r,o){if(this.seconds=r,this.nanoseconds=o,o<0)throw new X(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new X(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(r<li)throw new X(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new X(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ui}_compareTo(r){return this.seconds===r.seconds?hi(this.nanoseconds,r.nanoseconds):hi(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const r=this.seconds-li;return String(r).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}function Ys(i){return i.name==="IndexedDbTransactionError"}const ci="(default)";class ue{constructor(r,o){this.projectId=r,this.database=o||ci}static empty(){return new ue("","")}get isDefaultDatabase(){return this.database===ci}isEqual(r){return r instanceof ue&&r.projectId===this.projectId&&r.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi,I;(I=fi||(fi={}))[I.OK=0]="OK",I[I.CANCELLED=1]="CANCELLED",I[I.UNKNOWN=2]="UNKNOWN",I[I.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",I[I.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",I[I.NOT_FOUND=5]="NOT_FOUND",I[I.ALREADY_EXISTS=6]="ALREADY_EXISTS",I[I.PERMISSION_DENIED=7]="PERMISSION_DENIED",I[I.UNAUTHENTICATED=16]="UNAUTHENTICATED",I[I.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",I[I.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",I[I.ABORTED=10]="ABORTED",I[I.OUT_OF_RANGE=11]="OUT_OF_RANGE",I[I.UNIMPLEMENTED=12]="UNIMPLEMENTED",I[I.INTERNAL=13]="INTERNAL",I[I.UNAVAILABLE=14]="UNAVAILABLE",I[I.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Oi([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=1048576;function Ue(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(r,o,u=1e3,g=1.5,v=6e4){this.xi=r,this.timerId=o,this.A_=u,this.R_=g,this.V_=v,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(r){this.cancel();const o=Math.floor(this.m_+this.w_()),u=Math.max(0,Date.now()-this.g_),g=Math.max(0,o-u);g>0&&Z("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this.m_} ms, delay with jitter: ${o} ms, last attempt: ${u} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,g,()=>(this.g_=Date.now(),r())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(r,o,u,g,v){this.asyncQueue=r,this.timerId=o,this.targetTimeMs=u,this.op=g,this.removalCallback=v,this.deferred=new Vt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}get promise(){return this.deferred.promise}static createAndSchedule(r,o,u,g,v){const w=Date.now()+u,_=new Ye(r,o,w,g,v);return _.start(u),_}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(G.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var di,pi;(pi=di||(di={})).xa="default",pi.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(i){const r={};return i.timeoutSeconds!==void 0&&(r.timeoutSeconds=i.timeoutSeconds),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new Map;function to(i,r,o,u){if(r===!0&&u===!0)throw new X(G.INVALID_ARGUMENT,`${i} and ${o} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="firestore.googleapis.com",mi=!0;class yi{constructor(r){var o,u;if(r.host===void 0){if(r.ssl!==void 0)throw new X(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eo,this.ssl=mi}else this.host=r.host,this.ssl=(o=r.ssl)!==null&&o!==void 0?o:mi;if(this.isUsingEmulator=r.emulatorOptions!==void 0,this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,this.localCache=r.localCache,r.cacheSizeBytes===void 0)this.cacheSizeBytes=Ks;else{if(r.cacheSizeBytes!==-1&&r.cacheSizeBytes<Js)throw new X(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}to("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:r.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qs((u=r.experimentalLongPollingOptions)!==null&&u!==void 0?u:{}),function(v){if(v.timeoutSeconds!==void 0){if(isNaN(v.timeoutSeconds))throw new X(G.INVALID_ARGUMENT,`invalid long polling timeout: ${v.timeoutSeconds} (must not be NaN)`);if(v.timeoutSeconds<5)throw new X(G.INVALID_ARGUMENT,`invalid long polling timeout: ${v.timeoutSeconds} (minimum allowed value is 5)`);if(v.timeoutSeconds>30)throw new X(G.INVALID_ARGUMENT,`invalid long polling timeout: ${v.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!r.useFetchStreams}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&function(u,g){return u.timeoutSeconds===g.timeoutSeconds}(this.experimentalLongPollingOptions,r.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class no{constructor(r,o,u,g){this._authCredentials=r,this._appCheckCredentials=o,this._databaseId=u,this._app=g,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yi({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(r){if(this._settingsFrozen)throw new X(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yi(r),this._emulatorOptions=r.emulatorOptions||{},r.credentials!==void 0&&(this._authCredentials=function(u){if(!u)return new qs;switch(u.type){case"firstParty":return new Ws(u.sessionIndex||"0",u.iamToken||null,u.authTokenFactory||null);case"provider":return u.client;default:throw new X(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(o){const u=gi.get(o);u&&(Z("ComponentProvider","Removing Datastore"),gi.delete(o),u.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi="AsyncQueue";class wi{constructor(r=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Zs(this,"async_queue_retry"),this.rc=()=>{const u=Ue();u&&Z(vi,"Visibility state changed to "+u.visibilityState),this.x_.b_()},this.sc=r;const o=Ue();o&&typeof o.addEventListener=="function"&&o.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.oc(),this._c(r)}enterRestrictedMode(r){if(!this.Yu){this.Yu=!0,this.tc=r||!1;const o=Ue();o&&typeof o.removeEventListener=="function"&&o.removeEventListener("visibilitychange",this.rc)}}enqueue(r){if(this.oc(),this.Yu)return new Promise(()=>{});const o=new Vt;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(r().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.Ju.push(r),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(r){if(!Ys(r))throw r;Z(vi,"Operation failed with retryable error: "+r)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(r){const o=this.sc.then(()=>(this.ec=!0,r().catch(u=>{throw this.Xu=u,this.ec=!1,ji("INTERNAL UNHANDLED ERROR: ",_i(u)),u}).then(u=>(this.ec=!1,u))));return this.sc=o,o}enqueueAfterDelay(r,o,u){this.oc(),this.nc.indexOf(r)>-1&&(o=0);const g=Ye.createAndSchedule(this,r,o,u,v=>this.uc(v));return this.Zu.push(g),g}oc(){this.Xu&&Us(47125,{cc:_i(this.Xu)})}verifyOperationInProgress(){}async lc(){let r;do r=this.sc,await r;while(r!==this.sc)}hc(r){for(const o of this.Zu)if(o.timerId===r)return!0;return!1}Pc(r){return this.lc().then(()=>{this.Zu.sort((o,u)=>o.targetTimeMs-u.targetTimeMs);for(const o of this.Zu)if(o.skipDelay(),r!=="all"&&o.timerId===r)break;return this.lc()})}Tc(r){this.nc.push(r)}uc(r){const o=this.Zu.indexOf(r);this.Zu.splice(o,1)}}function _i(i){let r=i.message||"";return i.stack&&(r=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),r}class io extends no{constructor(r,o,u,g){super(r,o,u,g),this.type="firestore",this._queue=new wi,this._persistenceKey=(g==null?void 0:g.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const r=this._firestoreClient.terminate();this._queue=new wi(r),this._firestoreClient=void 0,await r}}}(function(r,o=!0){(function(g){ce=g})(xs),he(new ae("firestore",(u,{instanceIdentifier:g,options:v})=>{const w=u.getProvider("app").getImmediate(),_=new io(new Gs(u.getProvider("auth-internal")),new zs(w,u.getProvider("app-check-internal")),function(S,P){if(!Object.prototype.hasOwnProperty.apply(S.options,["projectId"]))throw new X(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ue(S.options.projectId,P)}(w,g),w);return v=Object.assign({useFetchStreams:o},v),_._setSettings(v),_},"PUBLIC").setMultipleInstances(!0)),Bt(si,oi,r),Bt(si,oi,"esm2017")})();const Li=i=>Ht.fromDate(i),ro=i=>{if(i==="")return null;const r=new Date(i);return Li(r)},so=i=>i?i.toDate().toISOString().slice(0,16):"",oo=i=>{if(!i)return null;const r=i.toDate(),o=r.getFullYear(),u=String(r.getMonth()+1).padStart(2,"0"),g=String(r.getDate()).padStart(2,"0"),v=String(r.getHours()).padStart(2,"0"),w=String(r.getMinutes()).padStart(2,"0");return`${o}/${u}/${g}, ${v}:${w}`},Bi=i=>(U.useEffect(()=>{!i.value&&i.initialValue&&i.onInputChange(i.id,Li(i.initialValue))},[i.value]),A.jsxs("div",{className:"input","data-hasvalue":i.value&&i.value!="",children:[A.jsx("label",{htmlFor:i.id,children:i.id}),A.jsx("input",{className:"input-text",name:i.id,type:"datetime-local",value:so(i.value),onChange:r=>i.onInputChange(i.id,ro(r.target.value))})]}));Bi.__docgenInfo={description:"",methods:[],displayName:"DateInput",props:{id:{required:!0,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"any"},description:""},label:{required:!1,tsType:{name:"boolean"},description:""},onInputChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string, value: any) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:""},initialValue:{required:!0,tsType:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]},description:""}}};const ao=({anchorRef:i,visible:r,children:o})=>{const u=U.useRef(null);return U.useEffect(()=>{const g=u.current,v=i.current;function w(){if(g&&v){const _=v.getBoundingClientRect(),T=window.scrollY||document.documentElement.scrollTop,S=window.scrollX||document.documentElement.scrollLeft;g.style.position="absolute",g.style.top=`${_.bottom+T}px`,g.style.left=`${_.left+S}px`,g.style.width=`${_.width}px`}}return w(),window.addEventListener("scroll",w,!0),window.addEventListener("resize",w),()=>{window.removeEventListener("scroll",w,!0),window.removeEventListener("resize",w)}},[i,r]),r?Rr.createPortal(A.jsx("div",{ref:u,className:"popup",children:o}),document.body):null},Fi=()=>A.jsx("div",{className:"icon-container",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%",children:A.jsx("path",{d:"M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"})})});Fi.__docgenInfo={description:"",methods:[],displayName:"ChevronDownIcon"};const Vi=i=>{const[r,o]=U.useState(!1),u=U.useRef(null),g=(v,w)=>{o(!1),i.onInputChange(v,w)};return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"input","data-hasvalue":i.value&&i.value!=""||r,onClick:()=>o(!r),ref:u,children:[A.jsx("label",{htmlFor:i.id,children:i.id}),A.jsxs("div",{className:"input-select",children:[A.jsx("input",{name:i.id,type:"text",value:i.value?i.value:"",readOnly:!0,required:!0}),A.jsx("button",{className:"button action-button",children:r?A.jsx(Xe,{}):A.jsx(Fi,{})})]})]}),u&&A.jsx(ao,{anchorRef:u,visible:r,children:i.options&&i.options.map(v=>A.jsx("div",{className:"input-select__option",onClick:()=>g(i.id,v.value),children:v.title},v.title))})]})};Vi.__docgenInfo={description:"",methods:[],displayName:"SelectInput",props:{id:{required:!0,tsType:{name:"string"},description:""},value:{required:!0,tsType:{name:"any"},description:""},label:{required:!1,tsType:{name:"boolean"},description:""},onInputChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string, value: any) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"any"},name:"value"}],return:{name:"void"}}},description:""},initialValue:{required:!0,tsType:{name:"union",raw:"any | undefined",elements:[{name:"any"},{name:"undefined"}]},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ id: any; value: any; title: string }",signature:{properties:[{key:"id",value:{name:"any",required:!0}},{key:"value",value:{name:"any",required:!0}},{key:"title",value:{name:"string",required:!0}}]}}],raw:"Array<{ id: any; value: any; title: string }>"},description:""}}};const ho={text:Ai,number:Si,select:Vi,datetime:Bi},lo=(i,r)=>r==="datetime"?oo(i):i,Hi=i=>{const[r,o]=U.useState({}),u=i.controlledFormData&&i.controlledSetFormData?i.controlledFormData:r,g=i.controlledFormData&&i.controlledSetFormData?i.controlledSetFormData:o,v=(_,T)=>{g(S=>{const P={...S};return T==null?delete P[_]:P[_]=typeof T=="string"?T.toLowerCase():T,P}),i.handleInputChange&&i.handleInputChange(_,T)},w=_=>{_.preventDefault(),i.onSubmit&&(i.onSubmit(u),g({}),i.postSubmit&&i.postSubmit())};return A.jsx("div",{className:"input-form",children:A.jsxs("form",{className:"input-form__form",onSubmit:w,autoComplete:"off",children:[Object.entries(i.fields).sort(([_,{order:T}],[S,{order:P}])=>T&&P?T-P:0).map(([_,T])=>{const S=ho[T.type],P=T.type=="select"&&i.data&&T.datasource?i.data[T.datasource]:null;return console.log("input form",T),A.jsx(S,{id:_,onInputChange:v,options:P,initialValue:T.initialValue&&T.type=="datetime"?new Date:void 0,value:u[_]},_)}),i.onSubmit&&A.jsx("button",{type:"submit",className:"button input-form__form-submit-button",children:"Submit"})]})})};Hi.__docgenInfo={description:"",methods:[],displayName:"InputForm",props:{data:{required:!1,tsType:{name:"WidgetDatasourceResponse",elements:[{name:"unknown"}],raw:"WidgetDatasourceResponse<unknown>"},description:""},fields:{required:!0,tsType:{name:"signature",type:"object",raw:"{ [field: string]: InputField }",signature:{properties:[{key:{name:"string"},value:{name:"InputField",required:!0}}]}},description:""},onSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: { [field: string]: any }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ [field: string]: any }",signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}},name:"data"}],return:{name:"void"}}},description:""},handleInputChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string, value: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"},{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},postSubmit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},controlledFormData:{required:!1,tsType:{name:"signature",type:"object",raw:"{ [field: string]: any }",signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}},description:""},controlledSetFormData:{required:!1,tsType:{name:"ReactDispatch",raw:`React.Dispatch<
	React.SetStateAction<{
		[field: string]: any;
	}>
>`,elements:[{name:"ReactSetStateAction",raw:`React.SetStateAction<{
	[field: string]: any;
}>`,elements:[{name:"signature",type:"object",raw:`{
	[field: string]: any;
}`,signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}}]}]},description:""}}};const Ui=i=>{const r=U.useMemo(()=>i.formData,[JSON.stringify(i.formData)]),o=U.useMemo(()=>i.searchConfig.fields.reduce((u,g,v)=>(u[g.id]={type:g.type,order:v},u),{}),[i.searchConfig.fields]);return console.log("searchform"),U.useEffect(()=>{const u=(v,w)=>v.fieldName?[{field:v.fieldName,operator:v.operator,value:w}]:v.fieldNames?v.fieldNames.map(_=>({field:_,operator:v.operator,value:w})):[],g={where:Object.entries(r).flatMap(([v,w])=>{const _=i.searchConfig.fields.find(T=>T.id===v);return _?u(_,w):[]})};i.onSearch(i.searchConfig.datasourceName,g,i.setError)},[r]),A.jsx(Hi,{data:i.data,fields:o,controlledFormData:r,controlledSetFormData:i.setFormData})};Ui.__docgenInfo={description:"",methods:[],displayName:"SearchForm",props:{data:{required:!0,tsType:{name:"WidgetDatasourceResponse",elements:[{name:"unknown"}],raw:"WidgetDatasourceResponse<unknown>"},description:""},searchConfig:{required:!0,tsType:{name:"SearchConfig"},description:""},onSearch:{required:!0,tsType:{name:"signature",type:"function",raw:`(
	datasourceName: string,
	query: SearchParameters,
	setError?: (err: React.ReactNode[]) => void
) => void`,signature:{arguments:[{type:{name:"string"},name:"datasourceName"},{type:{name:"SearchParameters"},name:"query"},{type:{name:"signature",type:"function",raw:"(err: React.ReactNode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},name:"err"}],return:{name:"void"}}},name:"setError"}],return:{name:"void"}}},description:""},formData:{required:!0,tsType:{name:"signature",type:"object",raw:"{ [field: string]: any }",signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}},description:""},setFormData:{required:!0,tsType:{name:"ReactDispatch",raw:`React.Dispatch<
	React.SetStateAction<{
		[field: string]: any;
	}>
>`,elements:[{name:"ReactSetStateAction",raw:`React.SetStateAction<{
	[field: string]: any;
}>`,elements:[{name:"signature",type:"object",raw:`{
	[field: string]: any;
}`,signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}}]}]},description:""},setError:{required:!1,tsType:{name:"signature",type:"function",raw:"(err: React.ReactNode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},name:"err"}],return:{name:"void"}}},description:""}}};const uo=i=>{const[r,o]=U.useState(!1),[u,g]=U.useState({}),[v,w]=U.useState(),_=()=>(i.onBack||i.search)&&i.expanded&&!r;return U.useEffect(()=>{i.setInfoItems&&(!r&&Object.keys(u).length>0?i.setInfoItems([A.jsx("div",{className:"input-container__info",children:Object.entries(u).map(([T,S])=>{var k;const P=(k=i.search)==null?void 0:k.fields.find(x=>x.id===T);if(P)return A.jsxs("div",{className:"input-container__info-item",children:[A.jsx("span",{className:"input-container__info-item__key",children:T}),A.jsx("span",{className:"input-container__info-item__value",children:lo(S,P.type)})]})})})]):i.setInfoItems(void 0))},[r,u,i.setInfoItems]),U.useEffect(()=>{i.setErrorItems&&(console.log("ERRORS",v),v&&v.length>0?i.setErrorItems(v.map(T=>A.jsx("div",{className:"input-container__error",children:T}))):i.setErrorItems(void 0))},[r,v,i.setInfoItems]),A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"input-container__bar","data-active":_(),children:[i.onBack&&A.jsx("button",{className:"button icon-button input-container__back-button",onClick:i.onBack,children:A.jsx(Ei,{})}),i.title&&A.jsx("span",{className:"input-container__title",children:i.title}),i.expanded&&i.search&&i.onSearch&&A.jsx("button",{className:"button icon-button input-container__search-button",onClick:()=>o(T=>!T),children:r?A.jsx(Xe,{}):A.jsx(Ti,{})})]}),r&&i.search&&i.onSearch&&A.jsx("div",{className:"input-container__search",children:A.jsx(Ui,{data:{},searchConfig:i.search,onSearch:i.onSearch,formData:u,setFormData:g,setError:T=>w(T)})})]})},co=i=>A.jsxs("div",{className:"input-container","data-expanded":i.expanded,"data-active":!!i.onBack,children:[(i.title||i.onBack)&&A.jsx(uo,{...i}),A.jsx("div",{className:"input-container__container",children:A.jsx("div",{className:"input-container__container-items","data-centered":i.centerItemsVeritcally,children:i.children})})]});co.__docgenInfo={description:"",methods:[],displayName:"InputContainer",props:{title:{required:!1,tsType:{name:"string"},description:""},onBack:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},expanded:{required:!1,tsType:{name:"boolean"},description:""},search:{required:!1,tsType:{name:"SearchConfig"},description:""},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:`(
	datasourceName: string,
	query: SearchParameters,
	setError?: (err: React.ReactNode[]) => void
) => void`,signature:{arguments:[{type:{name:"string"},name:"datasourceName"},{type:{name:"SearchParameters"},name:"query"},{type:{name:"signature",type:"function",raw:"(err: React.ReactNode[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},name:"err"}],return:{name:"void"}}},name:"setError"}],return:{name:"void"}}},description:""},centerItemsVeritcally:{required:!1,tsType:{name:"boolean"},description:""},setInfoItems:{required:!1,tsType:{name:"ReactDispatch",raw:`React.Dispatch<
	React.SetStateAction<React.ReactNode[] | undefined>
>`,elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<React.ReactNode[] | undefined>",elements:[{name:"union",raw:"React.ReactNode[] | undefined",elements:[{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},{name:"undefined"}]}]}]},description:""},errorItems:{required:!1,tsType:{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},description:""},setErrorItems:{required:!1,tsType:{name:"ReactDispatch",raw:`React.Dispatch<
	React.SetStateAction<React.ReactNode[] | undefined>
>`,elements:[{name:"ReactSetStateAction",raw:"React.SetStateAction<React.ReactNode[] | undefined>",elements:[{name:"union",raw:"React.ReactNode[] | undefined",elements:[{name:"Array",elements:[{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"React.ReactNode[]"},{name:"undefined"}]}]}]},description:""}},composes:["PropsWithChildren"]};const fo=i=>{const r=U.useRef([]);return U.useEffect(()=>{r.current.forEach(o=>{o&&o.scrollWidth>o.clientWidth&&o.classList.add("scroll-animate")})},[i.options]),A.jsxs(A.Fragment,{children:[i.children,i.options.map((o,u)=>A.jsx("div",{className:"option-selector__option",onClick:()=>i.onSelect?i.onSelect(o):()=>{},ref:g=>{r.current[u]=g},children:i.displayCallback?i.displayCallback(o):o},u))]})};fo.__docgenInfo={description:"",methods:[],displayName:"OptionSelector",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"any"}],raw:"any[]"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: any) => void",signature:{arguments:[{type:{name:"any"},name:"option"}],return:{name:"void"}}},description:""},displayCallback:{required:!1,tsType:{name:"signature",type:"function",raw:"(option: any) => void",signature:{arguments:[{type:{name:"any"},name:"option"}],return:{name:"void"}}},description:""}},composes:["PropsWithChildren"]};export{Hi as I,fo as O,co as a};
