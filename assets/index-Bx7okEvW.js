(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function o1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Im={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function l1(){if(f0)return Ll;f0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var h=null;if(l!==void 0&&(h=""+l),a.key!==void 0&&(h=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:s,key:h,ref:a!==void 0?a:null,props:l}}return Ll.Fragment=e,Ll.jsx=t,Ll.jsxs=t,Ll}var d0;function u1(){return d0||(d0=1,Im.exports=l1()),Im.exports}var We=u1(),Cm={exports:{}},zl={},Om={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function c1(){return m0||(m0=1,function(i){function e(W,le){var me=W.length;W.push(le);e:for(;0<me;){var ze=me-1>>>1,x=W[ze];if(0<a(x,le))W[ze]=le,W[me]=x,me=ze;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],me=W.pop();if(me!==le){W[0]=me;e:for(var ze=0,x=W.length,se=x>>>1;ze<se;){var ue=2*(ze+1)-1,ae=W[ue],ge=ue+1,Ce=W[ge];if(0>a(ae,me))ge<x&&0>a(Ce,ae)?(W[ze]=Ce,W[ge]=me,ze=ge):(W[ze]=ae,W[ue]=me,ze=ue);else if(ge<x&&0>a(Ce,me))W[ze]=Ce,W[ge]=me,ze=ge;else break e}}return le}function a(W,le){var me=W.sortIndex-le.sortIndex;return me!==0?me:W.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,T=null,w=3,A=!1,R=!1,U=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function Y(W){for(var le=t(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=W)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=t(g)}}function ee(W){if(U=!1,Y(W),!R)if(t(p)!==null)R=!0,re||(re=!0,z());else{var le=t(g);le!==null&&at(ee,le.startTime-W)}}var re=!1,O=-1,I=5,C=-1;function N(){return M?!0:!(i.unstable_now()-C<I)}function V(){if(M=!1,re){var W=i.unstable_now();C=W;var le=!0;try{e:{R=!1,U&&(U=!1,H(O),O=-1),A=!0;var me=w;try{t:{for(Y(W),T=t(p);T!==null&&!(T.expirationTime>W&&N());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var x=ze(T.expirationTime<=W);if(W=i.unstable_now(),typeof x=="function"){T.callback=x,Y(W),le=!0;break t}T===t(p)&&s(p),Y(W)}else s(p);T=t(p)}if(T!==null)le=!0;else{var se=t(g);se!==null&&at(ee,se.startTime-W),le=!1}}break e}finally{T=null,w=me,A=!1}le=void 0}}finally{le?z():re=!1}}}var z;if(typeof Q=="function")z=function(){Q(V)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Vt=k.port2;k.port1.onmessage=V,z=function(){Vt.postMessage(null)}}else z=function(){L(V,0)};function at(W,le){O=L(function(){W(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(W){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var me=w;w=le;try{return W()}finally{w=me}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var me=w;w=W;try{return le()}finally{w=me}},i.unstable_scheduleCallback=function(W,le,me){var ze=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,W){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,W={id:_++,callback:le,priorityLevel:W,startTime:me,expirationTime:x,sortIndex:-1},me>ze?(W.sortIndex=me,e(g,W),t(p)===null&&W===t(g)&&(U?(H(O),O=-1):U=!0,at(ee,me-ze))):(W.sortIndex=x,e(p,W),R||A||(R=!0,re||(re=!0,z()))),W},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(W){var le=w;return function(){var me=w;w=le;try{return W.apply(this,arguments)}finally{w=me}}}}(Dm)),Dm}var p0;function h1(){return p0||(p0=1,Om.exports=c1()),Om.exports}var Nm={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function f1(){if(g0)return Ae;g0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=T&&x[T]||x["@@iterator"],typeof x=="function"?x:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,U={};function M(x,se,ue){this.props=x,this.context=se,this.refs=U,this.updater=ue||A}M.prototype.isReactComponent={},M.prototype.setState=function(x,se){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,se,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function L(){}L.prototype=M.prototype;function H(x,se,ue){this.props=x,this.context=se,this.refs=U,this.updater=ue||A}var Q=H.prototype=new L;Q.constructor=H,R(Q,M.prototype),Q.isPureReactComponent=!0;var Y=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function O(x,se,ue,ae,ge,Ce){return ue=Ce.ref,{$$typeof:i,type:x,key:se,ref:ue!==void 0?ue:null,props:Ce}}function I(x,se){return O(x.type,se,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===i}function N(x){var se={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ue){return se[ue]})}var V=/\/+/g;function z(x,se){return typeof x=="object"&&x!==null&&x.key!=null?N(""+x.key):se.toString(36)}function k(){}function Vt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(k,k):(x.status="pending",x.then(function(se){x.status==="pending"&&(x.status="fulfilled",x.value=se)},function(se){x.status==="pending"&&(x.status="rejected",x.reason=se)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function at(x,se,ue,ae,ge){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var we=!1;if(x===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(x.$$typeof){case i:case e:we=!0;break;case _:return we=x._init,at(we(x._payload),se,ue,ae,ge)}}if(we)return ge=ge(x),we=ae===""?"."+z(x,0):ae,Y(ge)?(ue="",we!=null&&(ue=we.replace(V,"$&/")+"/"),at(ge,se,ue,"",function(Qn){return Qn})):ge!=null&&(C(ge)&&(ge=I(ge,ue+(ge.key==null||x&&x.key===ge.key?"":(""+ge.key).replace(V,"$&/")+"/")+we)),se.push(ge)),1;we=0;var Ct=ae===""?".":ae+":";if(Y(x))for(var Ze=0;Ze<x.length;Ze++)ae=x[Ze],Ce=Ct+z(ae,Ze),we+=at(ae,se,ue,Ce,ge);else if(Ze=w(x),typeof Ze=="function")for(x=Ze.call(x),Ze=0;!(ae=x.next()).done;)ae=ae.value,Ce=Ct+z(ae,Ze++),we+=at(ae,se,ue,Ce,ge);else if(Ce==="object"){if(typeof x.then=="function")return at(Vt(x),se,ue,ae,ge);throw se=String(x),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return we}function W(x,se,ue){if(x==null)return x;var ae=[],ge=0;return at(x,ae,"","",function(Ce){return se.call(ue,Ce,ge++)}),ae}function le(x){if(x._status===-1){var se=x._result;se=se(),se.then(function(ue){(x._status===0||x._status===-1)&&(x._status=1,x._result=ue)},function(ue){(x._status===0||x._status===-1)&&(x._status=2,x._result=ue)}),x._status===-1&&(x._status=0,x._result=se)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function ze(){}return Ae.Children={map:W,forEach:function(x,se,ue){W(x,function(){se.apply(this,arguments)},ue)},count:function(x){var se=0;return W(x,function(){se++}),se},toArray:function(x){return W(x,function(se){return se})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ae.Component=M,Ae.Fragment=t,Ae.Profiler=a,Ae.PureComponent=H,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ee.H.useMemoCache(x)}},Ae.cache=function(x){return function(){return x.apply(null,arguments)}},Ae.cloneElement=function(x,se,ue){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ae=R({},x.props),ge=x.key,Ce=void 0;if(se!=null)for(we in se.ref!==void 0&&(Ce=void 0),se.key!==void 0&&(ge=""+se.key),se)!re.call(se,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&se.ref===void 0||(ae[we]=se[we]);var we=arguments.length-2;if(we===1)ae.children=ue;else if(1<we){for(var Ct=Array(we),Ze=0;Ze<we;Ze++)Ct[Ze]=arguments[Ze+2];ae.children=Ct}return O(x.type,ge,void 0,void 0,Ce,ae)},Ae.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:l,_context:x},x},Ae.createElement=function(x,se,ue){var ae,ge={},Ce=null;if(se!=null)for(ae in se.key!==void 0&&(Ce=""+se.key),se)re.call(se,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=se[ae]);var we=arguments.length-2;if(we===1)ge.children=ue;else if(1<we){for(var Ct=Array(we),Ze=0;Ze<we;Ze++)Ct[Ze]=arguments[Ze+2];ge.children=Ct}if(x&&x.defaultProps)for(ae in we=x.defaultProps,we)ge[ae]===void 0&&(ge[ae]=we[ae]);return O(x,Ce,void 0,void 0,null,ge)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(x){return{$$typeof:d,render:x}},Ae.isValidElement=C,Ae.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:le}},Ae.memo=function(x,se){return{$$typeof:g,type:x,compare:se===void 0?null:se}},Ae.startTransition=function(x){var se=ee.T,ue={};ee.T=ue;try{var ae=x(),ge=ee.S;ge!==null&&ge(ue,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ze,me)}catch(Ce){me(Ce)}finally{ee.T=se}},Ae.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Ae.use=function(x){return ee.H.use(x)},Ae.useActionState=function(x,se,ue){return ee.H.useActionState(x,se,ue)},Ae.useCallback=function(x,se){return ee.H.useCallback(x,se)},Ae.useContext=function(x){return ee.H.useContext(x)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(x,se){return ee.H.useDeferredValue(x,se)},Ae.useEffect=function(x,se,ue){var ae=ee.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ae.useEffect(x,se)},Ae.useId=function(){return ee.H.useId()},Ae.useImperativeHandle=function(x,se,ue){return ee.H.useImperativeHandle(x,se,ue)},Ae.useInsertionEffect=function(x,se){return ee.H.useInsertionEffect(x,se)},Ae.useLayoutEffect=function(x,se){return ee.H.useLayoutEffect(x,se)},Ae.useMemo=function(x,se){return ee.H.useMemo(x,se)},Ae.useOptimistic=function(x,se){return ee.H.useOptimistic(x,se)},Ae.useReducer=function(x,se,ue){return ee.H.useReducer(x,se,ue)},Ae.useRef=function(x){return ee.H.useRef(x)},Ae.useState=function(x){return ee.H.useState(x)},Ae.useSyncExternalStore=function(x,se,ue){return ee.H.useSyncExternalStore(x,se,ue)},Ae.useTransition=function(){return ee.H.useTransition()},Ae.version="19.1.0",Ae}var y0;function Yh(){return y0||(y0=1,Nm.exports=f1()),Nm.exports}var km={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _0;function d1(){if(_0)return $t;_0=1;var i=Yh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,_)},$t.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:A}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},$t.useFormStatus=function(){return h.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var v0;function m1(){if(v0)return km.exports;v0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=d1(),km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function p1(){if(E0)return zl;E0=1;var i=h1(),e=Yh(),t=m1();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=l(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,u=r;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),n;if(m===u)return d(f),r;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,b=f.child;b;){if(b===o){E=!0,o=f,u=m;break}if(b===u){E=!0,u=f,o=m;break}b=b.sibling}if(!E){for(b=m.child;b;){if(b===o){E=!0,o=m,u=f;break}if(b===u){E=!0,u=m,o=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=V&&n[V]||n["@@iterator"],typeof n=="function"?n:null)}var k=Symbol.for("react.client.reference");function Vt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===k?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case M:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case Q:return(n.displayName||"Context")+".Provider";case H:return(n._context.displayName||"Context")+".Consumer";case Y:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return r=n.displayName||null,r!==null?r:Vt(n.type)||"Memo";case I:r=n._payload,n=n._init;try{return Vt(n(r))}catch{}}return null}var at=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],x=-1;function se(n){return{current:n}}function ue(n){0>x||(n.current=ze[x],ze[x]=null,x--)}function ae(n,r){x++,ze[x]=n.current,n.current=r}var ge=se(null),Ce=se(null),we=se(null),Ct=se(null);function Ze(n,r){switch(ae(we,r),ae(Ce,n),ae(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?Bv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=Bv(r),n=jv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ue(ge),ae(ge,n)}function Qn(){ue(ge),ue(Ce),ue(we)}function lr(n){n.memoizedState!==null&&ae(Ct,n);var r=ge.current,o=jv(r,n.type);r!==o&&(ae(Ce,n),ae(ge,o))}function Si(n){Ce.current===n&&(ue(ge),ue(Ce)),Ct.current===n&&(ue(Ct),Ml._currentValue=me)}var ss=Object.prototype.hasOwnProperty,as=i.unstable_scheduleCallback,os=i.unstable_cancelCallback,Do=i.unstable_shouldYield,Su=i.unstable_requestPaint,Sn=i.unstable_now,If=i.unstable_getCurrentPriorityLevel,No=i.unstable_ImmediatePriority,aa=i.unstable_UserBlockingPriority,ls=i.unstable_NormalPriority,Cf=i.unstable_LowPriority,oa=i.unstable_IdlePriority,ko=i.log,Au=i.unstable_setDisableYieldValue,ot=null,qe=null;function hn(n){if(typeof ko=="function"&&Au(n),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ot,n)}catch{}}var Kt=Math.clz32?Math.clz32:us,Ru=Math.log,Of=Math.LN2;function us(n){return n>>>=0,n===0?32:31-(Ru(n)/Of|0)|0}var cs=256,hs=4194304;function Bn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function la(n,r,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?f=Bn(u):(E&=b,E!==0?f=Bn(E):o||(o=b&~n,o!==0&&(f=Bn(o))))):(b=u&~m,b!==0?f=Bn(b):E!==0?f=Bn(E):o||(o=u&~n,o!==0&&(f=Bn(o)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,o=r&-r,m>=o||m===32&&(o&4194048)!==0)?r:f}function fs(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Mo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var n=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),n}function Po(){var n=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),n}function Ai(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Ri(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vo(n,r,o,u,f,m){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var b=n.entanglements,D=n.expirationTimes,G=n.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-Kt(o),te=1<<Z;b[Z]=0,D[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var $=K[Z];$!==null&&($.lane&=-536870913)}o&=~te}u!==0&&Wn(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(E&~r))}function Wn(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-Kt(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Uo(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var u=31-Kt(o),f=1<<u;f&r|n[u]&r&&(n[u]|=r),o&=~f}}function ur(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ua(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function cr(){var n=le.p;return n!==0?n:(n=window.event,n===void 0?32:a0(n.type))}function Iu(n,r){var o=le.p;try{return le.p=n,r()}finally{le.p=o}}var tt=Math.random().toString(36).slice(2),Et="__reactFiber$"+tt,mt="__reactProps$"+tt,An="__reactContainer$"+tt,Lo="__reactEvents$"+tt,Df="__reactListeners$"+tt,hr="__reactHandles$"+tt,Cu="__reactResources$"+tt,ds="__reactMarker$"+tt;function fr(n){delete n[Et],delete n[mt],delete n[Lo],delete n[Df],delete n[hr]}function Ii(n){var r=n[Et];if(r)return r;for(var o=n.parentNode;o;){if(r=o[An]||o[Et]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Gv(n);n!==null;){if(o=n[Et])return o;n=Gv(n)}return r}n=o,o=n.parentNode}return null}function Zn(n){if(n=n[Et]||n[An]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function Jn(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function en(n){var r=n[Cu];return r||(r=n[Cu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(n){n[ds]=!0}var zo=new Set,ca={};function jn(n,r){Ci(n,r),Ci(n+"Capture",r)}function Ci(n,r){for(ca[n]=r,n=0;n<r.length;n++)zo.add(r[n])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Du={},ms={};function Nu(n){return ss.call(ms,n)?!0:ss.call(Du,n)?!1:Ou.test(n)?ms[n]=!0:(Du[n]=!0,!1)}function dr(n,r,o){if(Nu(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function ei(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function Ut(n,r,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+u)}}var ps,ku;function Oi(n){if(ps===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);ps=r&&r[1]||"",ku=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+n+ku}var ha=!1;function fa(n,r){if(!n||ha)return"";ha=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var K=$}Reflect.construct(n,[],te)}else{try{te.call()}catch($){K=$}n.call(te.prototype)}}else{try{throw Error()}catch($){K=$}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],b=m[1];if(E&&b){var D=E.split(`
`),G=b.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===G.length)for(u=D.length-1,f=G.length-1;1<=u&&0<=f&&D[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==G[f]){var Z=`
`+D[u].replace(" at new "," at ");return n.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",n.displayName)),Z}while(1<=u&&0<=f);break}}}finally{ha=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Oi(o):""}function Bo(n){switch(n.tag){case 26:case 27:case 5:return Oi(n.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return fa(n.type,!1);case 11:return fa(n.type.render,!1);case 1:return fa(n.type,!0);case 31:return Oi("Activity");default:return""}}function da(n){try{var r="";do r+=Bo(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function tn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nf(n){var r=jo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ma(n){n._valueTracker||(n._valueTracker=Nf(n))}function Ho(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return n&&(u=jo(n)?n.checked?"true":"false":n.value),n=u,n!==o?(r.setValue(n),!0):!1}function gs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var kf=/[\n"\\]/g;function pt(n){return n.replace(kf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fn(n,r,o,u,f,m,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+tn(r)):n.value!==""+tn(r)&&(n.value=""+tn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?mr(n,E,tn(r)):o!=null?mr(n,E,tn(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+tn(b):n.removeAttribute("name")}function ys(n,r,o,u,f,m,E,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;o=o!=null?""+tn(o):"",r=r!=null?""+tn(r):o,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function mr(n,r,o){r==="number"&&gs(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Di(n,r,o,u){if(n=n.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=r.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+tn(o),r=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ke(n,r,o){if(r!=null&&(r=""+tn(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+tn(o):""}function _s(n,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(at(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=tn(r),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Rn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mu(n,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,o):typeof o!="number"||o===0||vs.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function qo(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Mu(n,f,u)}else for(var m in r)r.hasOwnProperty(m)&&Mu(n,m,r[m])}function Fo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(n){return xf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ni=null;function In(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ki=null,Mi=null;function Go(n){var r=Zn(n);if(r&&(n=r.stateNode)){var o=n[mt]||null;e:switch(n=r.stateNode,r.type){case"input":if(fn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==n&&u.form===n.form){var f=u[mt]||null;if(!f)throw Error(s(90));fn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===n.form&&Ho(u)}break e;case"textarea":Ke(n,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&Di(n,!!o.multiple,r,!1)}}}var ti=!1;function xu(n,r,o){if(ti)return n(r,o);ti=!0;try{var u=n(r);return u}finally{if(ti=!1,(ki!==null||Mi!==null)&&(Ic(),ki&&(r=ki,n=Mi,Mi=ki=null,Go(r),n)))for(r=0;r<n.length;r++)Go(n[r])}}function Es(n,r){var o=n.stateNode;if(o===null)return null;var u=o[mt]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Hn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Cn=!1}var ni=null,pr=null,xi=null;function Ko(){if(xi)return xi;var n,r=pr,o=r.length,u,f="value"in ni?ni.value:ni.textContent,m=f.length;for(n=0;n<o&&r[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&r[o-u]===f[m-u];u++);return xi=f.slice(n,1<u?1-u:void 0)}function ii(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function ri(){return!0}function Yo(){return!1}function Ot(n){function r(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(o=n[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ri:Yo,this.isPropagationStopped=Yo,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Ot(je),ws=_({},je,{view:0,detail:0}),Pu=Ot(ws),ya,_a,si,bs=_({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==si&&(si&&n.type==="mousemove"?(ya=n.screenX-si.screenX,_a=n.screenY-si.screenY):_a=ya=0,si=n),ya)},movementY:function(n){return"movementY"in n?n.movementY:_a}}),On=Ot(bs),Vu=_({},bs,{dataTransfer:0}),Pf=Ot(Vu),Ss=_({},ws,{relatedTarget:0}),va=Ot(Ss),$o=_({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Ot($o),Uu=_({},je,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ta=Ot(Uu),Vf=_({},je,{data:0}),Xo=Ot(Vf),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=zu[n])?!!r[n]:!1}function Rs(){return Qo}var Bu=_({},ws,{key:function(n){if(n.key){var r=As[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=ii(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Lu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(n){return n.type==="keypress"?ii(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ii(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wa=Ot(Bu),ju=_({},bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Ot(ju),Pi=_({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Hu=Ot(Pi),qu=_({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Ot(qu),Gu=_({},bs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ba=Ot(Gu),nn=_({},je,{newState:0,oldState:0}),Ku=Ot(nn),Yu=[9,13,27,32],ai=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,v=Hn&&(!ai||c&&8<c&&11>=c),S=" ",j=!1;function X(n,r){switch(n){case"keyup":return Yu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xe=!1;function Tt(n,r){switch(n){case"compositionend":return oe(r);case"keypress":return r.which!==32?null:(j=!0,S);case"textInput":return n=r.data,n===S&&j?null:n;default:return null}}function Pe(n,r){if(xe)return n==="compositionend"||!ai&&X(n,r)?(n=Ko(),xi=pr=ni=null,xe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Dt[n.type]:r==="textarea"}function Vi(n,r,o,u){ki?Mi?Mi.push(u):Mi=[u]:ki=u,r=Mc(r,"onChange"),0<r.length&&(o=new ga("onChange","change",null,o,u),n.push({event:o,listeners:r}))}var Lt=null,oi=null;function Zo(n){Pv(n,0)}function $u(n){var r=Jn(n);if(Ho(r))return n}function ny(n,r){if(n==="change")return r}var iy=!1;if(Hn){var Uf;if(Hn){var Lf="oninput"in document;if(!Lf){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Lf=typeof ry.oninput=="function"}Uf=Lf}else Uf=!1;iy=Uf&&(!document.documentMode||9<document.documentMode)}function sy(){Lt&&(Lt.detachEvent("onpropertychange",ay),oi=Lt=null)}function ay(n){if(n.propertyName==="value"&&$u(oi)){var r=[];Vi(r,oi,n,In(n)),xu(Zo,r)}}function US(n,r,o){n==="focusin"?(sy(),Lt=r,oi=o,Lt.attachEvent("onpropertychange",ay)):n==="focusout"&&sy()}function LS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $u(oi)}function zS(n,r){if(n==="click")return $u(r)}function BS(n,r){if(n==="input"||n==="change")return $u(r)}function jS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var dn=typeof Object.is=="function"?Object.is:jS;function Jo(n,r){if(dn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ss.call(r,f)||!dn(n[f],r[f]))return!1}return!0}function oy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ly(n,r){var o=oy(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=r&&u>=r)return{node:o,offset:r-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=oy(o)}}function uy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?uy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function cy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=gs(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=gs(n.document)}return r}function zf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var HS=Hn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Bf=null,el=null,jf=!1;function hy(n,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jf||Sa==null||Sa!==gs(u)||(u=Sa,"selectionStart"in u&&zf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),el&&Jo(el,u)||(el=u,u=Mc(Bf,"onSelect"),0<u.length&&(r=new ga("onSelect","select",null,r,o),n.push({event:r,listeners:u}),r.target=Sa)))}function Is(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Aa={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Hf={},fy={};Hn&&(fy=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Cs(n){if(Hf[n])return Hf[n];if(!Aa[n])return n;var r=Aa[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in fy)return Hf[n]=r[o];return n}var dy=Cs("animationend"),my=Cs("animationiteration"),py=Cs("animationstart"),qS=Cs("transitionrun"),FS=Cs("transitionstart"),GS=Cs("transitioncancel"),gy=Cs("transitionend"),yy=new Map,qf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qf.push("scrollEnd");function qn(n,r){yy.set(n,r),jn(r,[n])}var _y=new WeakMap;function Dn(n,r){if(typeof n=="object"&&n!==null){var o=_y.get(n);return o!==void 0?o:(r={value:n,source:r,stack:da(r)},_y.set(n,r),r)}return{value:n,source:r,stack:da(r)}}var Nn=[],Ra=0,Ff=0;function Xu(){for(var n=Ra,r=Ff=Ra=0;r<n;){var o=Nn[r];Nn[r++]=null;var u=Nn[r];Nn[r++]=null;var f=Nn[r];Nn[r++]=null;var m=Nn[r];if(Nn[r++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&vy(o,f,m)}}function Qu(n,r,o,u){Nn[Ra++]=n,Nn[Ra++]=r,Nn[Ra++]=o,Nn[Ra++]=u,Ff|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Gf(n,r,o,u){return Qu(n,r,o,u),Wu(n)}function Ia(n,r){return Qu(n,null,null,r),Wu(n)}function vy(n,r,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&r!==null&&(f=31-Kt(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[r]:u.push(r),r.lane=o|536870912),m):null}function Wu(n){if(50<Al)throw Al=0,Wd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ca={};function KS(n,r,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(n,r,o,u){return new KS(n,r,o,u)}function Kf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ui(n,r){var o=n.alternate;return o===null?(o=mn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ey(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Zu(n,r,o,u,f,m){var E=0;if(u=n,typeof n=="function")Kf(n)&&(E=1);else if(typeof n=="string")E=$A(n,o,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=mn(31,o,r,f),n.elementType=C,n.lanes=m,n;case R:return Os(o.children,f,m,r);case U:E=8,f|=24;break;case M:return n=mn(12,o,r,f|2),n.elementType=M,n.lanes=m,n;case ee:return n=mn(13,o,r,f),n.elementType=ee,n.lanes=m,n;case re:return n=mn(19,o,r,f),n.elementType=re,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case L:case Q:E=10;break e;case H:E=9;break e;case Y:E=11;break e;case O:E=14;break e;case I:E=16,u=null;break e}E=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return r=mn(E,o,r,f),r.elementType=n,r.type=u,r.lanes=m,r}function Os(n,r,o,u){return n=mn(7,n,u,r),n.lanes=o,n}function Yf(n,r,o){return n=mn(6,n,null,r),n.lanes=o,n}function $f(n,r,o){return r=mn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Oa=[],Da=0,Ju=null,ec=0,kn=[],Mn=0,Ds=null,Li=1,zi="";function Ns(n,r){Oa[Da++]=ec,Oa[Da++]=Ju,Ju=n,ec=r}function Ty(n,r,o){kn[Mn++]=Li,kn[Mn++]=zi,kn[Mn++]=Ds,Ds=n;var u=Li;n=zi;var f=32-Kt(u)-1;u&=~(1<<f),o+=1;var m=32-Kt(r)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Li=1<<32-Kt(r)+f|o<<f|u,zi=m+n}else Li=1<<m|o<<f|u,zi=n}function Xf(n){n.return!==null&&(Ns(n,1),Ty(n,1,0))}function Qf(n){for(;n===Ju;)Ju=Oa[--Da],Oa[Da]=null,ec=Oa[--Da],Oa[Da]=null;for(;n===Ds;)Ds=kn[--Mn],kn[Mn]=null,zi=kn[--Mn],kn[Mn]=null,Li=kn[--Mn],kn[Mn]=null}var rn=null,lt=null,Be=!1,ks=null,li=!1,Wf=Error(s(519));function Ms(n){var r=Error(s(418,""));throw il(Dn(r,n)),Wf}function wy(n){var r=n.stateNode,o=n.type,u=n.memoizedProps;switch(r[Et]=n,r[mt]=u,o){case"dialog":Ne("cancel",r),Ne("close",r);break;case"iframe":case"object":case"embed":Ne("load",r);break;case"video":case"audio":for(o=0;o<Il.length;o++)Ne(Il[o],r);break;case"source":Ne("error",r);break;case"img":case"image":case"link":Ne("error",r),Ne("load",r);break;case"details":Ne("toggle",r);break;case"input":Ne("invalid",r),ys(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ma(r);break;case"select":Ne("invalid",r);break;case"textarea":Ne("invalid",r),_s(r,u.value,u.defaultValue,u.children),ma(r)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||zv(r.textContent,o)?(u.popover!=null&&(Ne("beforetoggle",r),Ne("toggle",r)),u.onScroll!=null&&Ne("scroll",r),u.onScrollEnd!=null&&Ne("scrollend",r),u.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||Ms(n)}function by(n){for(rn=n.return;rn;)switch(rn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function tl(n){if(n!==rn)return!1;if(!Be)return by(n),Be=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||dm(n.type,n.memoizedProps)),o=!o),o&&lt&&Ms(n),by(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){lt=Gn(n.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}lt=null}}else r===27?(r=lt,Nr(n.type)?(n=ym,ym=null,lt=n):lt=r):lt=rn?Gn(n.stateNode.nextSibling):null;return!0}function nl(){lt=rn=null,Be=!1}function Sy(){var n=ks;return n!==null&&(on===null?on=n:on.push.apply(on,n),ks=null),n}function il(n){ks===null?ks=[n]:ks.push(n)}var Zf=se(null),xs=null,Bi=null;function gr(n,r,o){ae(Zf,r._currentValue),r._currentValue=o}function ji(n){n._currentValue=Zf.current,ue(Zf)}function Jf(n,r,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===o)break;n=n.return}}function ed(n,r,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var D=0;D<r.length;D++)if(b.context===r[D]){m.lanes|=o,b=m.alternate,b!==null&&(b.lanes|=o),Jf(m.return,o,n),u||(E=null);break e}m=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Jf(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function rl(n,r,o,u){n=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;dn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Ct.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}f=f.return}n!==null&&ed(r,n,o,u),r.flags|=262144}function tc(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ps(n){xs=n,Bi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Yt(n){return Ay(xs,n)}function nc(n,r){return xs===null&&Ps(n),Ay(n,r)}function Ay(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Bi===null){if(n===null)throw Error(s(308));Bi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Bi=Bi.next=r;return o}var YS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},$S=i.unstable_scheduleCallback,XS=i.unstable_NormalPriority,bt={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function td(){return{controller:new YS,data:new Map,refCount:0}}function sl(n){n.refCount--,n.refCount===0&&$S(XS,function(){n.controller.abort()})}var al=null,nd=0,Na=0,ka=null;function QS(n,r){if(al===null){var o=al=[];nd=0,Na=rm(),ka={status:"pending",value:void 0,then:function(u){o.push(u)}}}return nd++,r.then(Ry,Ry),r}function Ry(){if(--nd===0&&al!==null){ka!==null&&(ka.status="fulfilled");var n=al;al=null,Na=0,ka=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function WS(n,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Iy=W.S;W.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&QS(n,r),Iy!==null&&Iy(n,r)};var Vs=se(null);function id(){var n=Vs.current;return n!==null?n:Je.pooledCache}function ic(n,r){r===null?ae(Vs,Vs.current):ae(Vs,r.pool)}function Cy(){var n=id();return n===null?null:{parent:bt._currentValue,pool:n}}var ol=Error(s(460)),Oy=Error(s(474)),rc=Error(s(542)),rd={then:function(){}};function Dy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function sc(){}function Ny(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(sc,sc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,My(n),n;default:if(typeof r.status=="string")r.then(sc,sc);else{if(n=Je,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,My(n),n}throw ll=r,ol}}var ll=null;function ky(){if(ll===null)throw Error(s(459));var n=ll;return ll=null,n}function My(n){if(n===ol||n===rc)throw Error(s(483))}var yr=!1;function sd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function _r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function vr(n,r,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Fe&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=Wu(n),vy(n,null,o),r}return Qu(n,u,r,o),Wu(n)}function ul(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Uo(n,o)}}function od(n,r){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=r:m=m.next=r}else f=m=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var ld=!1;function cl(){if(ld){var n=ka;if(n!==null)throw n}}function hl(n,r,o,u){ld=!1;var f=n.updateQueue;yr=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,G=D.next;D.next=null,E===null?m=G:E.next=G,E=D;var Z=n.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==E&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=D))}if(m!==null){var te=f.baseState;E=0,Z=G=D=null,b=m;do{var K=b.lane&-536870913,$=K!==b.lane;if($?(Ve&K)===K:(u&K)===K){K!==0&&K===Na&&(ld=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ee=n,ye=b;K=r;var Xe=o;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){te=Ee.call(Xe,te,K);break e}te=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,K=typeof Ee=="function"?Ee.call(Xe,te,K):Ee,K==null)break e;te=_({},te,K);break e;case 2:yr=!0}}K=b.callback,K!==null&&(n.flags|=64,$&&(n.flags|=8192),$=f.callbacks,$===null?f.callbacks=[K]:$.push(K))}else $={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=$,D=te):Z=Z.next=$,E|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;$=b,b=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);Z===null&&(D=te),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),Ir|=E,n.lanes=E,n.memoizedState=te}}function xy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function Py(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)xy(o[n],r)}var Ma=se(null),ac=se(0);function Vy(n,r){n=$i,ae(ac,n),ae(Ma,r),$i=n|r.baseLanes}function ud(){ae(ac,$i),ae(Ma,Ma.current)}function cd(){$i=ac.current,ue(Ma),ue(ac)}var Er=0,Re=null,Ye=null,gt=null,oc=!1,xa=!1,Us=!1,lc=0,fl=0,Pa=null,ZS=0;function ht(){throw Error(s(321))}function hd(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!dn(n[o],r[o]))return!1;return!0}function fd(n,r,o,u,f,m){return Er=m,Re=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=n===null||n.memoizedState===null?v_:E_,Us=!1,m=o(u,f),Us=!1,xa&&(m=Ly(r,o,u,f)),Uy(n),m}function Uy(n){W.H=mc;var r=Ye!==null&&Ye.next!==null;if(Er=0,gt=Ye=Re=null,oc=!1,fl=0,Pa=null,r)throw Error(s(300));n===null||Nt||(n=n.dependencies,n!==null&&tc(n)&&(Nt=!0))}function Ly(n,r,o,u){Re=n;var f=0;do{if(xa&&(Pa=null),fl=0,xa=!1,25<=f)throw Error(s(301));if(f+=1,gt=Ye=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=sA,m=r(o,u)}while(xa);return m}function JS(){var n=W.H,r=n.useState()[0];return r=typeof r.then=="function"?dl(r):r,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Re.flags|=1024),r}function dd(){var n=lc!==0;return lc=0,n}function md(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function pd(n){if(oc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}oc=!1}Er=0,gt=Ye=Re=null,xa=!1,fl=lc=0,Pa=null}function sn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Re.memoizedState=gt=n:gt=gt.next=n,gt}function yt(){if(Ye===null){var n=Re.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var r=gt===null?Re.memoizedState:gt.next;if(r!==null)gt=r,Ye=n;else{if(n===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Re.memoizedState=gt=n:gt=gt.next=n}return gt}function gd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(n){var r=fl;return fl+=1,Pa===null&&(Pa=[]),n=Ny(Pa,n,r),r=Re,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?v_:E_),n}function uc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return dl(n);if(n.$$typeof===Q)return Yt(n)}throw Error(s(438,String(n)))}function yd(n){var r=null,o=Re.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=gd(),Re.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),u=0;u<n;u++)o[u]=N;return r.index++,o}function Hi(n,r){return typeof r=="function"?r(n):r}function cc(n){var r=yt();return _d(r,Ye,n)}function _d(n,r,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}r.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{r=f.next;var b=E=null,D=null,G=r,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Ve&te)===te:(Er&te)===te){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===Na&&(Z=!0);else if((Er&K)===K){G=G.next,K===Na&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=te,E=m):D=D.next=te,Re.lanes|=K,Ir|=K;te=G.action,Us&&o(m,te),m=G.hasEagerState?G.eagerState:o(m,te)}else K={lane:te,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(b=D=K,E=m):D=D.next=K,Re.lanes|=te,Ir|=te;G=G.next}while(G!==null&&G!==r);if(D===null?E=m:D.next=b,!dn(m,n.memoizedState)&&(Nt=!0,Z&&(o=ka,o!==null)))throw o;n.memoizedState=m,n.baseState=E,n.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function vd(n){var r=yt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=r.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=n(m,E.action),E=E.next;while(E!==f);dn(m,r.memoizedState)||(Nt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),o.lastRenderedState=m}return[m,u]}function zy(n,r,o){var u=Re,f=yt(),m=Be;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=r();var E=!dn((Ye||f).memoizedState,o);E&&(f.memoizedState=o,Nt=!0),f=f.queue;var b=Hy.bind(null,u,f,n);if(ml(2048,8,b,[n]),f.getSnapshot!==r||E||gt!==null&&gt.memoizedState.tag&1){if(u.flags|=2048,Va(9,hc(),jy.bind(null,u,f,o,r),null),Je===null)throw Error(s(349));m||(Er&124)!==0||By(u,r,o)}return o}function By(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Re.updateQueue,r===null?(r=gd(),Re.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function jy(n,r,o,u){r.value=o,r.getSnapshot=u,qy(r)&&Fy(n)}function Hy(n,r,o){return o(function(){qy(r)&&Fy(n)})}function qy(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!dn(n,o)}catch{return!0}}function Fy(n){var r=Ia(n,2);r!==null&&vn(r,n,2)}function Ed(n){var r=sn();if(typeof n=="function"){var o=n;if(n=o(),Us){hn(!0);try{o()}finally{hn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:n},r}function Gy(n,r,o,u){return n.baseState=o,_d(n,Ye,typeof u=="function"?u:Hi)}function eA(n,r,o,u,f){if(dc(n))throw Error(s(485));if(n=r.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=r.pending,o===null?(m.next=r.pending=m,Ky(r,m)):(m.next=o.next,r.pending=o.next=m)}}function Ky(n,r){var o=r.action,u=r.payload,f=n.state;if(r.isTransition){var m=W.T,E={};W.T=E;try{var b=o(f,u),D=W.S;D!==null&&D(E,b),Yy(n,r,b)}catch(G){Td(n,r,G)}finally{W.T=m}}else try{m=o(f,u),Yy(n,r,m)}catch(G){Td(n,r,G)}}function Yy(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){$y(n,r,u)},function(u){return Td(n,r,u)}):$y(n,r,o)}function $y(n,r,o){r.status="fulfilled",r.value=o,Xy(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,Ky(n,o)))}function Td(n,r,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Xy(r),r=r.next;while(r!==u)}n.action=null}function Xy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Qy(n,r){return r}function Wy(n,r){if(Be){var o=Je.formState;if(o!==null){e:{var u=Re;if(Be){if(lt){t:{for(var f=lt,m=li;f.nodeType!==8;){if(!m){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){lt=Gn(f.nextSibling),u=f.data==="F!";break e}}Ms(u)}u=!1}u&&(r=o[0])}}return o=sn(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:r},o.queue=u,o=g_.bind(null,Re,u),u.dispatch=o,u=Ed(!1),m=Rd.bind(null,Re,!1,u.queue),u=sn(),f={state:r,dispatch:null,action:n,pending:null},u.queue=f,o=eA.bind(null,Re,f,m,o),f.dispatch=o,u.memoizedState=n,[r,o,!1]}function Zy(n){var r=yt();return Jy(r,Ye,n)}function Jy(n,r,o){if(r=_d(n,r,Qy)[0],n=cc(Hi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=dl(r)}catch(E){throw E===ol?rc:E}else u=r;r=yt();var f=r.queue,m=f.dispatch;return o!==r.memoizedState&&(Re.flags|=2048,Va(9,hc(),tA.bind(null,f,o),null)),[u,m,n]}function tA(n,r){n.action=r}function e_(n){var r=yt(),o=Ye;if(o!==null)return Jy(r,o,n);yt(),r=r.memoizedState,o=yt();var u=o.queue.dispatch;return o.memoizedState=n,[r,u,!1]}function Va(n,r,o,u){return n={tag:n,create:o,deps:u,inst:r,next:null},r=Re.updateQueue,r===null&&(r=gd(),Re.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,r.lastEffect=n),n}function hc(){return{destroy:void 0,resource:void 0}}function t_(){return yt().memoizedState}function fc(n,r,o,u){var f=sn();u=u===void 0?null:u,Re.flags|=n,f.memoizedState=Va(1|r,hc(),o,u)}function ml(n,r,o,u){var f=yt();u=u===void 0?null:u;var m=f.memoizedState.inst;Ye!==null&&u!==null&&hd(u,Ye.memoizedState.deps)?f.memoizedState=Va(r,m,o,u):(Re.flags|=n,f.memoizedState=Va(1|r,m,o,u))}function n_(n,r){fc(8390656,8,n,r)}function i_(n,r){ml(2048,8,n,r)}function r_(n,r){return ml(4,2,n,r)}function s_(n,r){return ml(4,4,n,r)}function a_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function o_(n,r,o){o=o!=null?o.concat([n]):null,ml(4,4,a_.bind(null,r,n),o)}function wd(){}function l_(n,r){var o=yt();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&hd(r,u[1])?u[0]:(o.memoizedState=[n,r],n)}function u_(n,r){var o=yt();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&hd(r,u[1]))return u[0];if(u=n(),Us){hn(!0);try{n()}finally{hn(!1)}}return o.memoizedState=[u,r],u}function bd(n,r,o){return o===void 0||(Er&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=fv(),Re.lanes|=n,Ir|=n,o)}function c_(n,r,o,u){return dn(o,r)?o:Ma.current!==null?(n=bd(n,o,u),dn(n,r)||(Nt=!0),n):(Er&42)===0?(Nt=!0,n.memoizedState=o):(n=fv(),Re.lanes|=n,Ir|=n,r)}function h_(n,r,o,u,f){var m=le.p;le.p=m!==0&&8>m?m:8;var E=W.T,b={};W.T=b,Rd(n,!1,r,o);try{var D=f(),G=W.S;if(G!==null&&G(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=WS(D,u);pl(n,r,Z,_n(n))}else pl(n,r,u,_n(n))}catch(te){pl(n,r,{then:function(){},status:"rejected",reason:te},_n())}finally{le.p=m,W.T=E}}function nA(){}function Sd(n,r,o,u){if(n.tag!==5)throw Error(s(476));var f=f_(n).queue;h_(n,f,r,me,o===null?nA:function(){return d_(n),o(u)})}function f_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:me},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function d_(n){var r=f_(n).next.queue;pl(n,r,{},_n())}function Ad(){return Yt(Ml)}function m_(){return yt().memoizedState}function p_(){return yt().memoizedState}function iA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=_n();n=_r(o);var u=vr(r,n,o);u!==null&&(vn(u,r,o),ul(u,r,o)),r={cache:td()},n.payload=r;return}r=r.return}}function rA(n,r,o){var u=_n();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},dc(n)?y_(r,o):(o=Gf(n,r,o,u),o!==null&&(vn(o,n,u),__(o,r,u)))}function g_(n,r,o){var u=_n();pl(n,r,o,u)}function pl(n,r,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(dc(n))y_(r,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var E=r.lastRenderedState,b=m(E,o);if(f.hasEagerState=!0,f.eagerState=b,dn(b,E))return Qu(n,r,f,0),Je===null&&Xu(),!1}catch{}finally{}if(o=Gf(n,r,f,u),o!==null)return vn(o,n,u),__(o,r,u),!0}return!1}function Rd(n,r,o,u){if(u={lane:2,revertLane:rm(),action:u,hasEagerState:!1,eagerState:null,next:null},dc(n)){if(r)throw Error(s(479))}else r=Gf(n,o,u,2),r!==null&&vn(r,n,2)}function dc(n){var r=n.alternate;return n===Re||r!==null&&r===Re}function y_(n,r){xa=oc=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function __(n,r,o){if((o&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,o|=u,r.lanes=o,Uo(n,o)}}var mc={readContext:Yt,use:uc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},v_={readContext:Yt,use:uc,useCallback:function(n,r){return sn().memoizedState=[n,r===void 0?null:r],n},useContext:Yt,useEffect:n_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,fc(4194308,4,a_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return fc(4194308,4,n,r)},useInsertionEffect:function(n,r){fc(4,2,n,r)},useMemo:function(n,r){var o=sn();r=r===void 0?null:r;var u=n();if(Us){hn(!0);try{n()}finally{hn(!1)}}return o.memoizedState=[u,r],u},useReducer:function(n,r,o){var u=sn();if(o!==void 0){var f=o(r);if(Us){hn(!0);try{o(r)}finally{hn(!1)}}}else f=r;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=rA.bind(null,Re,n),[u.memoizedState,n]},useRef:function(n){var r=sn();return n={current:n},r.memoizedState=n},useState:function(n){n=Ed(n);var r=n.queue,o=g_.bind(null,Re,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:wd,useDeferredValue:function(n,r){var o=sn();return bd(o,n,r)},useTransition:function(){var n=Ed(!1);return n=h_.bind(null,Re,n.queue,!0,!1),sn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var u=Re,f=sn();if(Be){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Je===null)throw Error(s(349));(Ve&124)!==0||By(u,r,o)}f.memoizedState=o;var m={value:o,getSnapshot:r};return f.queue=m,n_(Hy.bind(null,u,m,n),[n]),u.flags|=2048,Va(9,hc(),jy.bind(null,u,m,o,r),null),o},useId:function(){var n=sn(),r=Je.identifierPrefix;if(Be){var o=zi,u=Li;o=(u&~(1<<32-Kt(u)-1)).toString(32)+o,r="«"+r+"R"+o,o=lc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=ZS++,r="«"+r+"r"+o.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Ad,useFormState:Wy,useActionState:Wy,useOptimistic:function(n){var r=sn();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Rd.bind(null,Re,!0,o),o.dispatch=r,[n,r]},useMemoCache:yd,useCacheRefresh:function(){return sn().memoizedState=iA.bind(null,Re)}},E_={readContext:Yt,use:uc,useCallback:l_,useContext:Yt,useEffect:i_,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:cc,useRef:t_,useState:function(){return cc(Hi)},useDebugValue:wd,useDeferredValue:function(n,r){var o=yt();return c_(o,Ye.memoizedState,n,r)},useTransition:function(){var n=cc(Hi)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:dl(n),r]},useSyncExternalStore:zy,useId:m_,useHostTransitionStatus:Ad,useFormState:Zy,useActionState:Zy,useOptimistic:function(n,r){var o=yt();return Gy(o,Ye,n,r)},useMemoCache:yd,useCacheRefresh:p_},sA={readContext:Yt,use:uc,useCallback:l_,useContext:Yt,useEffect:i_,useImperativeHandle:o_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:u_,useReducer:vd,useRef:t_,useState:function(){return vd(Hi)},useDebugValue:wd,useDeferredValue:function(n,r){var o=yt();return Ye===null?bd(o,n,r):c_(o,Ye.memoizedState,n,r)},useTransition:function(){var n=vd(Hi)[0],r=yt().memoizedState;return[typeof n=="boolean"?n:dl(n),r]},useSyncExternalStore:zy,useId:m_,useHostTransitionStatus:Ad,useFormState:e_,useActionState:e_,useOptimistic:function(n,r){var o=yt();return Ye!==null?Gy(o,Ye,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:yd,useCacheRefresh:p_},Ua=null,gl=0;function pc(n){var r=gl;return gl+=1,Ua===null&&(Ua=[]),Ny(Ua,n,r)}function yl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function gc(n,r){throw r.$$typeof===T?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function T_(n){var r=n._init;return r(n._payload)}function w_(n){function r(B,P){if(n){var q=B.deletions;q===null?(B.deletions=[P],B.flags|=16):q.push(P)}}function o(B,P){if(!n)return null;for(;P!==null;)r(B,P),P=P.sibling;return null}function u(B){for(var P=new Map;B!==null;)B.key!==null?P.set(B.key,B):P.set(B.index,B),B=B.sibling;return P}function f(B,P){return B=Ui(B,P),B.index=0,B.sibling=null,B}function m(B,P,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<P?(B.flags|=67108866,P):q):(B.flags|=67108866,P)):(B.flags|=1048576,P)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function b(B,P,q,J){return P===null||P.tag!==6?(P=Yf(q,B.mode,J),P.return=B,P):(P=f(P,q),P.return=B,P)}function D(B,P,q,J){var fe=q.type;return fe===R?Z(B,P,q.props.children,J,q.key):P!==null&&(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===I&&T_(fe)===P.type)?(P=f(P,q.props),yl(P,q),P.return=B,P):(P=Zu(q.type,q.key,q.props,null,B.mode,J),yl(P,q),P.return=B,P)}function G(B,P,q,J){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=$f(q,B.mode,J),P.return=B,P):(P=f(P,q.children||[]),P.return=B,P)}function Z(B,P,q,J,fe){return P===null||P.tag!==7?(P=Os(q,B.mode,J,fe),P.return=B,P):(P=f(P,q),P.return=B,P)}function te(B,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Yf(""+P,B.mode,q),P.return=B,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return q=Zu(P.type,P.key,P.props,null,B.mode,q),yl(q,P),q.return=B,q;case A:return P=$f(P,B.mode,q),P.return=B,P;case I:var J=P._init;return P=J(P._payload),te(B,P,q)}if(at(P)||z(P))return P=Os(P,B.mode,q,null),P.return=B,P;if(typeof P.then=="function")return te(B,pc(P),q);if(P.$$typeof===Q)return te(B,nc(B,P),q);gc(B,P)}return null}function K(B,P,q,J){var fe=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return fe!==null?null:b(B,P,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===fe?D(B,P,q,J):null;case A:return q.key===fe?G(B,P,q,J):null;case I:return fe=q._init,q=fe(q._payload),K(B,P,q,J)}if(at(q)||z(q))return fe!==null?null:Z(B,P,q,J,null);if(typeof q.then=="function")return K(B,P,pc(q),J);if(q.$$typeof===Q)return K(B,P,nc(B,q),J);gc(B,q)}return null}function $(B,P,q,J,fe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return B=B.get(q)||null,b(P,B,""+J,fe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return B=B.get(J.key===null?q:J.key)||null,D(P,B,J,fe);case A:return B=B.get(J.key===null?q:J.key)||null,G(P,B,J,fe);case I:var Oe=J._init;return J=Oe(J._payload),$(B,P,q,J,fe)}if(at(J)||z(J))return B=B.get(q)||null,Z(P,B,J,fe,null);if(typeof J.then=="function")return $(B,P,q,pc(J),fe);if(J.$$typeof===Q)return $(B,P,q,nc(P,J),fe);gc(P,J)}return null}function Ee(B,P,q,J){for(var fe=null,Oe=null,de=P,_e=P=0,Mt=null;de!==null&&_e<q.length;_e++){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Le=K(B,de,q[_e],J);if(Le===null){de===null&&(de=Mt);break}n&&de&&Le.alternate===null&&r(B,de),P=m(Le,P,_e),Oe===null?fe=Le:Oe.sibling=Le,Oe=Le,de=Mt}if(_e===q.length)return o(B,de),Be&&Ns(B,_e),fe;if(de===null){for(;_e<q.length;_e++)de=te(B,q[_e],J),de!==null&&(P=m(de,P,_e),Oe===null?fe=de:Oe.sibling=de,Oe=de);return Be&&Ns(B,_e),fe}for(de=u(de);_e<q.length;_e++)Mt=$(de,B,_e,q[_e],J),Mt!==null&&(n&&Mt.alternate!==null&&de.delete(Mt.key===null?_e:Mt.key),P=m(Mt,P,_e),Oe===null?fe=Mt:Oe.sibling=Mt,Oe=Mt);return n&&de.forEach(function(Vr){return r(B,Vr)}),Be&&Ns(B,_e),fe}function ye(B,P,q,J){if(q==null)throw Error(s(151));for(var fe=null,Oe=null,de=P,_e=P=0,Mt=null,Le=q.next();de!==null&&!Le.done;_e++,Le=q.next()){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Vr=K(B,de,Le.value,J);if(Vr===null){de===null&&(de=Mt);break}n&&de&&Vr.alternate===null&&r(B,de),P=m(Vr,P,_e),Oe===null?fe=Vr:Oe.sibling=Vr,Oe=Vr,de=Mt}if(Le.done)return o(B,de),Be&&Ns(B,_e),fe;if(de===null){for(;!Le.done;_e++,Le=q.next())Le=te(B,Le.value,J),Le!==null&&(P=m(Le,P,_e),Oe===null?fe=Le:Oe.sibling=Le,Oe=Le);return Be&&Ns(B,_e),fe}for(de=u(de);!Le.done;_e++,Le=q.next())Le=$(de,B,_e,Le.value,J),Le!==null&&(n&&Le.alternate!==null&&de.delete(Le.key===null?_e:Le.key),P=m(Le,P,_e),Oe===null?fe=Le:Oe.sibling=Le,Oe=Le);return n&&de.forEach(function(a1){return r(B,a1)}),Be&&Ns(B,_e),fe}function Xe(B,P,q,J){if(typeof q=="object"&&q!==null&&q.type===R&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var fe=q.key;P!==null;){if(P.key===fe){if(fe=q.type,fe===R){if(P.tag===7){o(B,P.sibling),J=f(P,q.props.children),J.return=B,B=J;break e}}else if(P.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===I&&T_(fe)===P.type){o(B,P.sibling),J=f(P,q.props),yl(J,q),J.return=B,B=J;break e}o(B,P);break}else r(B,P);P=P.sibling}q.type===R?(J=Os(q.props.children,B.mode,J,q.key),J.return=B,B=J):(J=Zu(q.type,q.key,q.props,null,B.mode,J),yl(J,q),J.return=B,B=J)}return E(B);case A:e:{for(fe=q.key;P!==null;){if(P.key===fe)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){o(B,P.sibling),J=f(P,q.children||[]),J.return=B,B=J;break e}else{o(B,P);break}else r(B,P);P=P.sibling}J=$f(q,B.mode,J),J.return=B,B=J}return E(B);case I:return fe=q._init,q=fe(q._payload),Xe(B,P,q,J)}if(at(q))return Ee(B,P,q,J);if(z(q)){if(fe=z(q),typeof fe!="function")throw Error(s(150));return q=fe.call(q),ye(B,P,q,J)}if(typeof q.then=="function")return Xe(B,P,pc(q),J);if(q.$$typeof===Q)return Xe(B,P,nc(B,q),J);gc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(o(B,P.sibling),J=f(P,q),J.return=B,B=J):(o(B,P),J=Yf(q,B.mode,J),J.return=B,B=J),E(B)):o(B,P)}return function(B,P,q,J){try{gl=0;var fe=Xe(B,P,q,J);return Ua=null,fe}catch(de){if(de===ol||de===rc)throw de;var Oe=mn(29,de,null,B.mode);return Oe.lanes=J,Oe.return=B,Oe}finally{}}}var La=w_(!0),b_=w_(!1),xn=se(null),ui=null;function Tr(n){var r=n.alternate;ae(St,St.current&1),ae(xn,n),ui===null&&(r===null||Ma.current!==null||r.memoizedState!==null)&&(ui=n)}function S_(n){if(n.tag===22){if(ae(St,St.current),ae(xn,n),ui===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(ui=n)}}else wr()}function wr(){ae(St,St.current),ae(xn,xn.current)}function qi(n){ue(xn),ui===n&&(ui=null),ue(St)}var St=se(0);function yc(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||gm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Id(n,r,o,u){r=n.memoizedState,o=o(u,r),o=o==null?r:_({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Cd={enqueueSetState:function(n,r,o){n=n._reactInternals;var u=_n(),f=_r(u);f.payload=r,o!=null&&(f.callback=o),r=vr(n,f,u),r!==null&&(vn(r,n,u),ul(r,n,u))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var u=_n(),f=_r(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=vr(n,f,u),r!==null&&(vn(r,n,u),ul(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=_n(),u=_r(o);u.tag=2,r!=null&&(u.callback=r),r=vr(n,u,o),r!==null&&(vn(r,n,o),ul(r,n,o))}};function A_(n,r,o,u,f,m,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,E):r.prototype&&r.prototype.isPureReactComponent?!Jo(o,u)||!Jo(f,m):!0}function R_(n,r,o,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==n&&Cd.enqueueReplaceState(r,r.state,null)}function Ls(n,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(n=n.defaultProps){o===r&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var _c=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function I_(n){_c(n)}function C_(n){console.error(n)}function O_(n){_c(n)}function vc(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function D_(n,r,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Od(n,r,o){return o=_r(o),o.tag=3,o.payload={element:null},o.callback=function(){vc(n,r)},o}function N_(n){return n=_r(n),n.tag=3,n}function k_(n,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){D_(r,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){D_(r,o,u),typeof f!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function aA(n,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&rl(r,o,f,!0),o=xn.current,o!==null){switch(o.tag){case 13:return ui===null?Jd():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===rd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),tm(n,u,f)),!1;case 22:return o.flags|=65536,u===rd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),tm(n,u,f)),!1}throw Error(s(435,o.tag))}return tm(n,u,f),Jd(),!1}if(Be)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==Wf&&(n=Error(s(422),{cause:u}),il(Dn(n,o)))):(u!==Wf&&(r=Error(s(423),{cause:u}),il(Dn(r,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Dn(u,o),f=Od(n.stateNode,u,f),od(n,f),ut!==4&&(ut=2)),!1;var m=Error(s(520),{cause:u});if(m=Dn(m,o),Sl===null?Sl=[m]:Sl.push(m),ut!==4&&(ut=2),r===null)return!0;u=Dn(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Od(o.stateNode,u,n),od(o,n),!1;case 1:if(r=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Cr===null||!Cr.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=N_(f),k_(f,n,o,u),od(o,f),!1}o=o.return}while(o!==null);return!1}var M_=Error(s(461)),Nt=!1;function zt(n,r,o,u){r.child=n===null?b_(r,null,o,u):La(r,n.child,o,u)}function x_(n,r,o,u,f){o=o.render;var m=r.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return Ps(r),u=fd(n,r,o,E,m,f),b=dd(),n!==null&&!Nt?(md(n,r,f),Fi(n,r,f)):(Be&&b&&Xf(r),r.flags|=1,zt(n,r,u,f),r.child)}function P_(n,r,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!Kf(m)&&m.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=m,V_(n,r,m,u,f)):(n=Zu(o.type,null,u,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Ud(n,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Jo,o(E,u)&&n.ref===r.ref)return Fi(n,r,f)}return r.flags|=1,n=Ui(m,u),n.ref=r.ref,n.return=r,r.child=n}function V_(n,r,o,u,f){if(n!==null){var m=n.memoizedProps;if(Jo(m,u)&&n.ref===r.ref)if(Nt=!1,r.pendingProps=u=m,Ud(n,f))(n.flags&131072)!==0&&(Nt=!0);else return r.lanes=n.lanes,Fi(n,r,f)}return Dd(n,r,o,u,f)}function U_(n,r,o){var u=r.pendingProps,f=u.children,m=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,n!==null){for(f=r.child=n.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~u}else r.childLanes=0,r.child=null;return L_(n,r,u,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ic(r,m!==null?m.cachePool:null),m!==null?Vy(r,m):ud(),S_(r);else return r.lanes=r.childLanes=536870912,L_(n,r,m!==null?m.baseLanes|o:o,o)}else m!==null?(ic(r,m.cachePool),Vy(r,m),wr(),r.memoizedState=null):(n!==null&&ic(r,null),ud(),wr());return zt(n,r,f,o),r.child}function L_(n,r,o,u){var f=id();return f=f===null?null:{parent:bt._currentValue,pool:f},r.memoizedState={baseLanes:o,cachePool:f},n!==null&&ic(r,null),ud(),S_(r),n!==null&&rl(n,r,u,!0),null}function Ec(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Dd(n,r,o,u,f){return Ps(r),o=fd(n,r,o,u,void 0,f),u=dd(),n!==null&&!Nt?(md(n,r,f),Fi(n,r,f)):(Be&&u&&Xf(r),r.flags|=1,zt(n,r,o,f),r.child)}function z_(n,r,o,u,f,m){return Ps(r),r.updateQueue=null,o=Ly(r,u,o,f),Uy(n),u=dd(),n!==null&&!Nt?(md(n,r,m),Fi(n,r,m)):(Be&&u&&Xf(r),r.flags|=1,zt(n,r,o,m),r.child)}function B_(n,r,o,u,f){if(Ps(r),r.stateNode===null){var m=Ca,E=o.contextType;typeof E=="object"&&E!==null&&(m=Yt(E)),m=new o(u,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Cd,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=u,m.state=r.memoizedState,m.refs={},sd(r),E=o.contextType,m.context=typeof E=="object"&&E!==null?Yt(E):Ca,m.state=r.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Id(r,o,E,u),m.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Cd.enqueueReplaceState(m,m.state,null),hl(r,u,m,f),cl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){m=r.stateNode;var b=r.memoizedProps,D=Ls(o,b);m.props=D;var G=m.context,Z=o.contextType;E=Ca,typeof Z=="object"&&Z!==null&&(E=Yt(Z));var te=o.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||G!==E)&&R_(r,m,u,E),yr=!1;var K=r.memoizedState;m.state=K,hl(r,u,m,f),cl(),G=r.memoizedState,b||K!==G||yr?(typeof te=="function"&&(Id(r,o,te,u),G=r.memoizedState),(D=yr||A_(r,o,D,u,K,G,E))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),m.props=u,m.state=G,m.context=E,u=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,ad(n,r),E=r.memoizedProps,Z=Ls(o,E),m.props=Z,te=r.pendingProps,K=m.context,G=o.contextType,D=Ca,typeof G=="object"&&G!==null&&(D=Yt(G)),b=o.getDerivedStateFromProps,(G=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==te||K!==D)&&R_(r,m,u,D),yr=!1,K=r.memoizedState,m.state=K,hl(r,u,m,f),cl();var $=r.memoizedState;E!==te||K!==$||yr||n!==null&&n.dependencies!==null&&tc(n.dependencies)?(typeof b=="function"&&(Id(r,o,b,u),$=r.memoizedState),(Z=yr||A_(r,o,Z,u,K,$,D)||n!==null&&n.dependencies!==null&&tc(n.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,$,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,$,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),m.props=u,m.state=$,m.context=D,u=Z):(typeof m.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(r.flags|=1024),u=!1)}return m=u,Ec(n,r),u=(r.flags&128)!==0,m||u?(m=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&u?(r.child=La(r,n.child,null,f),r.child=La(r,null,o,f)):zt(n,r,o,f),r.memoizedState=m.state,n=r.child):n=Fi(n,r,f),n}function j_(n,r,o,u){return nl(),r.flags|=256,zt(n,r,o,u),r.child}var Nd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kd(n){return{baseLanes:n,cachePool:Cy()}}function Md(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Pn),n}function H_(n,r,o){var u=r.pendingProps,f=!1,m=(r.flags&128)!==0,E;if((E=m)||(E=n!==null&&n.memoizedState===null?!1:(St.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Be){if(f?Tr(r):wr(),Be){var b=lt,D;if(D=b){e:{for(D=b,b=li;D.nodeType!==8;){if(!b){b=null;break e}if(D=Gn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ds!==null?{id:Li,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},D=mn(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,rn=r,lt=null,D=!0):D=!1}D||Ms(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return gm(b)?r.lanes=32:r.lanes=536870912,null;qi(r)}return b=u.children,u=u.fallback,f?(wr(),f=r.mode,b=Tc({mode:"hidden",children:b},f),u=Os(u,f,o,null),b.return=r,u.return=r,b.sibling=u,r.child=b,f=r.child,f.memoizedState=kd(o),f.childLanes=Md(n,E,o),r.memoizedState=Nd,u):(Tr(r),xd(r,b))}if(D=n.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(m)r.flags&256?(Tr(r),r.flags&=-257,r=Pd(n,r,o)):r.memoizedState!==null?(wr(),r.child=n.child,r.flags|=128,r=null):(wr(),f=u.fallback,b=r.mode,u=Tc({mode:"visible",children:u.children},b),f=Os(f,b,o,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,La(r,n.child,null,o),u=r.child,u.memoizedState=kd(o),u.childLanes=Md(n,E,o),r.memoizedState=Nd,r=f);else if(Tr(r),gm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(s(419)),u.stack="",u.digest=E,il({value:u,source:null,stack:null}),r=Pd(n,r,o)}else if(Nt||rl(n,r,o,!1),E=(o&n.childLanes)!==0,Nt||E){if(E=Je,E!==null&&(u=o&-o,u=(u&42)!==0?1:ur(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Ia(n,u),vn(E,n,u),M_;b.data==="$?"||Jd(),r=Pd(n,r,o)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,lt=Gn(b.nextSibling),rn=r,Be=!0,ks=null,li=!1,n!==null&&(kn[Mn++]=Li,kn[Mn++]=zi,kn[Mn++]=Ds,Li=n.id,zi=n.overflow,Ds=r),r=xd(r,u.children),r.flags|=4096);return r}return f?(wr(),f=u.fallback,b=r.mode,D=n.child,G=D.sibling,u=Ui(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,G!==null?f=Ui(G,f):(f=Os(f,b,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,b=n.child.memoizedState,b===null?b=kd(o):(D=b.cachePool,D!==null?(G=bt._currentValue,D=D.parent!==G?{parent:G,pool:G}:D):D=Cy(),b={baseLanes:b.baseLanes|o,cachePool:D}),f.memoizedState=b,f.childLanes=Md(n,E,o),r.memoizedState=Nd,u):(Tr(r),o=n.child,n=o.sibling,o=Ui(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=o,r.memoizedState=null,o)}function xd(n,r){return r=Tc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Tc(n,r){return n=mn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Pd(n,r,o){return La(r,n.child,null,o),n=xd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function q_(n,r,o){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Jf(n.return,r,o)}function Vd(n,r,o,u,f){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function F_(n,r,o){var u=r.pendingProps,f=u.revealOrder,m=u.tail;if(zt(n,r,u.children,o),u=St.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&q_(n,o,r);else if(n.tag===19)q_(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ae(St,u),f){case"forwards":for(o=r.child,f=null;o!==null;)n=o.alternate,n!==null&&yc(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Vd(r,!1,f,o,m);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&yc(n)===null){r.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Vd(r,!0,o,null,m);break;case"together":Vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fi(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Ir|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(rl(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=Ui(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Ui(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Ud(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&tc(n)))}function oA(n,r,o){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),gr(r,bt,n.memoizedState.cache),nl();break;case 27:case 5:lr(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:gr(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Tr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?H_(n,r,o):(Tr(r),n=Fi(n,r,o),n!==null?n.sibling:null);Tr(r);break;case 19:var f=(n.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(rl(n,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return F_(n,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(St,St.current),u)break;return null;case 22:case 23:return r.lanes=0,U_(n,r,o);case 24:gr(r,bt,n.memoizedState.cache)}return Fi(n,r,o)}function G_(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)Nt=!0;else{if(!Ud(n,o)&&(r.flags&128)===0)return Nt=!1,oA(n,r,o);Nt=(n.flags&131072)!==0}else Nt=!1,Be&&(r.flags&1048576)!==0&&Ty(r,ec,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var u=r.elementType,f=u._init;if(u=f(u._payload),r.type=u,typeof u=="function")Kf(u)?(n=Ls(u,n),r.tag=1,r=B_(null,r,u,n,o)):(r.tag=0,r=Dd(null,r,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===Y){r.tag=11,r=x_(null,r,u,n,o);break e}else if(f===O){r.tag=14,r=P_(null,r,u,n,o);break e}}throw r=Vt(u)||u,Error(s(306,r,""))}}return r;case 0:return Dd(n,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Ls(u,r.pendingProps),B_(n,r,u,f,o);case 3:e:{if(Ze(r,r.stateNode.containerInfo),n===null)throw Error(s(387));u=r.pendingProps;var m=r.memoizedState;f=m.element,ad(n,r),hl(r,u,null,o);var E=r.memoizedState;if(u=E.cache,gr(r,bt,u),u!==m.cache&&ed(r,[bt],o,!0),cl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=j_(n,r,u,o);break e}else if(u!==f){f=Dn(Error(s(424)),r),il(f),r=j_(n,r,u,o);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(lt=Gn(n.firstChild),rn=r,Be=!0,ks=null,li=!0,o=b_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(nl(),u===f){r=Fi(n,r,o);break e}zt(n,r,u,o)}r=r.child}return r;case 26:return Ec(n,r),n===null?(o=Xv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Be||(o=r.type,n=r.pendingProps,u=Pc(we.current).createElement(o),u[Et]=r,u[mt]=n,jt(u,o,n),ct(u),r.stateNode=u):r.memoizedState=Xv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return lr(r),n===null&&Be&&(u=r.stateNode=Kv(r.type,r.pendingProps,we.current),rn=r,li=!0,f=lt,Nr(r.type)?(ym=f,lt=Gn(u.firstChild)):lt=f),zt(n,r,r.pendingProps.children,o),Ec(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Be&&((f=u=lt)&&(u=PA(u,r.type,r.pendingProps,li),u!==null?(r.stateNode=u,rn=r,lt=Gn(u.firstChild),li=!1,f=!0):f=!1),f||Ms(r)),lr(r),f=r.type,m=r.pendingProps,E=n!==null?n.memoizedProps:null,u=m.children,dm(f,m)?u=null:E!==null&&dm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=fd(n,r,JS,null,null,o),Ml._currentValue=f),Ec(n,r),zt(n,r,u,o),r.child;case 6:return n===null&&Be&&((n=o=lt)&&(o=VA(o,r.pendingProps,li),o!==null?(r.stateNode=o,rn=r,lt=null,n=!0):n=!1),n||Ms(r)),null;case 13:return H_(n,r,o);case 4:return Ze(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=La(r,null,u,o):zt(n,r,u,o),r.child;case 11:return x_(n,r,r.type,r.pendingProps,o);case 7:return zt(n,r,r.pendingProps,o),r.child;case 8:return zt(n,r,r.pendingProps.children,o),r.child;case 12:return zt(n,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,gr(r,r.type,u.value),zt(n,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ps(r),f=Yt(f),u=u(f),r.flags|=1,zt(n,r,u,o),r.child;case 14:return P_(n,r,r.type,r.pendingProps,o);case 15:return V_(n,r,r.type,r.pendingProps,o);case 19:return F_(n,r,o);case 31:return u=r.pendingProps,o=r.mode,u={mode:u.mode,children:u.children},n===null?(o=Tc(u,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Ui(n.child,u),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return U_(n,r,o);case 24:return Ps(r),u=Yt(bt),n===null?(f=id(),f===null&&(f=Je,m=td(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),r.memoizedState={parent:u,cache:f},sd(r),gr(r,bt,f)):((n.lanes&o)!==0&&(ad(n,r),hl(r,null,null,o),cl()),f=n.memoizedState,m=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),gr(r,bt,u)):(u=m.cache,gr(r,bt,u),u!==f.cache&&ed(r,[bt],o,!0))),zt(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Gi(n){n.flags|=4}function K_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!e0(r)){if(r=xn.current,r!==null&&((Ve&4194048)===Ve?ui!==null:(Ve&62914560)!==Ve&&(Ve&536870912)===0||r!==ui))throw ll=rd,Oy;n.flags|=8192}}function wc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Po():536870912,n.lanes|=r,Ha|=r)}function _l(n,r){if(!Be)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(r)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,r}function lA(n,r,o){var u=r.pendingProps;switch(Qf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(r),null;case 1:return rt(r),null;case 3:return o=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ji(bt),Qn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(tl(r)?Gi(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Sy())),rt(r),null;case 26:return o=r.memoizedState,n===null?(Gi(r),o!==null?(rt(r),K_(r,o)):(rt(r),r.flags&=-16777217)):o?o!==n.memoizedState?(Gi(r),rt(r),K_(r,o)):(rt(r),r.flags&=-16777217):(n.memoizedProps!==u&&Gi(r),rt(r),r.flags&=-16777217),null;case 27:Si(r),o=we.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Gi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}n=ge.current,tl(r)?wy(r):(n=Kv(f,u,o),r.stateNode=n,Gi(r))}return rt(r),null;case 5:if(Si(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Gi(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return rt(r),null}if(n=ge.current,tl(r))wy(r);else{switch(f=Pc(we.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Et]=r,n[mt]=u;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(jt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Gi(r)}}return rt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Gi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(n=we.current,tl(r)){if(n=r.stateNode,o=r.memoizedProps,u=null,f=rn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Et]=r,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||zv(n.nodeValue,o)),n||Ms(r)}else n=Pc(n).createTextNode(u),n[Et]=r,r.stateNode=n}return rt(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=tl(r),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Et]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;rt(r),f=!1}else f=Sy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(qi(r),r):(qi(r),null)}if(qi(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),wc(r,r.updateQueue),rt(r),null;case 4:return Qn(),n===null&&lm(r.stateNode.containerInfo),rt(r),null;case 10:return ji(r.type),rt(r),null;case 19:if(ue(St),f=r.memoizedState,f===null)return rt(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)_l(f,!1);else{if(ut!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=yc(n),m!==null){for(r.flags|=128,_l(f,!1),n=m.updateQueue,r.updateQueue=n,wc(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)Ey(o,n),o=o.sibling;return ae(St,St.current&1|2),r.child}n=n.sibling}f.tail!==null&&Sn()>Ac&&(r.flags|=128,u=!0,_l(f,!1),r.lanes=4194304)}else{if(!u)if(n=yc(m),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,wc(r,n),_l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Be)return rt(r),null}else 2*Sn()-f.renderingStartTime>Ac&&o!==536870912&&(r.flags|=128,u=!0,_l(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(n=f.last,n!==null?n.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Sn(),r.sibling=null,n=St.current,ae(St,u?n&1|2:n&1),r):(rt(r),null);case 22:case 23:return qi(r),cd(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(rt(r),r.subtreeFlags&6&&(r.flags|=8192)):rt(r),o=r.updateQueue,o!==null&&wc(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),n!==null&&ue(Vs),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ji(bt),rt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function uA(n,r){switch(Qf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ji(bt),Qn(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Si(r),null;case 13:if(qi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));nl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ue(St),null;case 4:return Qn(),null;case 10:return ji(r.type),null;case 22:case 23:return qi(r),cd(),n!==null&&ue(Vs),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return ji(bt),null;case 25:return null;default:return null}}function Y_(n,r){switch(Qf(r),r.tag){case 3:ji(bt),Qn();break;case 26:case 27:case 5:Si(r);break;case 4:Qn();break;case 13:qi(r);break;case 19:ue(St);break;case 10:ji(r.type);break;case 22:case 23:qi(r),cd(),n!==null&&ue(Vs);break;case 24:ji(bt)}}function vl(n,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(b){Qe(r,r.return,b)}}function br(n,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var D=o,G=b;try{G()}catch(Z){Qe(f,D,Z)}}}u=u.next}while(u!==m)}}catch(Z){Qe(r,r.return,Z)}}function $_(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{Py(r,o)}catch(u){Qe(n,n.return,u)}}}function X_(n,r,o){o.props=Ls(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Qe(n,r,u)}}function El(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){Qe(n,r,f)}}function ci(n,r){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){Qe(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Qe(n,r,f)}else o.current=null}function Q_(n){var r=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){Qe(n,n.return,f)}}function Ld(n,r,o){try{var u=n.stateNode;DA(u,n.type,o,r),u[mt]=r}catch(f){Qe(n,n.return,f)}}function W_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Nr(n.type)||n.tag===4}function zd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||W_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Nr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bd(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=xc));else if(u!==4&&(u===27&&Nr(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Bd(n,r,o),n=n.sibling;n!==null;)Bd(n,r,o),n=n.sibling}function bc(n,r,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(u!==4&&(u===27&&Nr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(bc(n,r,o),n=n.sibling;n!==null;)bc(n,r,o),n=n.sibling}function Z_(n){var r=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);jt(r,u,o),r[Et]=n,r[mt]=o}catch(m){Qe(n,n.return,m)}}var Ki=!1,ft=!1,jd=!1,J_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function cA(n,r){if(n=n.containerInfo,hm=jc,n=cy(n),zf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,b=-1,D=-1,G=0,Z=0,te=n,K=null;t:for(;;){for(var $;te!==o||f!==0&&te.nodeType!==3||(b=E+f),te!==m||u!==0&&te.nodeType!==3||(D=E+u),te.nodeType===3&&(E+=te.nodeValue.length),($=te.firstChild)!==null;)K=te,te=$;for(;;){if(te===n)break t;if(K===o&&++G===f&&(b=E),K===m&&++Z===u&&(D=E),($=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=$}o=b===-1||D===-1?null:{start:b,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(fm={focusedElem:n,selectionRange:o},jc=!1,kt=r;kt!==null;)if(r=kt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,kt=n;else for(;kt!==null;){switch(r=kt,m=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=r,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Ee=Ls(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ee,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Qe(o,o.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)pm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":pm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,kt=n;break}kt=r.return}}function ev(n,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Sr(n,o),u&4&&vl(5,o);break;case 1:if(Sr(n,o),u&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(E){Qe(o,o.return,E)}else{var f=Ls(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Qe(o,o.return,E)}}u&64&&$_(o),u&512&&El(o,o.return);break;case 3:if(Sr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{Py(n,r)}catch(E){Qe(o,o.return,E)}}break;case 27:r===null&&u&4&&Z_(o);case 26:case 5:Sr(n,o),r===null&&u&4&&Q_(o),u&512&&El(o,o.return);break;case 12:Sr(n,o);break;case 13:Sr(n,o),u&4&&iv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=vA.bind(null,o),UA(n,o))));break;case 22:if(u=o.memoizedState!==null||Ki,!u){r=r!==null&&r.memoizedState!==null||ft,f=Ki;var m=ft;Ki=u,(ft=r)&&!m?Ar(n,o,(o.subtreeFlags&8772)!==0):Sr(n,o),Ki=f,ft=m}break;case 30:break;default:Sr(n,o)}}function tv(n){var r=n.alternate;r!==null&&(n.alternate=null,tv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&fr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var nt=null,an=!1;function Yi(n,r,o){for(o=o.child;o!==null;)nv(n,r,o),o=o.sibling}function nv(n,r,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ot,o)}catch{}switch(o.tag){case 26:ft||ci(o,r),Yi(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||ci(o,r);var u=nt,f=an;Nr(o.type)&&(nt=o.stateNode,an=!1),Yi(n,r,o),Ol(o.stateNode),nt=u,an=f;break;case 5:ft||ci(o,r);case 6:if(u=nt,f=an,nt=null,Yi(n,r,o),nt=u,an=f,nt!==null)if(an)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(o.stateNode)}catch(m){Qe(o,r,m)}else try{nt.removeChild(o.stateNode)}catch(m){Qe(o,r,m)}break;case 18:nt!==null&&(an?(n=nt,Fv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Ul(n)):Fv(nt,o.stateNode));break;case 4:u=nt,f=an,nt=o.stateNode.containerInfo,an=!0,Yi(n,r,o),nt=u,an=f;break;case 0:case 11:case 14:case 15:ft||br(2,o,r),ft||br(4,o,r),Yi(n,r,o);break;case 1:ft||(ci(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&X_(o,r,u)),Yi(n,r,o);break;case 21:Yi(n,r,o);break;case 22:ft=(u=ft)||o.memoizedState!==null,Yi(n,r,o),ft=u;break;default:Yi(n,r,o)}}function iv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ul(n)}catch(o){Qe(r,r.return,o)}}function hA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new J_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new J_),r;default:throw Error(s(435,n.tag))}}function Hd(n,r){var o=hA(n);r.forEach(function(u){var f=EA.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function pn(n,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Nr(b.type)){nt=b.stateNode,an=!1;break e}break;case 5:nt=b.stateNode,an=!1;break e;case 3:case 4:nt=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(nt===null)throw Error(s(160));nv(m,E,f),nt=null,an=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)rv(r,n),r=r.sibling}var Fn=null;function rv(n,r){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:pn(r,n),gn(n),u&4&&(br(3,n,n.return),vl(3,n),br(5,n,n.return));break;case 1:pn(r,n),gn(n),u&512&&(ft||o===null||ci(o,o.return)),u&64&&Ki&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Fn;if(pn(r,n),gn(n),u&512&&(ft||o===null||ci(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[ds]||m[Et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),jt(m,u,o),m[Et]=n,ct(m),u=m;break e;case"link":var E=Zv("link","href",f).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(m=E[b],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}m=f.createElement(u),jt(m,u,o),f.head.appendChild(m);break;case"meta":if(E=Zv("meta","content",f).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(m=E[b],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}m=f.createElement(u),jt(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Et]=n,ct(m),u=m}n.stateNode=u}else Jv(f,n.type,n.stateNode);else n.stateNode=Wv(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Jv(f,n.type,n.stateNode):Wv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,o.memoizedProps)}break;case 27:pn(r,n),gn(n),u&512&&(ft||o===null||ci(o,o.return)),o!==null&&u&4&&Ld(n,n.memoizedProps,o.memoizedProps);break;case 5:if(pn(r,n),gn(n),u&512&&(ft||o===null||ci(o,o.return)),n.flags&32){f=n.stateNode;try{Rn(f,"")}catch($){Qe(n,n.return,$)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Ld(n,f,o!==null?o.memoizedProps:f)),u&1024&&(jd=!0);break;case 6:if(pn(r,n),gn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch($){Qe(n,n.return,$)}}break;case 3:if(Lc=null,f=Fn,Fn=Vc(r.containerInfo),pn(r,n),Fn=f,gn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ul(r.containerInfo)}catch($){Qe(n,n.return,$)}jd&&(jd=!1,sv(n));break;case 4:u=Fn,Fn=Vc(n.stateNode.containerInfo),pn(r,n),gn(n),Fn=u;break;case 12:pn(r,n),gn(n);break;case 13:pn(r,n),gn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&($d=Sn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Hd(n,u)));break;case 22:f=n.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,G=Ki,Z=ft;if(Ki=G||f,ft=Z||D,pn(r,n),ft=Z,Ki=G,gn(n),u&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||D||Ki||ft||zs(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){D=o=r;try{if(m=D.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=D.stateNode;var te=D.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch($){Qe(D,D.return,$)}}}else if(r.tag===6){if(o===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch($){Qe(D,D.return,$)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Hd(n,o))));break;case 19:pn(r,n),gn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Hd(n,u)));break;case 30:break;case 21:break;default:pn(r,n),gn(n)}}function gn(n){var r=n.flags;if(r&2){try{for(var o,u=n.return;u!==null;){if(W_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=zd(n);bc(n,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(Rn(E,""),o.flags&=-33);var b=zd(n);bc(n,b,E);break;case 3:case 4:var D=o.stateNode.containerInfo,G=zd(n);Bd(n,G,D);break;default:throw Error(s(161))}}catch(Z){Qe(n,n.return,Z)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function sv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;sv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Sr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ev(n,r.alternate,r),r=r.sibling}function zs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:br(4,r,r.return),zs(r);break;case 1:ci(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&X_(r,r.return,o),zs(r);break;case 27:Ol(r.stateNode);case 26:case 5:ci(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}n=n.sibling}}function Ar(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=n,m=r,E=m.flags;switch(m.tag){case 0:case 11:case 15:Ar(f,m,o),vl(4,m);break;case 1:if(Ar(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Qe(u,u.return,G)}if(u=m,f=u.updateQueue,f!==null){var b=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)xy(D[f],b)}catch(G){Qe(u,u.return,G)}}o&&E&64&&$_(m),El(m,m.return);break;case 27:Z_(m);case 26:case 5:Ar(f,m,o),o&&u===null&&E&4&&Q_(m),El(m,m.return);break;case 12:Ar(f,m,o);break;case 13:Ar(f,m,o),o&&E&4&&iv(f,m);break;case 22:m.memoizedState===null&&Ar(f,m,o),El(m,m.return);break;case 30:break;default:Ar(f,m,o)}r=r.sibling}}function qd(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&sl(o))}function Fd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&sl(n))}function hi(n,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)av(n,r,o,u),r=r.sibling}function av(n,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:hi(n,r,o,u),f&2048&&vl(9,r);break;case 1:hi(n,r,o,u);break;case 3:hi(n,r,o,u),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&sl(n)));break;case 12:if(f&2048){hi(n,r,o,u),n=r.stateNode;try{var m=r.memoizedProps,E=m.id,b=m.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Qe(r,r.return,D)}}else hi(n,r,o,u);break;case 13:hi(n,r,o,u);break;case 23:break;case 22:m=r.stateNode,E=r.alternate,r.memoizedState!==null?m._visibility&2?hi(n,r,o,u):Tl(n,r):m._visibility&2?hi(n,r,o,u):(m._visibility|=2,za(n,r,o,u,(r.subtreeFlags&10256)!==0)),f&2048&&qd(E,r);break;case 24:hi(n,r,o,u),f&2048&&Fd(r.alternate,r);break;default:hi(n,r,o,u)}}function za(n,r,o,u,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=n,E=r,b=o,D=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:za(m,E,b,D,f),vl(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&2?za(m,E,b,D,f):Tl(m,E):(Z._visibility|=2,za(m,E,b,D,f)),f&&G&2048&&qd(E.alternate,E);break;case 24:za(m,E,b,D,f),f&&G&2048&&Fd(E.alternate,E);break;default:za(m,E,b,D,f)}r=r.sibling}}function Tl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,u=r,f=u.flags;switch(u.tag){case 22:Tl(o,u),f&2048&&qd(u.alternate,u);break;case 24:Tl(o,u),f&2048&&Fd(u.alternate,u);break;default:Tl(o,u)}r=r.sibling}}var wl=8192;function Ba(n){if(n.subtreeFlags&wl)for(n=n.child;n!==null;)ov(n),n=n.sibling}function ov(n){switch(n.tag){case 26:Ba(n),n.flags&wl&&n.memoizedState!==null&&QA(Fn,n.memoizedState,n.memoizedProps);break;case 5:Ba(n);break;case 3:case 4:var r=Fn;Fn=Vc(n.stateNode.containerInfo),Ba(n),Fn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,Ba(n),wl=r):Ba(n));break;default:Ba(n)}}function lv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function bl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];kt=u,cv(u,n)}lv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uv(n),n=n.sibling}function uv(n){switch(n.tag){case 0:case 11:case 15:bl(n),n.flags&2048&&br(9,n,n.return);break;case 3:bl(n);break;case 12:bl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Sc(n)):bl(n);break;default:bl(n)}}function Sc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];kt=u,cv(u,n)}lv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:br(8,r,r.return),Sc(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Sc(r));break;default:Sc(r)}n=n.sibling}}function cv(n,r){for(;kt!==null;){var o=kt;switch(o.tag){case 0:case 11:case 15:br(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:sl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,kt=u;else e:for(o=n;kt!==null;){u=kt;var f=u.sibling,m=u.return;if(tv(u),u===o){kt=null;break e}if(f!==null){f.return=m,kt=f;break e}kt=m}}}var fA={getCacheForType:function(n){var r=Yt(bt),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},dA=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Je=null,De=null,Ve=0,Ge=0,yn=null,Rr=!1,ja=!1,Gd=!1,$i=0,ut=0,Ir=0,Bs=0,Kd=0,Pn=0,Ha=0,Sl=null,on=null,Yd=!1,$d=0,Ac=1/0,Rc=null,Cr=null,Bt=0,Or=null,qa=null,Fa=0,Xd=0,Qd=null,hv=null,Al=0,Wd=null;function _n(){if((Fe&2)!==0&&Ve!==0)return Ve&-Ve;if(W.T!==null){var n=Na;return n!==0?n:rm()}return cr()}function fv(){Pn===0&&(Pn=(Ve&536870912)===0||Be?xo():536870912);var n=xn.current;return n!==null&&(n.flags|=32),Pn}function vn(n,r,o){(n===Je&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)&&(Ga(n,0),Dr(n,Ve,Pn,!1)),Ri(n,o),((Fe&2)===0||n!==Je)&&(n===Je&&((Fe&2)===0&&(Bs|=o),ut===4&&Dr(n,Ve,Pn,!1)),fi(n))}function dv(n,r,o){if((Fe&6)!==0)throw Error(s(327));var u=!o&&(r&124)===0&&(r&n.expiredLanes)===0||fs(n,r),f=u?gA(n,r):em(n,r,!0),m=u;do{if(f===0){ja&&!u&&Dr(n,r,0,!1);break}else{if(o=n.current.alternate,m&&!mA(o)){f=em(n,r,!1),m=!1;continue}if(f===2){if(m=r,n.errorRecoveryDisabledLanes&m)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=Sl;var D=b.current.memoizedState.isDehydrated;if(D&&(Ga(b,E).flags|=256),E=em(b,E,!1),E!==2){if(Gd&&!D){b.errorRecoveryDisabledLanes|=m,Bs|=m,f=4;break e}m=on,on=f,m!==null&&(on===null?on=m:on.push.apply(on,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Ga(n,0),Dr(n,r,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(u,r,Pn,!Rr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=$d+300-Sn(),10<f)){if(Dr(u,r,Pn,!Rr),la(u,0,!0)!==0)break e;u.timeoutHandle=Hv(mv.bind(null,u,o,on,Rc,Yd,r,Pn,Bs,Ha,Rr,m,2,-0,0),f);break e}mv(u,o,on,Rc,Yd,r,Pn,Bs,Ha,Rr,m,0,-0,0)}}break}while(!0);fi(n)}function mv(n,r,o,u,f,m,E,b,D,G,Z,te,K,$){if(n.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:XA},ov(r),te=WA(),te!==null)){n.cancelPendingCommit=te(Tv.bind(null,n,r,m,o,u,f,E,b,D,Z,1,K,$)),Dr(n,m,E,!G);return}Tv(n,r,m,o,u,f,E,b,D)}function mA(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!dn(m(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(n,r,o,u){r&=~Kd,r&=~Bs,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var f=r;0<f;){var m=31-Kt(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&Wn(n,o,r)}function Ic(){return(Fe&6)===0?(Rl(0),!1):!0}function Zd(){if(De!==null){if(Ge===0)var n=De.return;else n=De,Bi=xs=null,pd(n),Ua=null,gl=0,n=De;for(;n!==null;)Y_(n.alternate,n),n=n.return;De=null}}function Ga(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,kA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Zd(),Je=n,De=o=Ui(n.current,null),Ve=r,Ge=0,yn=null,Rr=!1,ja=fs(n,r),Gd=!1,Ha=Pn=Kd=Bs=Ir=ut=0,on=Sl=null,Yd=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var f=31-Kt(u),m=1<<f;r|=n[f],u&=~m}return $i=r,Xu(),o}function pv(n,r){Re=null,W.H=mc,r===ol||r===rc?(r=ky(),Ge=3):r===Oy?(r=ky(),Ge=4):Ge=r===M_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,De===null&&(ut=1,vc(n,Dn(r,n.current)))}function gv(){var n=W.H;return W.H=mc,n===null?mc:n}function yv(){var n=W.A;return W.A=fA,n}function Jd(){ut=4,Rr||(Ve&4194048)!==Ve&&xn.current!==null||(ja=!0),(Ir&134217727)===0&&(Bs&134217727)===0||Je===null||Dr(Je,Ve,Pn,!1)}function em(n,r,o){var u=Fe;Fe|=2;var f=gv(),m=yv();(Je!==n||Ve!==r)&&(Rc=null,Ga(n,r)),r=!1;var E=ut;e:do try{if(Ge!==0&&De!==null){var b=De,D=yn;switch(Ge){case 8:Zd(),E=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var G=Ge;if(Ge=0,yn=null,Ka(n,b,D,G),o&&ja){E=0;break e}break;default:G=Ge,Ge=0,yn=null,Ka(n,b,D,G)}}pA(),E=ut;break}catch(Z){pv(n,Z)}while(!0);return r&&n.shellSuspendCounter++,Bi=xs=null,Fe=u,W.H=f,W.A=m,De===null&&(Je=null,Ve=0,Xu()),E}function pA(){for(;De!==null;)_v(De)}function gA(n,r){var o=Fe;Fe|=2;var u=gv(),f=yv();Je!==n||Ve!==r?(Rc=null,Ac=Sn()+500,Ga(n,r)):ja=fs(n,r);e:do try{if(Ge!==0&&De!==null){r=De;var m=yn;t:switch(Ge){case 1:Ge=0,yn=null,Ka(n,r,m,1);break;case 2:case 9:if(Dy(m)){Ge=0,yn=null,vv(r);break}r=function(){Ge!==2&&Ge!==9||Je!==n||(Ge=7),fi(n)},m.then(r,r);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Dy(m)?(Ge=0,yn=null,vv(r)):(Ge=0,yn=null,Ka(n,r,m,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var b=De;if(!E||e0(E)){Ge=0,yn=null;var D=b.sibling;if(D!==null)De=D;else{var G=b.return;G!==null?(De=G,Cc(G)):De=null}break t}}Ge=0,yn=null,Ka(n,r,m,5);break;case 6:Ge=0,yn=null,Ka(n,r,m,6);break;case 8:Zd(),ut=6;break e;default:throw Error(s(462))}}yA();break}catch(Z){pv(n,Z)}while(!0);return Bi=xs=null,W.H=u,W.A=f,Fe=o,De!==null?0:(Je=null,Ve=0,Xu(),ut)}function yA(){for(;De!==null&&!Do();)_v(De)}function _v(n){var r=G_(n.alternate,n,$i);n.memoizedProps=n.pendingProps,r===null?Cc(n):De=r}function vv(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=z_(o,r,r.pendingProps,r.type,void 0,Ve);break;case 11:r=z_(o,r,r.pendingProps,r.type.render,r.ref,Ve);break;case 5:pd(r);default:Y_(o,r),r=De=Ey(r,$i),r=G_(o,r,$i)}n.memoizedProps=n.pendingProps,r===null?Cc(n):De=r}function Ka(n,r,o,u){Bi=xs=null,pd(r),Ua=null,gl=0;var f=r.return;try{if(aA(n,f,r,o,Ve)){ut=1,vc(n,Dn(o,n.current)),De=null;return}}catch(m){if(f!==null)throw De=f,m;ut=1,vc(n,Dn(o,n.current)),De=null;return}r.flags&32768?(Be||u===1?n=!0:ja||(Ve&536870912)!==0?n=!1:(Rr=n=!0,(u===2||u===9||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ev(r,n)):Cc(r)}function Cc(n){var r=n;do{if((r.flags&32768)!==0){Ev(r,Rr);return}n=r.return;var o=lA(r.alternate,r,$i);if(o!==null){De=o;return}if(r=r.sibling,r!==null){De=r;return}De=r=n}while(r!==null);ut===0&&(ut=5)}function Ev(n,r){do{var o=uA(n.alternate,n);if(o!==null){o.flags&=32767,De=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){De=n;return}De=n=o}while(n!==null);ut=6,De=null}function Tv(n,r,o,u,f,m,E,b,D){n.cancelPendingCommit=null;do Oc();while(Bt!==0);if((Fe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Ff,Vo(n,o,m,E,b,D),n===Je&&(De=Je=null,Ve=0),qa=r,Or=n,Fa=o,Xd=m,Qd=f,hv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,TA(ls,function(){return Rv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=le.p,le.p=2,E=Fe,Fe|=4;try{cA(n,r,o)}finally{Fe=E,le.p=f,W.T=u}}Bt=1,wv(),bv(),Sv()}}function wv(){if(Bt===1){Bt=0;var n=Or,r=qa,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var f=Fe;Fe|=4;try{rv(r,n);var m=fm,E=cy(n.containerInfo),b=m.focusedElem,D=m.selectionRange;if(E!==b&&b&&b.ownerDocument&&uy(b.ownerDocument.documentElement,b)){if(D!==null&&zf(b)){var G=D.start,Z=D.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var $=K.getSelection(),Ee=b.textContent.length,ye=Math.min(D.start,Ee),Xe=D.end===void 0?ye:Math.min(D.end,Ee);!$.extend&&ye>Xe&&(E=Xe,Xe=ye,ye=E);var B=ly(b,ye),P=ly(b,Xe);if(B&&P&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var q=te.createRange();q.setStart(B.node,B.offset),$.removeAllRanges(),ye>Xe?($.addRange(q),$.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),$.addRange(q))}}}}for(te=[],$=b;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}jc=!!hm,fm=hm=null}finally{Fe=f,le.p=u,W.T=o}}n.current=r,Bt=2}}function bv(){if(Bt===2){Bt=0;var n=Or,r=qa,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=le.p;le.p=2;var f=Fe;Fe|=4;try{ev(n,r.alternate,r)}finally{Fe=f,le.p=u,W.T=o}}Bt=3}}function Sv(){if(Bt===4||Bt===3){Bt=0,Su();var n=Or,r=qa,o=Fa,u=hv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,qa=Or=null,Av(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Cr=null),ua(o),r=r.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=W.T,f=le.p,le.p=2,W.T=null;try{for(var m=n.onRecoverableError,E=0;E<u.length;E++){var b=u[E];m(b.value,{componentStack:b.stack})}}finally{W.T=r,le.p=f}}(Fa&3)!==0&&Oc(),fi(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Wd?Al++:(Al=0,Wd=n):Al=0,Rl(0)}}function Av(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,sl(r)))}function Oc(n){return wv(),bv(),Sv(),Rv()}function Rv(){if(Bt!==5)return!1;var n=Or,r=Xd;Xd=0;var o=ua(Fa),u=W.T,f=le.p;try{le.p=32>o?32:o,W.T=null,o=Qd,Qd=null;var m=Or,E=Fa;if(Bt=0,qa=Or=null,Fa=0,(Fe&6)!==0)throw Error(s(331));var b=Fe;if(Fe|=4,uv(m.current),av(m,m.current,E,o),Fe=b,Rl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ot,m)}catch{}return!0}finally{le.p=f,W.T=u,Av(n,r)}}function Iv(n,r,o){r=Dn(o,r),r=Od(n.stateNode,r,2),n=vr(n,r,2),n!==null&&(Ri(n,2),fi(n))}function Qe(n,r,o){if(n.tag===3)Iv(n,n,o);else for(;r!==null;){if(r.tag===3){Iv(r,n,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Cr===null||!Cr.has(u))){n=Dn(o,n),o=N_(2),u=vr(r,o,2),u!==null&&(k_(o,u,r,n),Ri(u,2),fi(u));break}}r=r.return}}function tm(n,r,o){var u=n.pingCache;if(u===null){u=n.pingCache=new dA;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(Gd=!0,f.add(o),n=_A.bind(null,n,r,o),r.then(n,n))}function _A(n,r,o){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Je===n&&(Ve&o)===o&&(ut===4||ut===3&&(Ve&62914560)===Ve&&300>Sn()-$d?(Fe&2)===0&&Ga(n,0):Kd|=o,Ha===Ve&&(Ha=0)),fi(n)}function Cv(n,r){r===0&&(r=Po()),n=Ia(n,r),n!==null&&(Ri(n,r),fi(n))}function vA(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Cv(n,o)}function EA(n,r){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),Cv(n,o)}function TA(n,r){return as(n,r)}var Dc=null,Ya=null,nm=!1,Nc=!1,im=!1,js=0;function fi(n){n!==Ya&&n.next===null&&(Ya===null?Dc=Ya=n:Ya=Ya.next=n),Nc=!0,nm||(nm=!0,bA())}function Rl(n,r){if(!im&&Nc){im=!0;do for(var o=!1,u=Dc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-Kt(42|n)+1)-1,m&=f&~(E&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,kv(u,m))}else m=Ve,m=la(u,u===Je?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||fs(u,m)||(o=!0,kv(u,m));u=u.next}while(o);im=!1}}function wA(){Ov()}function Ov(){Nc=nm=!1;var n=0;js!==0&&(NA()&&(n=js),js=0);for(var r=Sn(),o=null,u=Dc;u!==null;){var f=u.next,m=Dv(u,r);m===0?(u.next=null,o===null?Dc=f:o.next=f,f===null&&(Ya=o)):(o=u,(n!==0||(m&3)!==0)&&(Nc=!0)),u=f}Rl(n)}function Dv(n,r){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var E=31-Kt(m),b=1<<E,D=f[E];D===-1?((b&o)===0||(b&u)!==0)&&(f[E]=Mo(b,r)):D<=r&&(n.expiredLanes|=b),m&=~b}if(r=Je,o=Ve,o=la(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===r&&(Ge===2||Ge===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&os(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fs(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(u!==null&&os(u),ua(o)){case 2:case 8:o=aa;break;case 32:o=ls;break;case 268435456:o=oa;break;default:o=ls}return u=Nv.bind(null,n),o=as(o,u),n.callbackPriority=r,n.callbackNode=o,r}return u!==null&&u!==null&&os(u),n.callbackPriority=2,n.callbackNode=null,2}function Nv(n,r){if(Bt!==0&&Bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Oc()&&n.callbackNode!==o)return null;var u=Ve;return u=la(n,n===Je?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(dv(n,u,r),Dv(n,Sn()),n.callbackNode!=null&&n.callbackNode===o?Nv.bind(null,n):null)}function kv(n,r){if(Oc())return null;dv(n,r,!0)}function bA(){MA(function(){(Fe&6)!==0?as(No,wA):Ov()})}function rm(){return js===0&&(js=xo()),js}function Mv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pa(""+n)}function xv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function SA(n,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var m=Mv((f[mt]||null).action),E=u.submitter;E&&(r=(r=E[mt]||null)?Mv(r.formAction):E.getAttribute("formAction"),r!==null&&(m=r,E=null));var b=new ga("action","action",null,u,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(js!==0){var D=E?xv(f,E):new FormData(f);Sd(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(b.preventDefault(),D=E?xv(f,E):new FormData(f),Sd(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var sm=0;sm<qf.length;sm++){var am=qf[sm],AA=am.toLowerCase(),RA=am[0].toUpperCase()+am.slice(1);qn(AA,"on"+RA)}qn(dy,"onAnimationEnd"),qn(my,"onAnimationIteration"),qn(py,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(qS,"onTransitionRun"),qn(FS,"onTransitionStart"),qn(GS,"onTransitionCancel"),qn(gy,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Pv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(r)for(var E=u.length-1;0<=E;E--){var b=u[E],D=b.instance,G=b.currentTarget;if(b=b.listener,D!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(Z){_c(Z)}f.currentTarget=null,m=D}else for(E=0;E<u.length;E++){if(b=u[E],D=b.instance,G=b.currentTarget,b=b.listener,D!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=G;try{m(f)}catch(Z){_c(Z)}f.currentTarget=null,m=D}}}}function Ne(n,r){var o=r[Lo];o===void 0&&(o=r[Lo]=new Set);var u=n+"__bubble";o.has(u)||(Vv(r,n,2,!1),o.add(u))}function om(n,r,o){var u=0;r&&(u|=4),Vv(o,n,u,r)}var kc="_reactListening"+Math.random().toString(36).slice(2);function lm(n){if(!n[kc]){n[kc]=!0,zo.forEach(function(o){o!=="selectionchange"&&(IA.has(o)||om(o,!1,n),om(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[kc]||(r[kc]=!0,om("selectionchange",!1,r))}}function Vv(n,r,o,u){switch(a0(r)){case 2:var f=e1;break;case 8:f=t1;break;default:f=wm}o=f.bind(null,r,o,n),f=void 0,!Cn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(r,o,{capture:!0,passive:f}):n.addEventListener(r,o,!0):f!==void 0?n.addEventListener(r,o,{passive:f}):n.addEventListener(r,o,!1)}function um(n,r,o,u,f){var m=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Ii(b),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=m=E;continue e}b=b.parentNode}}u=u.return}xu(function(){var G=m,Z=In(o),te=[];e:{var K=yy.get(n);if(K!==void 0){var $=ga,Ee=n;switch(n){case"keypress":if(ii(o)===0)break e;case"keydown":case"keyup":$=wa;break;case"focusin":Ee="focus",$=va;break;case"focusout":Ee="blur",$=va;break;case"beforeblur":case"afterblur":$=va;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Hu;break;case dy:case my:case py:$=Ea;break;case gy:$=Fu;break;case"scroll":case"scrollend":$=Pu;break;case"wheel":$=ba;break;case"copy":case"cut":case"paste":$=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Wo;break;case"toggle":case"beforetoggle":$=Ku}var ye=(r&4)!==0,Xe=!ye&&(n==="scroll"||n==="scrollend"),B=ye?K!==null?K+"Capture":null:K;ye=[];for(var P=G,q;P!==null;){var J=P;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||B===null||(J=Es(P,B),J!=null&&ye.push(Cl(P,J,q))),Xe)break;P=P.return}0<ye.length&&(K=new $(K,Ee,null,o,Z),te.push({event:K,listeners:ye}))}}if((r&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",$=n==="mouseout"||n==="pointerout",K&&o!==Ni&&(Ee=o.relatedTarget||o.fromElement)&&(Ii(Ee)||Ee[An]))break e;if(($||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,$?(Ee=o.relatedTarget||o.toElement,$=G,Ee=Ee?Ii(Ee):null,Ee!==null&&(Xe=l(Ee),ye=Ee.tag,Ee!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):($=null,Ee=G),$!==Ee)){if(ye=On,J="onMouseLeave",B="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Wo,J="onPointerLeave",B="onPointerEnter",P="pointer"),Xe=$==null?K:Jn($),q=Ee==null?K:Jn(Ee),K=new ye(J,P+"leave",$,o,Z),K.target=Xe,K.relatedTarget=q,J=null,Ii(Z)===G&&(ye=new ye(B,P+"enter",Ee,o,Z),ye.target=q,ye.relatedTarget=Xe,J=ye),Xe=J,$&&Ee)t:{for(ye=$,B=Ee,P=0,q=ye;q;q=$a(q))P++;for(q=0,J=B;J;J=$a(J))q++;for(;0<P-q;)ye=$a(ye),P--;for(;0<q-P;)B=$a(B),q--;for(;P--;){if(ye===B||B!==null&&ye===B.alternate)break t;ye=$a(ye),B=$a(B)}ye=null}else ye=null;$!==null&&Uv(te,K,$,ye,!1),Ee!==null&&Xe!==null&&Uv(te,Xe,Ee,ye,!0)}}e:{if(K=G?Jn(G):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var fe=ny;else if(wt(K))if(iy)fe=BS;else{fe=LS;var Oe=US}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Fo(G.elementType)&&(fe=ny):fe=zS;if(fe&&(fe=fe(n,G))){Vi(te,fe,o,Z);break e}Oe&&Oe(n,K,G),n==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&mr(K,"number",K.value)}switch(Oe=G?Jn(G):window,n){case"focusin":(wt(Oe)||Oe.contentEditable==="true")&&(Sa=Oe,Bf=G,el=null);break;case"focusout":el=Bf=Sa=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,hy(te,o,Z);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":hy(te,o,Z)}var de;if(ai)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else xe?X(n,o)&&(_e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(v&&o.locale!=="ko"&&(xe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&xe&&(de=Ko()):(ni=Z,pr="value"in ni?ni.value:ni.textContent,xe=!0)),Oe=Mc(G,_e),0<Oe.length&&(_e=new Xo(_e,n,null,o,Z),te.push({event:_e,listeners:Oe}),de?_e.data=de:(de=oe(o),de!==null&&(_e.data=de)))),(de=y?Tt(n,o):Pe(n,o))&&(_e=Mc(G,"onBeforeInput"),0<_e.length&&(Oe=new Xo("onBeforeInput","beforeinput",null,o,Z),te.push({event:Oe,listeners:_e}),Oe.data=de)),SA(te,n,G,o,Z)}Pv(te,r)})}function Cl(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Mc(n,r){for(var o=r+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Es(n,o),f!=null&&u.unshift(Cl(n,f,m)),f=Es(n,r),f!=null&&u.push(Cl(n,f,m))),n.tag===3)return u;n=n.return}return[]}function $a(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Uv(n,r,o,u,f){for(var m=r._reactName,E=[];o!==null&&o!==u;){var b=o,D=b.alternate,G=b.stateNode;if(b=b.tag,D!==null&&D===u)break;b!==5&&b!==26&&b!==27||G===null||(D=G,f?(G=Es(o,m),G!=null&&E.unshift(Cl(o,G,D))):f||(G=Es(o,m),G!=null&&E.push(Cl(o,G,D)))),o=o.return}E.length!==0&&n.push({event:r,listeners:E})}var CA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function Lv(n){return(typeof n=="string"?n:""+n).replace(CA,`
`).replace(OA,"")}function zv(n,r){return r=Lv(r),Lv(n)===r}function xc(){}function $e(n,r,o,u,f,m){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Rn(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Rn(n,""+u);break;case"className":ei(n,"class",u);break;case"tabIndex":ei(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(n,o,u);break;case"style":qo(n,u,m);break;case"data":if(r!=="object"){ei(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=pa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(r!=="input"&&$e(n,r,"name",f.name,f,null),$e(n,r,"formEncType",f.formEncType,f,null),$e(n,r,"formMethod",f.formMethod,f,null),$e(n,r,"formTarget",f.formTarget,f,null)):($e(n,r,"encType",f.encType,f,null),$e(n,r,"method",f.method,f,null),$e(n,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=pa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=xc);break;case"onScroll":u!=null&&Ne("scroll",n);break;case"onScrollEnd":u!=null&&Ne("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=pa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Ne("beforetoggle",n),Ne("toggle",n),dr(n,"popover",u);break;case"xlinkActuate":Ut(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ut(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ut(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ut(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ut(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ut(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ut(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":dr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Mf.get(o)||o,dr(n,o,u))}}function cm(n,r,o,u,f,m){switch(o){case"style":qo(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Rn(n,u):(typeof u=="number"||typeof u=="bigint")&&Rn(n,""+u);break;case"onScroll":u!=null&&Ne("scroll",n);break;case"onScrollEnd":u!=null&&Ne("scrollend",n);break;case"onClick":u!=null&&(n.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),m=n[mt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(r,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):dr(n,o,u)}}}function jt(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",n),Ne("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(n,r,m,E,o,null)}}f&&$e(n,r,"srcSet",o.srcSet,o,null),u&&$e(n,r,"src",o.src,o,null);return;case"input":Ne("invalid",n);var b=m=E=f=null,D=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":f=Z;break;case"type":E=Z;break;case"checked":D=Z;break;case"defaultChecked":G=Z;break;case"value":m=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:$e(n,r,u,Z,o,null)}}ys(n,m,b,D,G,E,f,!1),ma(n);return;case"select":Ne("invalid",n),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(b=o[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:$e(n,r,f,b,o,null)}r=m,o=E,n.multiple=!!u,r!=null?Di(n,!!u,r,!1):o!=null&&Di(n,!!u,o,!0);return;case"textarea":Ne("invalid",n),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:$e(n,r,E,b,o,null)}_s(n,u,f,m),ma(n);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:$e(n,r,D,u,o,null)}return;case"dialog":Ne("beforetoggle",n),Ne("toggle",n),Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":Ne("load",n);break;case"video":case"audio":for(u=0;u<Il.length;u++)Ne(Il[u],n);break;case"image":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"embed":case"source":case"link":Ne("error",n),Ne("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:$e(n,r,G,u,o,null)}return;default:if(Fo(r)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&cm(n,r,Z,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&$e(n,r,b,u,o,null))}function DA(n,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,b=null,D=null,G=null,Z=null;for($ in o){var te=o[$];if(o.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=te;default:u.hasOwnProperty($)||$e(n,r,$,null,u,te)}}for(var K in u){var $=u[K];if(te=o[K],u.hasOwnProperty(K)&&($!=null||te!=null))switch(K){case"type":m=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":Z=$;break;case"value":E=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&$e(n,r,K,$,u,te)}}fn(n,E,b,D,G,Z,m,f);return;case"select":$=E=b=K=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":$=D;default:u.hasOwnProperty(m)||$e(n,r,m,null,u,D)}for(f in u)if(m=u[f],D=o[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":K=m;break;case"defaultValue":b=m;break;case"multiple":E=m;default:m!==D&&$e(n,r,f,m,u,D)}r=b,o=E,u=$,K!=null?Di(n,!!o,K,!1):!!u!=!!o&&(r!=null?Di(n,!!o,r,!0):Di(n,!!o,o?[]:"",!1));return;case"textarea":$=K=null;for(b in o)if(f=o[b],o.hasOwnProperty(b)&&f!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:$e(n,r,b,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":K=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&$e(n,r,E,f,u,m)}Ke(n,K,$);return;case"option":for(var Ee in o)if(K=o[Ee],o.hasOwnProperty(Ee)&&K!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":n.selected=!1;break;default:$e(n,r,Ee,null,u,K)}for(D in u)if(K=u[D],$=o[D],u.hasOwnProperty(D)&&K!==$&&(K!=null||$!=null))switch(D){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:$e(n,r,D,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in o)K=o[ye],o.hasOwnProperty(ye)&&K!=null&&!u.hasOwnProperty(ye)&&$e(n,r,ye,null,u,K);for(G in u)if(K=u[G],$=o[G],u.hasOwnProperty(G)&&K!==$&&(K!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:$e(n,r,G,K,u,$)}return;default:if(Fo(r)){for(var Xe in o)K=o[Xe],o.hasOwnProperty(Xe)&&K!==void 0&&!u.hasOwnProperty(Xe)&&cm(n,r,Xe,void 0,u,K);for(Z in u)K=u[Z],$=o[Z],!u.hasOwnProperty(Z)||K===$||K===void 0&&$===void 0||cm(n,r,Z,K,u,$);return}}for(var B in o)K=o[B],o.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&$e(n,r,B,null,u,K);for(te in u)K=u[te],$=o[te],!u.hasOwnProperty(te)||K===$||K==null&&$==null||$e(n,r,te,K,u,$)}var hm=null,fm=null;function Pc(n){return n.nodeType===9?n:n.ownerDocument}function Bv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function dm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mm=null;function NA(){var n=window.event;return n&&n.type==="popstate"?n===mm?!1:(mm=n,!0):(mm=null,!1)}var Hv=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(n){return qv.resolve(null).then(n).catch(xA)}:Hv;function xA(n){setTimeout(function(){throw n})}function Nr(n){return n==="head"}function Fv(n,r){var o=r,u=0,f=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Ol(E.documentElement),o&2&&Ol(E.body),o&4)for(o=E.head,Ol(o),E=o.firstChild;E;){var b=E.nextSibling,D=E.nodeName;E[ds]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=b}}if(f===0){n.removeChild(m),Ul(r);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);Ul(r)}function pm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pm(o),fr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function PA(n,r,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ds])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function VA(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Gn(n.nextSibling),n===null))return null;return n}function gm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function UA(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Gn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var ym=null;function Gv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function Kv(n,r,o){switch(r=Pc(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ol(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);fr(n)}var Vn=new Map,Yv=new Set;function Vc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Xi=le.d;le.d={f:LA,r:zA,D:BA,C:jA,L:HA,m:qA,X:GA,S:FA,M:KA};function LA(){var n=Xi.f(),r=Ic();return n||r}function zA(n){var r=Zn(n);r!==null&&r.tag===5&&r.type==="form"?d_(r):Xi.r(n)}var Xa=typeof document>"u"?null:document;function $v(n,r,o){var u=Xa;if(u&&typeof r=="string"&&r){var f=pt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Yv.has(f)||(Yv.add(f),n={rel:n,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),jt(r,"link",n),ct(r),u.head.appendChild(r)))}}function BA(n){Xi.D(n),$v("dns-prefetch",n,null)}function jA(n,r){Xi.C(n,r),$v("preconnect",n,r)}function HA(n,r,o){Xi.L(n,r,o);var u=Xa;if(u&&n&&r){var f='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+pt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+pt(o.imageSizes)+'"]')):f+='[href="'+pt(n)+'"]';var m=f;switch(r){case"style":m=Qa(n);break;case"script":m=Wa(n)}Vn.has(m)||(n=_({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Vn.set(m,n),u.querySelector(f)!==null||r==="style"&&u.querySelector(Dl(m))||r==="script"&&u.querySelector(Nl(m))||(r=u.createElement("link"),jt(r,"link",n),ct(r),u.head.appendChild(r)))}}function qA(n,r){Xi.m(n,r);var o=Xa;if(o&&n){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pt(u)+'"][href="'+pt(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Wa(n)}if(!Vn.has(m)&&(n=_({rel:"modulepreload",href:n},r),Vn.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Nl(m)))return}u=o.createElement("link"),jt(u,"link",n),ct(u),o.head.appendChild(u)}}}function FA(n,r,o){Xi.S(n,r,o);var u=Xa;if(u&&n){var f=en(u).hoistableStyles,m=Qa(n);r=r||"default";var E=f.get(m);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(Dl(m)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Vn.get(m))&&_m(n,o);var D=E=u.createElement("link");ct(D),jt(D,"link",n),D._p=new Promise(function(G,Z){D.onload=G,D.onerror=Z}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Uc(E,r,u)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(m,E)}}}function GA(n,r){Xi.X(n,r);var o=Xa;if(o&&n){var u=en(o).hoistableScripts,f=Wa(n),m=u.get(f);m||(m=o.querySelector(Nl(f)),m||(n=_({src:n,async:!0},r),(r=Vn.get(f))&&vm(n,r),m=o.createElement("script"),ct(m),jt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function KA(n,r){Xi.M(n,r);var o=Xa;if(o&&n){var u=en(o).hoistableScripts,f=Wa(n),m=u.get(f);m||(m=o.querySelector(Nl(f)),m||(n=_({src:n,async:!0,type:"module"},r),(r=Vn.get(f))&&vm(n,r),m=o.createElement("script"),ct(m),jt(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Xv(n,r,o,u){var f=(f=we.current)?Vc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Qa(o.href),o=en(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Qa(o.href);var m=en(f).hoistableStyles,E=m.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,E),(m=f.querySelector(Dl(n)))&&!m._p&&(E.instance=m,E.state.loading=5),Vn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Vn.set(n,o),m||YA(f,n,o,E.state))),r&&u===null)throw Error(s(528,""));return E}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(o),o=en(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Qa(n){return'href="'+pt(n)+'"'}function Dl(n){return'link[rel="stylesheet"]['+n+"]"}function Qv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function YA(n,r,o,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),jt(r,"link",o),ct(r),n.head.appendChild(r))}function Wa(n){return'[src="'+pt(n)+'"]'}function Nl(n){return"script[async]"+n}function Wv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+pt(o.href)+'"]');if(u)return r.instance=u,ct(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ct(u),jt(u,"style",f),Uc(u,o.precedence,n),r.instance=u;case"stylesheet":f=Qa(o.href);var m=n.querySelector(Dl(f));if(m)return r.state.loading|=4,r.instance=m,ct(m),m;u=Qv(o),(f=Vn.get(f))&&_m(u,f),m=(n.ownerDocument||n).createElement("link"),ct(m);var E=m;return E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),jt(m,"link",u),r.state.loading|=4,Uc(m,o.precedence,n),r.instance=m;case"script":return m=Wa(o.src),(f=n.querySelector(Nl(m)))?(r.instance=f,ct(f),f):(u=o,(f=Vn.get(m))&&(u=_({},o),vm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),ct(f),jt(f,"link",u),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Uc(u,o.precedence,n));return r.instance}function Uc(n,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===r)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function _m(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function vm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Lc=null;function Zv(n,r,o){if(Lc===null){var u=new Map,f=Lc=new Map;f.set(o,u)}else f=Lc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[ds]||m[Et]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(r)||"";E=n+E;var b=u.get(E);b?b.push(m):u.set(E,[m])}}return u}function Jv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function $A(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function e0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var kl=null;function XA(){}function QA(n,r,o){if(kl===null)throw Error(s(475));var u=kl;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Qa(o.href),m=n.querySelector(Dl(f));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=zc.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=m,ct(m);return}m=n.ownerDocument||n,o=Qv(o),(f=Vn.get(f))&&_m(o,f),m=m.createElement("link"),ct(m);var E=m;E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),jt(m,"link",o),r.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=zc.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function WA(){if(kl===null)throw Error(s(475));var n=kl;return n.stylesheets&&n.count===0&&Em(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Em(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Bc=null;function Em(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Bc=new Map,r.forEach(ZA,n),Bc=null,zc.call(n))}function ZA(n,r){if(!(r.state.loading&4)){var o=Bc.get(n);if(o)var u=o.get(null);else{o=new Map,Bc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=r.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=zc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ml={$$typeof:Q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function JA(n,r,o,u,f,m,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function t0(n,r,o,u,f,m,E,b,D,G,Z,te){return n=new JA(n,r,o,E,b,D,G,te),r=1,m===!0&&(r|=24),m=mn(3,null,null,r),n.current=m,m.stateNode=n,r=td(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:r},sd(m),n}function n0(n){return n?(n=Ca,n):Ca}function i0(n,r,o,u,f,m){f=n0(f),u.context===null?u.context=f:u.pendingContext=f,u=_r(r),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=vr(n,u,r),o!==null&&(vn(o,n,r),ul(o,n,r))}function r0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Tm(n,r){r0(n,r),(n=n.alternate)&&r0(n,r)}function s0(n){if(n.tag===13){var r=Ia(n,67108864);r!==null&&vn(r,n,67108864),Tm(n,67108864)}}var jc=!0;function e1(n,r,o,u){var f=W.T;W.T=null;var m=le.p;try{le.p=2,wm(n,r,o,u)}finally{le.p=m,W.T=f}}function t1(n,r,o,u){var f=W.T;W.T=null;var m=le.p;try{le.p=8,wm(n,r,o,u)}finally{le.p=m,W.T=f}}function wm(n,r,o,u){if(jc){var f=bm(u);if(f===null)um(n,r,u,Hc,o),o0(n,u);else if(i1(f,n,r,o,u))u.stopPropagation();else if(o0(n,u),r&4&&-1<n1.indexOf(n)){for(;f!==null;){var m=Zn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Bn(m.pendingLanes);if(E!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var D=1<<31-Kt(E);b.entanglements[1]|=D,E&=~D}fi(m),(Fe&6)===0&&(Ac=Sn()+500,Rl(0))}}break;case 13:b=Ia(m,2),b!==null&&vn(b,m,2),Ic(),Tm(m,2)}if(m=bm(u),m===null&&um(n,r,u,Hc,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else um(n,r,u,null,o)}}function bm(n){return n=In(n),Sm(n)}var Hc=null;function Sm(n){if(Hc=null,n=Ii(n),n!==null){var r=l(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=h(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Hc=n,null}function a0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(If()){case No:return 2;case aa:return 8;case ls:case Cf:return 32;case oa:return 268435456;default:return 32}default:return 32}}var Am=!1,kr=null,Mr=null,xr=null,xl=new Map,Pl=new Map,Pr=[],n1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(n,r){switch(n){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Vl(n,r,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Zn(r),r!==null&&s0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function i1(n,r,o,u,f){switch(r){case"focusin":return kr=Vl(kr,n,r,o,u,f),!0;case"dragenter":return Mr=Vl(Mr,n,r,o,u,f),!0;case"mouseover":return xr=Vl(xr,n,r,o,u,f),!0;case"pointerover":var m=f.pointerId;return xl.set(m,Vl(xl.get(m)||null,n,r,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Pl.set(m,Vl(Pl.get(m)||null,n,r,o,u,f)),!0}return!1}function l0(n){var r=Ii(n.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=h(o),r!==null){n.blockedOn=r,Iu(n.priority,function(){if(o.tag===13){var u=_n();u=ur(u);var f=Ia(o,u);f!==null&&vn(f,o,u),Tm(o,u)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function qc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=bm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ni=u,o.target.dispatchEvent(u),Ni=null}else return r=Zn(o),r!==null&&s0(r),n.blockedOn=o,!1;r.shift()}return!0}function u0(n,r,o){qc(n)&&o.delete(r)}function r1(){Am=!1,kr!==null&&qc(kr)&&(kr=null),Mr!==null&&qc(Mr)&&(Mr=null),xr!==null&&qc(xr)&&(xr=null),xl.forEach(u0),Pl.forEach(u0)}function Fc(n,r){n.blockedOn===r&&(n.blockedOn=null,Am||(Am=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,r1)))}var Gc=null;function c0(n){Gc!==n&&(Gc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gc===n&&(Gc=null);for(var r=0;r<n.length;r+=3){var o=n[r],u=n[r+1],f=n[r+2];if(typeof u!="function"){if(Sm(u||o)===null)continue;break}var m=Zn(o);m!==null&&(n.splice(r,3),r-=3,Sd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ul(n){function r(D){return Fc(D,n)}kr!==null&&Fc(kr,n),Mr!==null&&Fc(Mr,n),xr!==null&&Fc(xr,n),xl.forEach(r),Pl.forEach(r);for(var o=0;o<Pr.length;o++){var u=Pr[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Pr.length&&(o=Pr[0],o.blockedOn===null);)l0(o),o.blockedOn===null&&Pr.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[mt]||null;if(typeof m=="function")E||c0(o);else if(E){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[mt]||null)b=E.formAction;else if(Sm(f)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),c0(o)}}}function Rm(n){this._internalRoot=n}Kc.prototype.render=Rm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=_n();i0(o,u,n,r,null,null)},Kc.prototype.unmount=Rm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;i0(n.current,2,null,n,null,null),Ic(),r[An]=null}};function Kc(n){this._internalRoot=n}Kc.prototype.unstable_scheduleHydration=function(n){if(n){var r=cr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Pr.length&&r!==0&&r<Pr[o].priority;o++);Pr.splice(o,0,n),o===0&&l0(n)}};var h0=e.version;if(h0!=="19.1.0")throw Error(s(527,h0,"19.1.0"));le.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var s1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ot=Yc.inject(s1),qe=Yc}catch{}}return zl.createRoot=function(n,r){if(!a(n))throw Error(s(299));var o=!1,u="",f=I_,m=C_,E=O_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=t0(n,1,!1,null,null,o,u,f,m,E,b,null),n[An]=r.current,lm(n),new Rm(r)},zl.hydrateRoot=function(n,r,o){if(!a(n))throw Error(s(299));var u=!1,f="",m=I_,E=C_,b=O_,D=null,G=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&(G=o.formState)),r=t0(n,1,!0,r,o??null,u,f,m,E,b,D,G),r.context=n0(null),o=r.current,u=_n(),u=ur(u),f=_r(u),f.callback=null,vr(o,f,u),o=u,r.current.lanes=o,Ri(r,o),fi(r),n[An]=r.current,lm(n),new Kc(r)},zl.version="19.1.0",zl}var T0;function g1(){if(T0)return Cm.exports;T0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cm.exports=p1(),Cm.exports}var y1=g1(),F=Yh();const OT=o1(F);var sp=function(i,e){return sp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,s){t.__proto__=s}||function(t,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])},sp(i,e)};function _1(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sp(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xt=function(){return xt=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++){t=arguments[s];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},xt.apply(this,arguments)};function v1(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]]);return t}function Za(i,e,t,s){function a(l){return l instanceof t?l:new t(function(h){h(l)})}return new(t||(t=Promise))(function(l,h){function d(_){try{g(s.next(_))}catch(T){h(T)}}function p(_){try{g(s.throw(_))}catch(T){h(T)}}function g(_){_.done?l(_.value):a(_.value).then(d,p)}g((s=s.apply(i,[])).next())})}function Ja(i,e){var t={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,a,l,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=d(0),h.throw=d(1),h.return=d(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(g){return function(_){return p([g,_])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(t=0)),t;)try{if(s=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return t.label++,{value:g[1],done:!1};case 5:t.label++,a=g[1],g=[0];continue;case 7:g=t.ops.pop(),t.trys.pop();continue;default:if(l=t.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){t=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){t.label=g[1];break}if(g[0]===6&&t.label<l[1]){t.label=l[1],l=g;break}if(l&&t.label<l[2]){t.label=l[2],t.ops.push(g);break}l[2]&&t.ops.pop(),t.trys.pop();continue}g=e.call(i,t)}catch(_){g=[6,_],a=0}finally{s=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function mi(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]])}return t}var Gs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Gp(i,e){return i(e={exports:{}},e.exports),e.exports}var Hs=Gp(function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function s(){var a=this;this.locked=new Map,this.addToLocked=function(l,h){var d=a.locked.get(l);d===void 0?h===void 0?a.locked.set(l,[]):a.locked.set(l,[h]):h!==void 0&&(d.unshift(h),a.locked.set(l,d))},this.isLocked=function(l){return a.locked.has(l)},this.lock=function(l){return new Promise(function(h,d){a.isLocked(l)?a.addToLocked(l,h):(a.addToLocked(l),h())})},this.unlock=function(l){var h=a.locked.get(l);if(h!==void 0&&h.length!==0){var d=h.pop();a.locked.set(l,h),d!==void 0&&setTimeout(d,0)}else a.locked.delete(l)}}return s.getInstance=function(){return s.instance===void 0&&(s.instance=new s),s.instance},s}();e.default=function(){return t.getInstance()}});Fp(Hs);var E1=Fp(Gp(function(i,e){var t=Gs&&Gs.__awaiter||function(_,T,w,A){return new(w||(w=Promise))(function(R,U){function M(Q){try{H(A.next(Q))}catch(Y){U(Y)}}function L(Q){try{H(A.throw(Q))}catch(Y){U(Y)}}function H(Q){Q.done?R(Q.value):new w(function(Y){Y(Q.value)}).then(M,L)}H((A=A.apply(_,T||[])).next())})},s=Gs&&Gs.__generator||function(_,T){var w,A,R,U,M={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return U={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function L(H){return function(Q){return function(Y){if(w)throw new TypeError("Generator is already executing.");for(;M;)try{if(w=1,A&&(R=2&Y[0]?A.return:Y[0]?A.throw||((R=A.return)&&R.call(A),0):A.next)&&!(R=R.call(A,Y[1])).done)return R;switch(A=0,R&&(Y=[2&Y[0],R.value]),Y[0]){case 0:case 1:R=Y;break;case 4:return M.label++,{value:Y[1],done:!1};case 5:M.label++,A=Y[1],Y=[0];continue;case 7:Y=M.ops.pop(),M.trys.pop();continue;default:if(R=M.trys,!((R=R.length>0&&R[R.length-1])||Y[0]!==6&&Y[0]!==2)){M=0;continue}if(Y[0]===3&&(!R||Y[1]>R[0]&&Y[1]<R[3])){M.label=Y[1];break}if(Y[0]===6&&M.label<R[1]){M.label=R[1],R=Y;break}if(R&&M.label<R[2]){M.label=R[2],M.ops.push(Y);break}R[2]&&M.ops.pop(),M.trys.pop();continue}Y=T.call(_,M)}catch(ee){Y=[6,ee],A=0}finally{w=R=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([H,Q])}}},a=Gs;Object.defineProperty(e,"__esModule",{value:!0});var l="browser-tabs-lock-key",h={key:function(_){return t(a,void 0,void 0,function(){return s(this,function(T){throw new Error("Unsupported")})})},getItem:function(_){return t(a,void 0,void 0,function(){return s(this,function(T){throw new Error("Unsupported")})})},clear:function(){return t(a,void 0,void 0,function(){return s(this,function(_){return[2,window.localStorage.clear()]})})},removeItem:function(_){return t(a,void 0,void 0,function(){return s(this,function(T){throw new Error("Unsupported")})})},setItem:function(_,T){return t(a,void 0,void 0,function(){return s(this,function(w){throw new Error("Unsupported")})})},keySync:function(_){return window.localStorage.key(_)},getItemSync:function(_){return window.localStorage.getItem(_)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(_){return window.localStorage.removeItem(_)},setItemSync:function(_,T){return window.localStorage.setItem(_,T)}};function d(_){return new Promise(function(T){return setTimeout(T,_)})}function p(_){for(var T="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",w="",A=0;A<_;A++)w+=T[Math.floor(Math.random()*T.length)];return w}var g=function(){function _(T){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+p(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=T,_.waiters===void 0&&(_.waiters=[])}return _.prototype.acquireLock=function(T,w){return w===void 0&&(w=5e3),t(this,void 0,void 0,function(){var A,R,U,M,L,H,Q;return s(this,function(Y){switch(Y.label){case 0:A=Date.now()+p(4),R=Date.now()+w,U=l+"-"+T,M=this.storageHandler===void 0?h:this.storageHandler,Y.label=1;case 1:return Date.now()<R?[4,d(30)]:[3,8];case 2:return Y.sent(),M.getItemSync(U)!==null?[3,5]:(L=this.id+"-"+T+"-"+A,[4,d(Math.floor(25*Math.random()))]);case 3:return Y.sent(),M.setItemSync(U,JSON.stringify({id:this.id,iat:A,timeoutKey:L,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,d(30)];case 4:return Y.sent(),(H=M.getItemSync(U))!==null&&(Q=JSON.parse(H)).id===this.id&&Q.iat===A?(this.acquiredIatSet.add(A),this.refreshLockWhileAcquired(U,A),[2,!0]):[3,7];case 5:return _.lockCorrector(this.storageHandler===void 0?h:this.storageHandler),[4,this.waitForSomethingToChange(R)];case 6:Y.sent(),Y.label=7;case 7:return A=Date.now()+p(4),[3,1];case 8:return[2,!1]}})})},_.prototype.refreshLockWhileAcquired=function(T,w){return t(this,void 0,void 0,function(){var A=this;return s(this,function(R){return setTimeout(function(){return t(A,void 0,void 0,function(){var U,M,L;return s(this,function(H){switch(H.label){case 0:return[4,Hs.default().lock(w)];case 1:return H.sent(),this.acquiredIatSet.has(w)?(U=this.storageHandler===void 0?h:this.storageHandler,(M=U.getItemSync(T))===null?(Hs.default().unlock(w),[2]):((L=JSON.parse(M)).timeRefreshed=Date.now(),U.setItemSync(T,JSON.stringify(L)),Hs.default().unlock(w),this.refreshLockWhileAcquired(T,w),[2])):(Hs.default().unlock(w),[2])}})})},1e3),[2]})})},_.prototype.waitForSomethingToChange=function(T){return t(this,void 0,void 0,function(){return s(this,function(w){switch(w.label){case 0:return[4,new Promise(function(A){var R=!1,U=Date.now(),M=!1;function L(){if(M||(window.removeEventListener("storage",L),_.removeFromWaiting(L),clearTimeout(H),M=!0),!R){R=!0;var Q=50-(Date.now()-U);Q>0?setTimeout(A,Q):A(null)}}window.addEventListener("storage",L),_.addToWaiting(L);var H=setTimeout(L,Math.max(0,T-Date.now()))})];case 1:return w.sent(),[2]}})})},_.addToWaiting=function(T){this.removeFromWaiting(T),_.waiters!==void 0&&_.waiters.push(T)},_.removeFromWaiting=function(T){_.waiters!==void 0&&(_.waiters=_.waiters.filter(function(w){return w!==T}))},_.notifyWaiters=function(){_.waiters!==void 0&&_.waiters.slice().forEach(function(T){return T()})},_.prototype.releaseLock=function(T){return t(this,void 0,void 0,function(){return s(this,function(w){switch(w.label){case 0:return[4,this.releaseLock__private__(T)];case 1:return[2,w.sent()]}})})},_.prototype.releaseLock__private__=function(T){return t(this,void 0,void 0,function(){var w,A,R,U;return s(this,function(M){switch(M.label){case 0:return w=this.storageHandler===void 0?h:this.storageHandler,A=l+"-"+T,(R=w.getItemSync(A))===null?[2]:(U=JSON.parse(R)).id!==this.id?[3,2]:[4,Hs.default().lock(U.iat)];case 1:M.sent(),this.acquiredIatSet.delete(U.iat),w.removeItemSync(A),Hs.default().unlock(U.iat),_.notifyWaiters(),M.label=2;case 2:return[2]}})})},_.lockCorrector=function(T){for(var w=Date.now()-5e3,A=T,R=[],U=0;;){var M=A.keySync(U);if(M===null)break;R.push(M),U++}for(var L=!1,H=0;H<R.length;H++){var Q=R[H];if(Q.includes(l)){var Y=A.getItemSync(Q);if(Y!==null){var ee=JSON.parse(Y);(ee.timeRefreshed===void 0&&ee.timeAcquired<w||ee.timeRefreshed!==void 0&&ee.timeRefreshed<w)&&(A.removeItemSync(Q),L=!0)}}}L&&_.notifyWaiters()},_.waiters=void 0,_}();e.default=g}));const T1={timeoutInSeconds:60},DT={name:"auth0-spa-js",version:"2.1.3"},NT=()=>Date.now();class Wt extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,Wt.prototype)}static fromPayload({error:e,error_description:t}){return new Wt(e,t)}}class Kp extends Wt{constructor(e,t,s,a=null){super(e,t),this.state=s,this.appState=a,Object.setPrototypeOf(this,Kp.prototype)}}class Jl extends Wt{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Jl.prototype)}}class Yp extends Jl{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,Yp.prototype)}}class $p extends Wt{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,$p.prototype)}}class Xp extends Wt{constructor(e,t,s){super(e,t),this.mfa_token=s,Object.setPrototypeOf(this,Xp.prototype)}}class $h extends Wt{constructor(e,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${w0(e,["default"])}', scope: '${w0(t)}')`),this.audience=e,this.scope=t,Object.setPrototypeOf(this,$h.prototype)}}function w0(i,e=[]){return i&&!e.includes(i)?i:""}const sh=()=>window.crypto,Mm=()=>{const i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(sh().getRandomValues(new Uint8Array(43))).forEach(t=>e+=i[t%i.length]),e},b0=i=>btoa(i),ap=i=>{var{clientId:e}=i,t=mi(i,["clientId"]);return new URLSearchParams((s=>Object.keys(s).filter(a=>s[a]!==void 0).reduce((a,l)=>Object.assign(Object.assign({},a),{[l]:s[l]}),{}))(Object.assign({client_id:e},t))).toString()},S0=i=>(e=>decodeURIComponent(atob(e).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(i.replace(/_/g,"/").replace(/-/g,"+")),w1=async(i,e)=>{const t=await fetch(i,e);return{ok:t.ok,json:await t.json()}},b1=async(i,e,t)=>{const s=new AbortController;let a;return e.signal=s.signal,Promise.race([w1(i,e),new Promise((l,h)=>{a=setTimeout(()=>{s.abort(),h(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(a)})},S1=async(i,e,t,s,a,l,h)=>{return d={auth:{audience:e,scope:t},timeout:a,fetchUrl:i,fetchOptions:s,useFormData:h},p=l,new Promise(function(g,_){const T=new MessageChannel;T.port1.onmessage=function(w){w.data.error?_(new Error(w.data.error)):g(w.data),T.port1.close()},p.postMessage(d,[T.port2])});var d,p},A1=async(i,e,t,s,a,l,h=1e4)=>a?S1(i,e,t,s,h,a,l):b1(i,s,h);async function R1(i,e){var{baseUrl:t,timeout:s,audience:a,scope:l,auth0Client:h,useFormData:d}=i,p=mi(i,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const g=d?ap(p):JSON.stringify(p);return await async function(_,T,w,A,R,U,M){let L,H=null;for(let I=0;I<3;I++)try{L=await A1(_,w,A,R,U,M,T),H=null;break}catch(C){H=C}if(H)throw H;const Q=L.json,{error:Y,error_description:ee}=Q,re=mi(Q,["error","error_description"]),{ok:O}=L;if(!O){const I=ee||`HTTP error. Unable to fetch ${_}`;throw Y==="mfa_required"?new Xp(Y,I,re.mfa_token):Y==="missing_refresh_token"?new $h(w,A):new Wt(Y||"request_error",I)}return re}(`${t}/oauth/token`,s,a||"default",l,{method:"POST",body:g,headers:{"Content-Type":d?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(h||DT))}},e,d)}const $c=(...i)=>{return(e=i.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};class pi{constructor(e,t="@@auth0spajs@@",s){this.prefix=t,this.suffix=s,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[t,s,a,l]=e.split("::");return new pi({clientId:s,scope:l,audience:a},t)}static fromCacheEntry(e){const{scope:t,audience:s,client_id:a}=e;return new pi({scope:t,audience:s,clientId:a})}}let I1=class{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}};class kT{constructor(){this.enclosedCache=function(){let e={};return{set(t,s){e[t]=s},get(t){const s=e[t];if(s)return s},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}let C1=class{constructor(e,t,s){this.cache=e,this.keyManifest=t,this.nowProvider=s||NT}async setIdToken(e,t,s){var a;const l=this.getIdTokenCacheKey(e);await this.cache.set(l,{id_token:t,decodedToken:s}),await((a=this.keyManifest)===null||a===void 0?void 0:a.add(l))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const s=await this.get(e);return!s||!s.id_token||!s.decodedToken?void 0:{id_token:s.id_token,decodedToken:s.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e,t=0){var s;let a=await this.cache.get(e.toKey());if(!a){const d=await this.getCacheKeys();if(!d)return;const p=this.matchExistingCacheKey(e,d);p&&(a=await this.cache.get(p))}if(!a)return;const l=await this.nowProvider(),h=Math.floor(l/1e3);return a.expiresAt-t<h?a.body.refresh_token?(a.body={refresh_token:a.body.refresh_token},await this.cache.set(e.toKey(),a),a.body):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):a.body}async set(e){var t;const s=new pi({clientId:e.client_id,scope:e.scope,audience:e.audience}),a=await this.wrapCacheEntry(e);await this.cache.set(s.toKey(),a),await((t=this.keyManifest)===null||t===void 0?void 0:t.add(s.toKey()))}async clear(e){var t;const s=await this.getCacheKeys();s&&(await s.filter(a=>!e||a.includes(e)).reduce(async(a,l)=>{await a,await this.cache.remove(l)},Promise.resolve()),await((t=this.keyManifest)===null||t===void 0?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new pi({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,t){return t.filter(s=>{var a;const l=pi.fromKey(s),h=new Set(l.scope&&l.scope.split(" ")),d=((a=e.scope)===null||a===void 0?void 0:a.split(" "))||[],p=l.scope&&d.reduce((g,_)=>g&&h.has(_),!0);return l.prefix==="@@auth0spajs@@"&&l.clientId===e.clientId&&l.audience===e.audience&&p})[0]}};class O1{constructor(e,t,s){this.storage=e,this.clientId=t,this.cookieDomain=s,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const Bl=i=>typeof i=="number",D1=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],N1=i=>{if(!i.id_token)throw new Error("ID token is required but missing");const e=(l=>{const h=l.split("."),[d,p,g]=h;if(h.length!==3||!d||!p||!g)throw new Error("ID token could not be decoded");const _=JSON.parse(S0(p)),T={__raw:l},w={};return Object.keys(_).forEach(A=>{T[A]=_[A],D1.includes(A)||(w[A]=_[A])}),{encoded:{header:d,payload:p,signature:g},header:JSON.parse(S0(d)),claims:T,user:w}})(i.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==i.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${i.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(i.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${i.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==i.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${i.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==i.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${i.aud}" but found "${e.claims.aud}"`);if(i.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==i.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${i.nonce}", found "${e.claims.nonce}"`)}if(i.max_age&&!Bl(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Bl(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Bl(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const t=i.leeway||60,s=new Date(i.now||Date.now()),a=new Date(0);if(a.setUTCSeconds(e.claims.exp+t),s>a)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${s}) is after expiration time (${a})`);if(e.claims.nbf!=null&&Bl(e.claims.nbf)){const l=new Date(0);if(l.setUTCSeconds(e.claims.nbf-t),s<l)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${s}) is before ${l}`)}if(e.claims.auth_time!=null&&Bl(e.claims.auth_time)){const l=new Date(0);if(l.setUTCSeconds(parseInt(e.claims.auth_time)+i.max_age+t),s>l)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${s}) is after last auth at ${l}`)}if(i.organization){const l=i.organization.trim();if(l.startsWith("org_")){const h=l;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(h!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${h}", found "${e.claims.org_id}"`)}else{const h=l.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(h!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${h}", found "${e.claims.org_name}"`)}}return e};var Ks=Gp(function(i,e){var t=Gs&&Gs.__assign||function(){return t=Object.assign||function(p){for(var g,_=1,T=arguments.length;_<T;_++)for(var w in g=arguments[_])Object.prototype.hasOwnProperty.call(g,w)&&(p[w]=g[w]);return p},t.apply(this,arguments)};function s(p,g){if(!g)return"";var _="; "+p;return g===!0?_:_+"="+g}function a(p,g,_){return encodeURIComponent(p).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(g).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(T){if(typeof T.expires=="number"){var w=new Date;w.setMilliseconds(w.getMilliseconds()+864e5*T.expires),T.expires=w}return s("Expires",T.expires?T.expires.toUTCString():"")+s("Domain",T.domain)+s("Path",T.path)+s("Secure",T.secure)+s("SameSite",T.sameSite)}(_)}function l(p){for(var g={},_=p?p.split("; "):[],T=/(%[\dA-F]{2})+/gi,w=0;w<_.length;w++){var A=_[w].split("="),R=A.slice(1).join("=");R.charAt(0)==='"'&&(R=R.slice(1,-1));try{g[A[0].replace(T,decodeURIComponent)]=R.replace(T,decodeURIComponent)}catch{}}return g}function h(){return l(document.cookie)}function d(p,g,_){document.cookie=a(p,g,t({path:"/"},_))}e.__esModule=!0,e.encode=a,e.parse=l,e.getAll=h,e.get=function(p){return h()[p]},e.set=d,e.remove=function(p,g){d(p,"",t(t({},g),{expires:-1}))}});Fp(Ks),Ks.encode,Ks.parse,Ks.getAll;var k1=Ks.get,MT=Ks.set,xT=Ks.remove;const eo={get(i){const e=k1(i);if(e!==void 0)return JSON.parse(e)},save(i,e,t){let s={};window.location.protocol==="https:"&&(s={secure:!0,sameSite:"none"}),t!=null&&t.daysUntilExpire&&(s.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(s.domain=t.cookieDomain),MT(i,JSON.stringify(e),s)},remove(i,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),xT(i,t)}},M1={get(i){return eo.get(i)||eo.get(`_legacy_${i}`)},save(i,e,t){let s={};window.location.protocol==="https:"&&(s={secure:!0}),t!=null&&t.daysUntilExpire&&(s.expires=t.daysUntilExpire),t!=null&&t.cookieDomain&&(s.domain=t.cookieDomain),MT(`_legacy_${i}`,JSON.stringify(e),s),eo.save(i,e,t)},remove(i,e){let t={};e!=null&&e.cookieDomain&&(t.domain=e.cookieDomain),xT(i,t),eo.remove(i,e),eo.remove(`_legacy_${i}`,e)}},x1={get(i){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(i);return e!=null?JSON.parse(e):void 0},save(i,e){sessionStorage.setItem(i,JSON.stringify(e))},remove(i){sessionStorage.removeItem(i)}};function P1(i,e,t){var s=e===void 0?null:e,a=function(p,g){var _=atob(p);if(g){for(var T=new Uint8Array(_.length),w=0,A=_.length;w<A;++w)T[w]=_.charCodeAt(w);return String.fromCharCode.apply(null,new Uint16Array(T.buffer))}return _}(i,t!==void 0&&t),l=a.indexOf(`
`,10)+1,h=a.substring(l)+(s?"//# sourceMappingURL="+s:""),d=new Blob([h],{type:"application/javascript"});return URL.createObjectURL(d)}var A0,R0,I0,xm,V1=(A0="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",R0=null,I0=!1,function(i){return xm=xm||P1(A0,R0,I0),new Worker(xm,i)});const Pm={};let U1=class{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const s=new Set(((t=await this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);s.add(e),await this.cache.set(this.manifestKey,{keys:[...s]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const s=new Set(t.keys);return s.delete(e),s.size>0?await this.cache.set(this.manifestKey,{keys:[...s]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}};const L1={memory:()=>new kT().enclosedCache,localstorage:()=>new I1},C0=i=>L1[i],O0=i=>{const{openUrl:e,onRedirect:t}=i,s=mi(i,["openUrl","onRedirect"]);return Object.assign(Object.assign({},s),{openUrl:e===!1||e?e:t})},Vm=new E1;class z1{constructor(e){let t,s;if(this.userCache=new kT().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await Vm.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!sh())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(sh().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)s=e.cache;else{if(t=e.cacheLocation||"memory",!C0(t))throw new Error(`Invalid cache location "${t}"`);s=C0(t)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?eo:M1,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(h=>`auth0.${h}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const a=e.useCookiesForTransactions?this.cookieStorage:x1;var l;this.scope=$c("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new O1(a,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||NT,this.cacheManager=new C1(s,s.allKeys?void 0:new U1(s,this.options.clientId),this.nowProvider),this.domainUrl=(l=this.options.domain,/^https?:\/\//.test(l)?l:`https://${l}`),this.tokenIssuer=((h,d)=>h?h.startsWith("https://")?h:`https://${h}/`:`${d}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new V1)}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||DT)));return`${this.domainUrl}${e}&auth0Client=${t}`}_authorizeUrl(e){return this._url(`/authorize?${ap(e)}`)}async _verifyIdToken(e,t,s){const a=await this.nowProvider();return N1({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:s,leeway:this.options.leeway,max_age:(l=this.options.authorizationParams.max_age,typeof l!="string"?l:parseInt(l,10)||void 0),now:a});var l}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,s){const a=b0(Mm()),l=b0(Mm()),h=Mm(),d=(_=>{const T=new Uint8Array(_);return(w=>{const A={"+":"-","/":"_","=":""};return w.replace(/[+/=]/g,R=>A[R])})(window.btoa(String.fromCharCode(...Array.from(T))))})(await(async _=>await sh().subtle.digest({name:"SHA-256"},new TextEncoder().encode(_)))(h)),p=((_,T,w,A,R,U,M,L)=>Object.assign(Object.assign(Object.assign({client_id:_.clientId},_.authorizationParams),w),{scope:$c(T,w.scope),response_type:"code",response_mode:L||"query",state:A,nonce:R,redirect_uri:M||_.authorizationParams.redirect_uri,code_challenge:U,code_challenge_method:"S256"}))(this.options,this.scope,e,a,l,d,e.redirect_uri||this.options.authorizationParams.redirect_uri||s,t==null?void 0:t.response_mode),g=this._authorizeUrl(p);return{nonce:l,code_verifier:h,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:a,url:g}}async loginWithPopup(e,t){var s;if(e=e||{},!(t=t||{}).popup&&(t.popup=(d=>{const p=window.screenX+(window.innerWidth-400)/2,g=window.screenY+(window.innerHeight-600)/2;return window.open(d,"auth0:authorize:popup",`left=${p},top=${g},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const a=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=a.url;const l=await(d=>new Promise((p,g)=>{let _;const T=setInterval(()=>{d.popup&&d.popup.closed&&(clearInterval(T),clearTimeout(w),window.removeEventListener("message",_,!1),g(new $p(d.popup)))},1e3),w=setTimeout(()=>{clearInterval(T),g(new Yp(d.popup)),window.removeEventListener("message",_,!1)},1e3*(d.timeoutInSeconds||60));_=function(A){if(A.data&&A.data.type==="authorization_response"){if(clearTimeout(w),clearInterval(T),window.removeEventListener("message",_,!1),d.popup.close(),A.data.response.error)return g(Wt.fromPayload(A.data.response));p(A.data.response)}},window.addEventListener("message",_)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(a.state!==l.state)throw new Wt("state_mismatch","Invalid state");const h=((s=e.authorizationParams)===null||s===void 0?void 0:s.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:l.code,redirect_uri:a.redirect_uri},{nonceIn:a.nonce,organization:h})}async getUser(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return(e=t==null?void 0:t.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var t;const s=O0(e),{openUrl:a,fragment:l,appState:h}=s,d=mi(s,["openUrl","fragment","appState"]),p=((t=d.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,g=await this._prepareAuthorizeUrl(d.authorizationParams||{}),{url:_}=g,T=mi(g,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},T),{appState:h}),p&&{organization:p}));const w=l?`${_}#${l}`:_;a?await a(w):window.location.assign(w)}async handleRedirectCallback(e=window.location.href){const t=e.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");const{state:s,code:a,error:l,error_description:h}=(T=>{T.indexOf("#")>-1&&(T=T.substring(0,T.indexOf("#")));const w=new URLSearchParams(T);return{state:w.get("state"),code:w.get("code")||void 0,error:w.get("error")||void 0,error_description:w.get("error_description")||void 0}})(t.join("")),d=this.transactionManager.get();if(!d)throw new Wt("missing_transaction","Invalid state");if(this.transactionManager.remove(),l)throw new Kp(l,h||l,s,d.appState);if(!d.code_verifier||d.state&&d.state!==s)throw new Wt("state_mismatch","Invalid state");const p=d.organization,g=d.nonce,_=d.redirect_uri;return await this._requestToken(Object.assign({audience:d.audience,scope:d.scope,code_verifier:d.code_verifier,grant_type:"authorization_code",code:a},_?{redirect_uri:_}:{}),{nonceIn:g,organization:p}),{appState:d.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var t;const s=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:$c(this.scope,(t=e.authorizationParams)===null||t===void 0?void 0:t.scope)})}),a=await((l,h)=>{let d=Pm[h];return d||(d=l().finally(()=>{delete Pm[h],d=null}),Pm[h]=d),d})(()=>this._getTokenSilently(s),`${this.options.clientId}::${s.authorizationParams.audience}::${s.authorizationParams.scope}`);return e.detailedResponse?a:a==null?void 0:a.access_token}async _getTokenSilently(e){const{cacheMode:t}=e,s=mi(e,["cacheMode"]);if(t!=="off"){const a=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(a)return a}if(t!=="cache-only"){if(!await(async(a,l=3)=>{for(let h=0;h<l;h++)if(await a())return!0;return!1})(()=>Vm.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new Jl;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){const g=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(g)return g}const a=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(s):await this._getTokenFromIFrame(s),{id_token:l,access_token:h,oauthTokenScope:d,expires_in:p}=a;return Object.assign(Object.assign({id_token:l,access_token:h},d?{scope:d}:null),{expires_in:p})}finally{await Vm.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},t={}){var s;const a=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:$c(this.scope,(s=e.authorizationParams)===null||s===void 0?void 0:s.scope)})});return t=Object.assign(Object.assign({},T1),t),await this.loginWithPopup(a,t),(await this.cacheManager.get(new pi({scope:a.authorizationParams.scope,audience:a.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const t=e.logoutParams||{},{federated:s}=t,a=mi(t,["federated"]),l=s?"&federated":"";return this._url(`/v2/logout?${ap(Object.assign({clientId:e.clientId},a))}`)+l}async logout(e={}){const t=O0(e),{openUrl:s}=t,a=mi(t,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const l=this._buildLogoutUrl(a);s?await s(l):s!==!1&&window.location.assign(l)}async _getTokenFromIFrame(e){const t=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),s=this.cookieStorage.get(this.orgHintCookieName);s&&!t.organization&&(t.organization=s);const{url:a,state:l,nonce:h,code_verifier:d,redirect_uri:p,scope:g,audience:_}=await this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Wt("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const T=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,w=await((R,U,M=60)=>new Promise((L,H)=>{const Q=window.document.createElement("iframe");Q.setAttribute("width","0"),Q.setAttribute("height","0"),Q.style.display="none";const Y=()=>{window.document.body.contains(Q)&&(window.document.body.removeChild(Q),window.removeEventListener("message",ee,!1))};let ee;const re=setTimeout(()=>{H(new Jl),Y()},1e3*M);ee=function(O){if(O.origin!=U||!O.data||O.data.type!=="authorization_response")return;const I=O.source;I&&I.close(),O.data.response.error?H(Wt.fromPayload(O.data.response)):L(O.data.response),clearTimeout(re),window.removeEventListener("message",ee,!1),setTimeout(Y,2e3)},window.addEventListener("message",ee,!1),window.document.body.appendChild(Q),Q.setAttribute("src",R)}))(a,this.domainUrl,T);if(l!==w.state)throw new Wt("state_mismatch","Invalid state");const A=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:d,code:w.code,grant_type:"authorization_code",redirect_uri:p,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:h,organization:t.organization});return Object.assign(Object.assign({},A),{scope:g,oauthTokenScope:A.scope,audience:_})}catch(T){throw T.error==="login_required"&&this.logout({openUrl:!1}),T}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new pi({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new $h(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const s=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,a=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const l=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:s}),a&&{timeout:a}));return Object.assign(Object.assign({},l),{scope:e.authorizationParams.scope,oauthTokenScope:l.scope,audience:e.authorizationParams.audience||"default"})}catch(l){if((l.message.indexOf("Missing Refresh Token")>-1||l.message&&l.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw l}}async _saveEntryInCache(e){const{id_token:t,decodedToken:s}=e,a=mi(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:s}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(a)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",t=await this.cacheManager.getIdToken(new pi({clientId:this.options.clientId,audience:e,scope:this.scope})),s=this.userCache.get("@@user@@");return t&&t.id_token===(s==null?void 0:s.id_token)?s:(this.userCache.set("@@user@@",t),t)}async _getEntryFromCache({scope:e,audience:t,clientId:s}){const a=await this.cacheManager.get(new pi({scope:e,audience:t,clientId:s}),60);if(a&&a.access_token){const{access_token:l,oauthTokenScope:h,expires_in:d}=a,p=await this._getIdTokenFromCache();return p&&Object.assign(Object.assign({id_token:p.id_token,access_token:l},h?{scope:h}:null),{expires_in:d})}}async _requestToken(e,t){const{nonceIn:s,organization:a}=t||{},l=await R1(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),h=await this._verifyIdToken(l.id_token,s,a);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},l),{decodedToken:h,scope:e.scope,audience:e.audience||"default"}),l.scope?{oauthTokenScope:l.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(a||h.claims.org_id),Object.assign(Object.assign({},l),{decodedToken:h})}}var PT={isAuthenticated:!1,isLoading:!0},Qi=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},B1=xt(xt({},PT),{buildAuthorizeUrl:Qi,buildLogoutUrl:Qi,getAccessTokenSilently:Qi,getAccessTokenWithPopup:Qi,getIdTokenClaims:Qi,loginWithRedirect:Qi,loginWithPopup:Qi,logout:Qi,handleRedirectCallback:Qi}),VT=F.createContext(B1),D0=function(i){_1(e,i);function e(t,s){var a=i.call(this,s||t)||this;return a.error=t,a.error_description=s,Object.setPrototypeOf(a,e.prototype),a}return e}(Error),j1=/[?&]code=[^&]+/,H1=/[?&]state=[^&]+/,q1=/[?&]error=[^&]+/,F1=function(i){return i===void 0&&(i=window.location.search),(j1.test(i)||q1.test(i))&&H1.test(i)},UT=function(i){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new D0(e.error,e.error_description):new D0(e.error):new Error(i)}},N0=UT("Login failed"),Um=UT("Get access token failed"),LT=function(i){var e;i!=null&&i.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),i.authorizationParams=i.authorizationParams||{},i.authorizationParams.redirect_uri=i.redirectUri,delete i.redirectUri),!((e=i==null?void 0:i.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),i.authorizationParams.redirect_uri=i.authorizationParams.redirectUri,delete i.authorizationParams.redirectUri)},G1=function(i,e){switch(e.type){case"LOGIN_POPUP_STARTED":return xt(xt({},i),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return xt(xt({},i),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return i.user===e.user?i:xt(xt({},i),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return xt(xt({},i),{isAuthenticated:!1,user:void 0});case"ERROR":return xt(xt({},i),{isLoading:!1,error:e.error})}},K1=function(i){return LT(i),xt(xt({},i),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},Y1=function(i){window.history.replaceState({},document.title,(i==null?void 0:i.returnTo)||window.location.pathname)},$1=function(i){var e=i.children,t=i.skipRedirectCallback,s=i.onRedirectCallback,a=s===void 0?Y1:s,l=i.context,h=l===void 0?VT:l,d=v1(i,["children","skipRedirectCallback","onRedirectCallback","context"]),p=F.useState(function(){return new z1(K1(d))})[0],g=F.useReducer(G1,PT),_=g[0],T=g[1],w=F.useRef(!1),A=F.useCallback(function(re){return T({type:"ERROR",error:re}),re},[]);F.useEffect(function(){w.current||(w.current=!0,function(){return Za(void 0,void 0,void 0,function(){var re,O,I;return Ja(this,function(C){switch(C.label){case 0:return C.trys.push([0,7,,8]),re=void 0,F1()&&!t?[4,p.handleRedirectCallback()]:[3,3];case 1:return O=C.sent().appState,[4,p.getUser()];case 2:return re=C.sent(),a(O,re),[3,6];case 3:return[4,p.checkSession()];case 4:return C.sent(),[4,p.getUser()];case 5:re=C.sent(),C.label=6;case 6:return T({type:"INITIALISED",user:re}),[3,8];case 7:return I=C.sent(),A(N0(I)),[3,8];case 8:return[2]}})})}())},[p,a,t,A]);var R=F.useCallback(function(re){return LT(re),p.loginWithRedirect(re)},[p]),U=F.useCallback(function(re,O){return Za(void 0,void 0,void 0,function(){var I,C;return Ja(this,function(N){switch(N.label){case 0:T({type:"LOGIN_POPUP_STARTED"}),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,p.loginWithPopup(re,O)];case 2:return N.sent(),[3,4];case 3:return I=N.sent(),A(N0(I)),[2];case 4:return[4,p.getUser()];case 5:return C=N.sent(),T({type:"LOGIN_POPUP_COMPLETE",user:C}),[2]}})})},[p]),M=F.useCallback(function(re){return re===void 0&&(re={}),Za(void 0,void 0,void 0,function(){return Ja(this,function(O){switch(O.label){case 0:return[4,p.logout(re)];case 1:return O.sent(),(re.openUrl||re.openUrl===!1)&&T({type:"LOGOUT"}),[2]}})})},[p]),L=F.useCallback(function(re){return Za(void 0,void 0,void 0,function(){var O,I,C,N;return Ja(this,function(V){switch(V.label){case 0:return V.trys.push([0,2,3,5]),[4,p.getTokenSilently(re)];case 1:return O=V.sent(),[3,5];case 2:throw I=V.sent(),Um(I);case 3:return C=T,N={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,p.getUser()];case 4:return C.apply(void 0,[(N.user=V.sent(),N)]),[7];case 5:return[2,O]}})})},[p]),H=F.useCallback(function(re,O){return Za(void 0,void 0,void 0,function(){var I,C,N,V;return Ja(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,3,5]),[4,p.getTokenWithPopup(re,O)];case 1:return I=z.sent(),[3,5];case 2:throw C=z.sent(),Um(C);case 3:return N=T,V={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,p.getUser()];case 4:return N.apply(void 0,[(V.user=z.sent(),V)]),[7];case 5:return[2,I]}})})},[p]),Q=F.useCallback(function(){return p.getIdTokenClaims()},[p]),Y=F.useCallback(function(re){return Za(void 0,void 0,void 0,function(){var O,I,C;return Ja(this,function(N){switch(N.label){case 0:return N.trys.push([0,2,3,5]),[4,p.handleRedirectCallback(re)];case 1:return[2,N.sent()];case 2:throw O=N.sent(),Um(O);case 3:return I=T,C={type:"HANDLE_REDIRECT_COMPLETE"},[4,p.getUser()];case 4:return I.apply(void 0,[(C.user=N.sent(),C)]),[7];case 5:return[2]}})})},[p]),ee=F.useMemo(function(){return xt(xt({},_),{getAccessTokenSilently:L,getAccessTokenWithPopup:H,getIdTokenClaims:Q,loginWithRedirect:R,loginWithPopup:U,logout:M,handleRedirectCallback:Y})},[_,L,H,Q,R,U,M,Y]);return OT.createElement(h.Provider,{value:ee},e)},Xh=function(i){return i===void 0&&(i=VT),F.useContext(i)},jl={},k0;function X1(){if(k0)return jl;k0=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=h,jl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,A){const R=new l,U=w.length;if(U<2)return R;const M=(A==null?void 0:A.decode)||_;let L=0;do{const H=w.indexOf("=",L);if(H===-1)break;const Q=w.indexOf(";",L),Y=Q===-1?U:Q;if(H>Y){L=w.lastIndexOf(";",H-1)+1;continue}const ee=d(w,L,H),re=p(w,H,ee),O=w.slice(ee,re);if(R[O]===void 0){let I=d(w,H+1,Y),C=p(w,Y,I);const N=M(w.slice(I,C));R[O]=N}L=Y+1}while(L<U);return R}function d(w,A,R){do{const U=w.charCodeAt(A);if(U!==32&&U!==9)return A}while(++A<R);return R}function p(w,A,R){for(;A>R;){const U=w.charCodeAt(--A);if(U!==32&&U!==9)return A+1}return R}function g(w,A,R){const U=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const M=U(A);if(!e.test(M))throw new TypeError(`argument val is invalid: ${A}`);let L=w+"="+M;if(!R)return L;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);L+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);L+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);L+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);L+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(L+="; HttpOnly"),R.secure&&(L+="; Secure"),R.partitioned&&(L+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return L}function _(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return a.call(w)==="[object Date]"}return jl}X1();var M0="popstate";function Q1(i={}){function e(a,l){let{pathname:h="/",search:d="",hash:p=""}=na(a.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),op("",{pathname:h,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let h=a.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=a.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:eu(l))}function s(a,l){zn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Z1(e,t,s,i)}function it(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function zn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W1(){return Math.random().toString(36).substring(2,10)}function x0(i,e){return{usr:i.state,key:i.key,idx:e}}function op(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:t,key:e&&e.key||s||W1()}}function eu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function na(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Z1(i,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,h=a.history,d="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function T(){d="POP";let M=_(),L=M==null?null:M-g;g=M,p&&p({action:d,location:U.location,delta:L})}function w(M,L){d="PUSH";let H=op(U.location,M,L);t&&t(H,M),g=_()+1;let Q=x0(H,g),Y=U.createHref(H);try{h.pushState(Q,"",Y)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;a.location.assign(Y)}l&&p&&p({action:d,location:U.location,delta:1})}function A(M,L){d="REPLACE";let H=op(U.location,M,L);t&&t(H,M),g=_();let Q=x0(H,g),Y=U.createHref(H);h.replaceState(Q,"",Y),l&&p&&p({action:d,location:U.location,delta:0})}function R(M){return J1(M)}let U={get action(){return d},get location(){return i(a,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(M0,T),p=M,()=>{a.removeEventListener(M0,T),p=null}},createHref(M){return e(a,M)},createURL:R,encodeLocation(M){let L=R(M);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:A,go(M){return h.go(M)}};return U}function J1(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),it(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function zT(i,e,t="/"){return eR(i,e,t,!1)}function eR(i,e,t,s){let a=typeof e=="string"?na(e):e,l=tr(a.pathname||"/",t);if(l==null)return null;let h=BT(i);tR(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=fR(l);d=cR(h[p],g,s)}return d}function BT(i,e=[],t=[],s=""){let a=(l,h,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(it(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ji([s,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(it(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),BT(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:lR(g,l.index),routesMeta:_})};return i.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,h);else for(let p of jT(l.path))a(l,h,p)}),e}function jT(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let h=jT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function tR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:uR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var nR=/^:[\w-]+$/,iR=3,rR=2,sR=1,aR=10,oR=-2,P0=i=>i==="*";function lR(i,e){let t=i.split("/"),s=t.length;return t.some(P0)&&(s+=oR),e&&(s+=rR),t.filter(a=>!P0(a)).reduce((a,l)=>a+(nR.test(l)?iR:l===""?sR:aR),s)}function uR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function cR(i,e,t=!1){let{routesMeta:s}=i,a={},l="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),w=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),h.push({params:a,pathname:Ji([l,T.pathname]),pathnameBase:gR(Ji([l,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(l=Ji([l,T.pathnameBase]))}return h}function _h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=hR(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],h=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},w)=>{if(_==="*"){let R=d[w]||"";h=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const A=d[w];return T&&!A?g[_]=void 0:g[_]=(A||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:i}}function hR(i,e=!1,t=!0){zn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function fR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function dR(i,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof i=="string"?na(i):i;return{pathname:t?t.startsWith("/")?t:mR(t,e):e,search:yR(s),hash:_R(a)}}function mR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Lm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qp(i){let e=pR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Wp(i,e,t,s=!1){let a;typeof i=="string"?a=na(i):(a={...i},it(!a.pathname||!a.pathname.includes("?"),Lm("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),Lm("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),Lm("#","search","hash",a)));let l=i===""||a.pathname==="",h=l?"/":a.pathname,d;if(h==null)d=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;a.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=dR(a,d),g=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Ji=i=>i.join("/").replace(/\/\/+/g,"/"),gR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),yR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_R=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function vR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var ER=["GET",...HT];new Set(ER);var To=F.createContext(null);To.displayName="DataRouter";var Qh=F.createContext(null);Qh.displayName="DataRouterState";var qT=F.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var TR=F.createContext(new Map);TR.displayName="Fetchers";var wR=F.createContext(null);wR.displayName="Await";var Xn=F.createContext(null);Xn.displayName="Navigation";var hu=F.createContext(null);hu.displayName="Location";var wi=F.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Zp=F.createContext(null);Zp.displayName="RouteError";function bR(i,{relative:e}={}){it(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(Xn),{hash:a,pathname:l,search:h}=fu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ji([t,l])),s.createHref({pathname:d,search:h,hash:a})}function wo(){return F.useContext(hu)!=null}function ns(){return it(wo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(hu).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(i){F.useContext(Xn).static||F.useLayoutEffect(i)}function KT(){let{isDataRoute:i}=F.useContext(wi);return i?VR():SR()}function SR(){it(wo(),"useNavigate() may be used only in the context of a <Router> component.");let i=F.useContext(To),{basename:e,navigator:t}=F.useContext(Xn),{matches:s}=F.useContext(wi),{pathname:a}=ns(),l=JSON.stringify(Qp(s)),h=F.useRef(!1);return GT(()=>{h.current=!0}),F.useCallback((p,g={})=>{if(zn(h.current,FT),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Wp(p,JSON.parse(l),a,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Ji([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,i])}F.createContext(null);function fu(i,{relative:e}={}){let{matches:t}=F.useContext(wi),{pathname:s}=ns(),a=JSON.stringify(Qp(t));return F.useMemo(()=>Wp(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function AR(i,e){return YT(i,e)}function YT(i,e,t,s){var L;it(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Xn),{matches:l}=F.useContext(wi),h=l[l.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let H=_&&_.path||"";$T(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let T=ns(),w;if(e){let H=typeof e=="string"?na(e):e;it(g==="/"||((L=H.pathname)==null?void 0:L.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),w=H}else w=T;let A=w.pathname||"/",R=A;if(g!=="/"){let H=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(H.length).join("/")}let U=zT(i,{pathname:R});zn(_||U!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),zn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=DR(U&&U.map(H=>Object.assign({},H,{params:Object.assign({},d,H.params),pathname:Ji([g,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Ji([g,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),l,t,s);return e&&M?F.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},M):M}function RR(){let i=PR(),e=vR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:l},"ErrorBoundary")," or"," ",F.createElement("code",{style:l},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:a},t):null,h)}var IR=F.createElement(RR,null),CR=class extends F.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?F.createElement(wi.Provider,{value:this.props.routeContext},F.createElement(Zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OR({routeContext:i,match:e,children:t}){let s=F.useContext(To);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(wi.Provider,{value:i},t)}function DR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);it(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let h=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:_,errors:T}=t,w=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,_)=>{let T,w=!1,A=null,R=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,A=g.route.errorElement||IR,h&&(d<0&&_===0?($T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):d===_&&(w=!0,R=g.route.hydrateFallbackElement||null)));let U=e.concat(a.slice(0,_+1)),M=()=>{let L;return T?L=A:w?L=R:g.route.Component?L=F.createElement(g.route.Component,null):g.route.element?L=g.route.element:L=p,F.createElement(OR,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:t!=null},children:L})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?F.createElement(CR,{location:t.location,revalidation:t.revalidation,component:A,error:T,children:M(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):M()},null)}function Jp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NR(i){let e=F.useContext(To);return it(e,Jp(i)),e}function kR(i){let e=F.useContext(Qh);return it(e,Jp(i)),e}function MR(i){let e=F.useContext(wi);return it(e,Jp(i)),e}function eg(i){let e=MR(i),t=e.matches[e.matches.length-1];return it(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function xR(){return eg("useRouteId")}function PR(){var s;let i=F.useContext(Zp),e=kR("useRouteError"),t=eg("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function VR(){let{router:i}=NR("useNavigate"),e=eg("useNavigate"),t=F.useRef(!1);return GT(()=>{t.current=!0}),F.useCallback(async(a,l={})=>{zn(t.current,FT),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var V0={};function $T(i,e,t){!e&&!V0[i]&&(V0[i]=!0,zn(!1,t))}F.memo(UR);function UR({routes:i,future:e,state:t}){return YT(i,void 0,t,e)}function XT({to:i,replace:e,state:t,relative:s}){it(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=F.useContext(Xn);zn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=F.useContext(wi),{pathname:h}=ns(),d=KT(),p=Wp(i,Qp(l),h,s==="path"),g=JSON.stringify(p);return F.useEffect(()=>{d(JSON.parse(g),{replace:e,state:t,relative:s})},[d,g,s,e,t]),null}function lp(i){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function LR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){it(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=F.useMemo(()=>({basename:h,navigator:a,static:l,future:{}}),[h,a,l]);typeof t=="string"&&(t=na(t));let{pathname:p="/",search:g="",hash:_="",state:T=null,key:w="default"}=t,A=F.useMemo(()=>{let R=tr(p,h);return R==null?null:{location:{pathname:R,search:g,hash:_,state:T,key:w},navigationType:s}},[h,p,g,_,T,w,s]);return zn(A!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:F.createElement(Xn.Provider,{value:d},F.createElement(hu.Provider,{children:e,value:A}))}function zR({children:i,location:e}){return AR(up(i),e)}function up(i,e=[]){let t=[];return F.Children.forEach(i,(s,a)=>{if(!F.isValidElement(s))return;let l=[...e,a];if(s.type===F.Fragment){t.push.apply(t,up(s.props.children,l));return}it(s.type===lp,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=up(s.props.children,l)),t.push(h)}),t}var ah="get",oh="application/x-www-form-urlencoded";function Wh(i){return i!=null&&typeof i.tagName=="string"}function BR(i){return Wh(i)&&i.tagName.toLowerCase()==="button"}function jR(i){return Wh(i)&&i.tagName.toLowerCase()==="form"}function HR(i){return Wh(i)&&i.tagName.toLowerCase()==="input"}function qR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FR(i,e){return i.button===0&&(!e||e==="_self")&&!qR(i)}var Xc=null;function GR(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var KR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zm(i){return i!=null&&!KR.has(i)?(zn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):i}function YR(i,e){let t,s,a,l,h;if(jR(i)){let d=i.getAttribute("action");s=d?tr(d,e):null,t=i.getAttribute("method")||ah,a=zm(i.getAttribute("enctype"))||oh,l=new FormData(i)}else if(BR(i)||HR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?tr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||ah,a=zm(i.getAttribute("formenctype"))||zm(d.getAttribute("enctype"))||oh,l=new FormData(d,i),!GR()){let{name:g,type:_,value:T}=i;if(_==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,T)}}else{if(Wh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,s=null,a=oh,h=i}return l&&a==="text/plain"&&(h=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:h}}function tg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function $R(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function QR(i,e,t){let s=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let h=await $R(l,t);return h.links?h.links():[]}return[]}));return eI(s.flat(1).filter(XR).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function U0(i,e,t,s,a,l){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var _;return t[g].pathname!==p.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function WR(i,e,{includeHydrateFallback:t}={}){return ZR(i.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ZR(i){return[...new Set(i)]}function JR(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function eI(i,e){let t=new Set;return new Set(e),i.reduce((s,a)=>{let l=JSON.stringify(JR(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tI=new Set([100,101,204,205]);function nI(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function QT(){let i=F.useContext(To);return tg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iI(){let i=F.useContext(Qh);return tg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var ng=F.createContext(void 0);ng.displayName="FrameworkContext";function WT(){let i=F.useContext(ng);return tg(i,"You must render this element inside a <HydratedRouter> element"),i}function rI(i,e){let t=F.useContext(ng),[s,a]=F.useState(!1),[l,h]=F.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,w=F.useRef(null);F.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let U=L=>{L.forEach(H=>{h(H.isIntersecting)})},M=new IntersectionObserver(U,{threshold:.5});return w.current&&M.observe(w.current),()=>{M.disconnect()}}},[i]),F.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let A=()=>{a(!0)},R=()=>{a(!1),h(!1)};return t?i!=="intent"?[l,w,{}]:[l,w,{onFocus:Hl(d,A),onBlur:Hl(p,R),onMouseEnter:Hl(g,A),onMouseLeave:Hl(_,R),onTouchStart:Hl(T,A)}]:[!1,w,{}]}function Hl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function sI({page:i,...e}){let{router:t}=QT(),s=F.useMemo(()=>zT(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?F.createElement(oI,{page:i,matches:s,...e}):null}function aI(i){let{manifest:e,routeModules:t}=WT(),[s,a]=F.useState([]);return F.useEffect(()=>{let l=!1;return QR(i,e,t).then(h=>{l||a(h)}),()=>{l=!0}},[i,e,t]),s}function oI({page:i,matches:e,...t}){let s=ns(),{manifest:a,routeModules:l}=WT(),{basename:h}=QT(),{loaderData:d,matches:p}=iI(),g=F.useMemo(()=>U0(i,e,p,a,s,"data"),[i,e,p,a,s]),_=F.useMemo(()=>U0(i,e,p,a,s,"assets"),[i,e,p,a,s]),T=F.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let R=new Set,U=!1;if(e.forEach(L=>{var Q;let H=a.routes[L.route.id];!H||!H.hasLoader||(!g.some(Y=>Y.route.id===L.route.id)&&L.route.id in d&&((Q=l[L.route.id])!=null&&Q.shouldRevalidate)||H.hasClientLoader?U=!0:R.add(L.route.id))}),R.size===0)return[];let M=nI(i,h);return U&&R.size>0&&M.searchParams.set("_routes",e.filter(L=>R.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[h,d,s,a,g,e,i,l]),w=F.useMemo(()=>WR(_,a),[_,a]),A=aI(_);return F.createElement(F.Fragment,null,T.map(R=>F.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),w.map(R=>F.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),A.map(({key:R,link:U})=>F.createElement("link",{key:R,...U})))}function lI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ZT&&(window.__reactRouterVersion="7.6.2")}catch{}function uI({basename:i,children:e,window:t}){let s=F.useRef();s.current==null&&(s.current=Q1({window:t,v5Compat:!0}));let a=s.current,[l,h]=F.useState({action:a.action,location:a.location}),d=F.useCallback(p=>{F.startTransition(()=>h(p))},[h]);return F.useLayoutEffect(()=>a.listen(d),[a,d]),F.createElement(LR,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ew=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:h,state:d,target:p,to:g,preventScrollReset:_,viewTransition:T,...w},A){let{basename:R}=F.useContext(Xn),U=typeof g=="string"&&JT.test(g),M,L=!1;if(typeof g=="string"&&U&&(M=g,ZT))try{let C=new URL(window.location.href),N=g.startsWith("//")?new URL(C.protocol+g):new URL(g),V=tr(N.pathname,R);N.origin===C.origin&&V!=null?g=V+N.search+N.hash:L=!0}catch{zn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let H=bR(g,{relative:a}),[Q,Y,ee]=rI(s,w),re=dI(g,{replace:h,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:T});function O(C){e&&e(C),C.defaultPrevented||re(C)}let I=F.createElement("a",{...w,...ee,href:M||H,onClick:L||l?e:O,ref:lI(A,Y),target:p,"data-discover":!U&&t==="render"?"true":void 0});return Q&&!U?F.createElement(F.Fragment,null,I,F.createElement(sI,{page:H})):I});ew.displayName="Link";var cI=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:h,viewTransition:d,children:p,...g},_){let T=fu(h,{relative:g.relative}),w=ns(),A=F.useContext(Qh),{navigator:R,basename:U}=F.useContext(Xn),M=A!=null&&_I(T)&&d===!0,L=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,H=w.pathname,Q=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(H=H.toLowerCase(),Q=Q?Q.toLowerCase():null,L=L.toLowerCase()),Q&&U&&(Q=tr(Q,U)||Q);const Y=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ee=H===L||!a&&H.startsWith(L)&&H.charAt(Y)==="/",re=Q!=null&&(Q===L||!a&&Q.startsWith(L)&&Q.charAt(L.length)==="/"),O={isActive:ee,isPending:re,isTransitioning:M},I=ee?e:void 0,C;typeof s=="function"?C=s(O):C=[s,ee?"active":null,re?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let N=typeof l=="function"?l(O):l;return F.createElement(ew,{...g,"aria-current":I,className:C,ref:_,style:N,to:h,viewTransition:d},typeof p=="function"?p(O):p)});cI.displayName="NavLink";var hI=F.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:h=ah,action:d,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,...w},A)=>{let R=gI(),U=yI(d,{relative:g}),M=h.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&JT.test(d),H=Q=>{if(p&&p(Q),Q.defaultPrevented)return;Q.preventDefault();let Y=Q.nativeEvent.submitter,ee=(Y==null?void 0:Y.getAttribute("formmethod"))||h;R(Y||Q.currentTarget,{fetcherKey:e,method:ee,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return F.createElement("form",{ref:A,method:M,action:U,onSubmit:s?p:H,...w,"data-discover":!L&&i==="render"?"true":void 0})});hI.displayName="Form";function fI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tw(i){let e=F.useContext(To);return it(e,fI(i)),e}function dI(i,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:h}={}){let d=KT(),p=ns(),g=fu(i,{relative:l});return F.useCallback(_=>{if(FR(_,e)){_.preventDefault();let T=t!==void 0?t:eu(p)===eu(g);d(i,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:h})}},[p,d,g,t,s,e,i,a,l,h])}var mI=0,pI=()=>`__${String(++mI)}__`;function gI(){let{router:i}=tw("useSubmit"),{basename:e}=F.useContext(Xn),t=xR();return F.useCallback(async(s,a={})=>{let{action:l,method:h,encType:d,formData:p,body:g}=YR(s,e);if(a.navigate===!1){let _=a.fetcherKey||pI();await i.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||h,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||h,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function yI(i,{relative:e}={}){let{basename:t}=F.useContext(Xn),s=F.useContext(wi);it(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...fu(i||".",{relative:e})},h=ns();if(i==null){l.search=h.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ji([t,l.pathname])),eu(l)}function _I(i,e={}){let t=F.useContext(qT);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=tw("useViewTransitionState"),a=fu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=tr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=tr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return _h(a.pathname,h)!=null||_h(a.pathname,l)!=null}[...tI];const vI=()=>{};var L0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},EI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const a=i[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],h=i[t++],d=i[t++],p=((a&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],h=i[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|h&63)}}return e.join("")},iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const l=i[a],h=a+1<i.length,d=h?i[a+1]:0,p=a+2<i.length,g=p?i[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let w=(d&15)<<2|g>>6,A=g&63;p||(A=64,h||(w=64)),s.push(t[_],t[T],t[w],t[A])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nw(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):EI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const T=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new TI;const w=l<<2|d>>4;if(s.push(w),g!==64){const A=d<<4&240|g>>2;if(s.push(A),T!==64){const R=g<<6&192|T;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class TI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wI=function(i){const e=nw(i);return iw.encodeByteArray(e,!0)},vh=function(i){return wI(i).replace(/\./g,"")},rw=function(i){try{return iw.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=()=>bI().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof L0>"u")return;const i=L0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},RI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&rw(i[1]);return e&&JSON.parse(e)},Zh=()=>{try{return vI()||SI()||AI()||RI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sw=i=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},aw=i=>{const e=sw(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},ow=()=>{var i;return(i=Zh())===null||i===void 0?void 0:i.config},lw=i=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(i){return i.endsWith(".cloudworkstations.dev")}async function ig(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[vh(JSON.stringify(t)),vh(JSON.stringify(h)),""].join(".")}const Yl={};function OI(){const i={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?i.emulator.push(e):i.prod.push(e);return i}function DI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let z0=!1;function rg(i,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||Yl[i]===e||Yl[i]||z0)return;Yl[i]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=OI().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function d(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{z0=!0,h()},w}function _(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=DI(s),A=t("text"),R=document.getElementById(A)||document.createElement("span"),U=t("learnmore"),M=document.getElementById(U)||document.createElement("a"),L=t("preprendIcon"),H=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const Q=w.element;d(Q),_(M,U);const Y=g();p(H,L),Q.append(H,R,M,Y),document.body.appendChild(Q)}l?(R.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function kI(){var i;const e=(i=Zh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function PI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VI(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function UI(){return!kI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LI(){try{return typeof indexedDB=="object"}catch{return!1}}function zI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="FirebaseError";class bi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=BI,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?jI(l,s):"Error",d=`${this.serviceName}: ${h} (${a}).`;return new bi(a,d,s)}}function jI(i,e){return i.replace(HI,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const HI=/\{\$([^}]+)}/g;function qI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $s(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=i[a],h=e[a];if(B0(l)&&B0(h)){if(!$s(l,h))return!1}else if(l!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function B0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function FI(i,e){const t=new GI(i,e);return t.subscribe.bind(t)}class GI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");KI(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=Bm),a.error===void 0&&(a.error=Bm),a.complete===void 0&&(a.complete=Bm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KI(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i){return i&&i._delegate?i._delegate:i}class Xr{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YI=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new II;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XI(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&h.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&e(h,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$I(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $I(i){return i===qs?void 0:i}function XI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const WI={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ZI=ke.INFO,JI={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},eC=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=JI[e];if(a)console[a](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sg{constructor(e){this.name=e,this._logLevel=ZI,this._logHandler=eC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const tC=(i,e)=>e.some(t=>i instanceof t);let j0,H0;function nC(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iC(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uw=new WeakMap,cp=new WeakMap,cw=new WeakMap,jm=new WeakMap,ag=new WeakMap;function rC(i){const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",h)},l=()=>{t(qr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&uw.set(t,i)}).catch(()=>{}),ag.set(e,i),e}function sC(i){if(cp.has(i))return;const e=new Promise((t,s)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",h),i.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",h),i.addEventListener("abort",h)});cp.set(i,e)}let hp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return cp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||cw.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function aC(i){hp=i(hp)}function oC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Hm(this),e,...t);return cw.set(s,e.sort?e.sort():[e]),qr(s)}:iC().includes(i)?function(...e){return i.apply(Hm(this),e),qr(uw.get(this))}:function(...e){return qr(i.apply(Hm(this),e))}}function lC(i){return typeof i=="function"?oC(i):(i instanceof IDBTransaction&&sC(i),tC(i,nC())?new Proxy(i,hp):i)}function qr(i){if(i instanceof IDBRequest)return rC(i);if(jm.has(i))return jm.get(i);const e=lC(i);return e!==i&&(jm.set(i,e),ag.set(e,i)),e}const Hm=i=>ag.get(i);function uC(i,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const h=indexedDB.open(i,e),d=qr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(qr(h.result),p.oldVersion,p.newVersion,qr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const cC=["get","getKey","getAll","getAllKeys","count"],hC=["put","add","delete","clear"],qm=new Map;function q0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=hC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||cC.includes(t)))return;const l=async function(h,...d){const p=this.transaction(h,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return qm.set(e,l),l}aC(i=>({...i,get:(e,t,s)=>q0(e,t)||i.get(e,t,s),has:(e,t)=>!!q0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(dC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function dC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fp="@firebase/app",F0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new sg("@firebase/app"),mC="@firebase/app-compat",pC="@firebase/analytics-compat",gC="@firebase/analytics",yC="@firebase/app-check-compat",_C="@firebase/app-check",vC="@firebase/auth",EC="@firebase/auth-compat",TC="@firebase/database",wC="@firebase/data-connect",bC="@firebase/database-compat",SC="@firebase/functions",AC="@firebase/functions-compat",RC="@firebase/installations",IC="@firebase/installations-compat",CC="@firebase/messaging",OC="@firebase/messaging-compat",DC="@firebase/performance",NC="@firebase/performance-compat",kC="@firebase/remote-config",MC="@firebase/remote-config-compat",xC="@firebase/storage",PC="@firebase/storage-compat",VC="@firebase/firestore",UC="@firebase/ai",LC="@firebase/firestore-compat",zC="firebase",BC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",jC={[fp]:"fire-core",[mC]:"fire-core-compat",[gC]:"fire-analytics",[pC]:"fire-analytics-compat",[_C]:"fire-app-check",[yC]:"fire-app-check-compat",[vC]:"fire-auth",[EC]:"fire-auth-compat",[TC]:"fire-rtdb",[wC]:"fire-data-connect",[bC]:"fire-rtdb-compat",[SC]:"fire-fn",[AC]:"fire-fn-compat",[RC]:"fire-iid",[IC]:"fire-iid-compat",[CC]:"fire-fcm",[OC]:"fire-fcm-compat",[DC]:"fire-perf",[NC]:"fire-perf-compat",[kC]:"fire-rc",[MC]:"fire-rc-compat",[xC]:"fire-gcs",[PC]:"fire-gcs-compat",[VC]:"fire-fst",[LC]:"fire-fst-compat",[UC]:"fire-vertex","fire-js":"fire-js",[zC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,HC=new Map,mp=new Map;function G0(i,e){try{i.container.addComponent(e)}catch(t){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Xs(i){const e=i.name;if(mp.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,i);for(const t of Eh.values())G0(t,i);for(const t of HC.values())G0(t,i);return!0}function Jh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new du("app","Firebase",qC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=BC;function hw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dp,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw Fr.create("bad-app-name",{appName:String(a)});if(t||(t=ow()),!t)throw Fr.create("no-options");const l=Eh.get(a);if(l){if($s(t,l.options)&&$s(s,l.config))return l;throw Fr.create("duplicate-app",{appName:a})}const h=new QI(a);for(const p of mp.values())h.addComponent(p);const d=new FC(t,s,h);return Eh.set(a,d),d}function og(i=dp){const e=Eh.get(i);if(!e&&i===dp&&ow())return hw();if(!e)throw Fr.create("no-app",{appName:i});return e}function gi(i,e,t){var s;let a=(s=jC[i])!==null&&s!==void 0?s:i;t&&(a+=`-${t}`);const l=a.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}Xs(new Xr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="firebase-heartbeat-database",KC=1,tu="firebase-heartbeat-store";let Fm=null;function fw(){return Fm||(Fm=uC(GC,KC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Fr.create("idb-open",{originalErrorMessage:i.message})})),Fm}async function YC(i){try{const t=(await fw()).transaction(tu),s=await t.objectStore(tu).get(dw(i));return await t.done,s}catch(e){if(e instanceof bi)nr.warn(e.message);else{const t=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(t.message)}}}async function K0(i,e){try{const s=(await fw()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,dw(i)),await s.done}catch(t){if(t instanceof bi)nr.warn(t.message);else{const s=Fr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});nr.warn(s.message)}}}function dw(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=1024,XC=30;class QC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Y0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>XC){const h=JC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y0(),{heartbeatsToSend:s,unsentEntries:a}=WC(this._heartbeatsCache.heartbeats),l=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return nr.warn(t),""}}}function Y0(){return new Date().toISOString().substring(0,10)}function WC(i,e=$C){const t=[];let s=i.slice();for(const a of i){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),$0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),$0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class ZC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LI()?zI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function $0(i){return vh(JSON.stringify({version:2,heartbeats:i})).length}function JC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(i){Xs(new Xr("platform-logger",e=>new fC(e),"PRIVATE")),Xs(new Xr("heartbeat",e=>new QC(e),"PRIVATE")),gi(fp,F0,i),gi(fp,F0,"esm2017"),gi("fire-js","")}e2("");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,mw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function C(){}C.prototype=I.prototype,O.D=I.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(N,V,z){for(var k=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)k[Vt-2]=arguments[Vt];return I.prototype[V].apply(N,k)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,I,C){C||(C=0);var N=Array(16);if(typeof I=="string")for(var V=0;16>V;++V)N[V]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(V=0;16>V;++V)N[V]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=O.g[0],C=O.g[1],V=O.g[2];var z=O.g[3],k=I+(z^C&(V^z))+N[0]+3614090360&4294967295;I=C+(k<<7&4294967295|k>>>25),k=z+(V^I&(C^V))+N[1]+3905402710&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(C^z&(I^C))+N[2]+606105819&4294967295,V=z+(k<<17&4294967295|k>>>15),k=C+(I^V&(z^I))+N[3]+3250441966&4294967295,C=V+(k<<22&4294967295|k>>>10),k=I+(z^C&(V^z))+N[4]+4118548399&4294967295,I=C+(k<<7&4294967295|k>>>25),k=z+(V^I&(C^V))+N[5]+1200080426&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(C^z&(I^C))+N[6]+2821735955&4294967295,V=z+(k<<17&4294967295|k>>>15),k=C+(I^V&(z^I))+N[7]+4249261313&4294967295,C=V+(k<<22&4294967295|k>>>10),k=I+(z^C&(V^z))+N[8]+1770035416&4294967295,I=C+(k<<7&4294967295|k>>>25),k=z+(V^I&(C^V))+N[9]+2336552879&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(C^z&(I^C))+N[10]+4294925233&4294967295,V=z+(k<<17&4294967295|k>>>15),k=C+(I^V&(z^I))+N[11]+2304563134&4294967295,C=V+(k<<22&4294967295|k>>>10),k=I+(z^C&(V^z))+N[12]+1804603682&4294967295,I=C+(k<<7&4294967295|k>>>25),k=z+(V^I&(C^V))+N[13]+4254626195&4294967295,z=I+(k<<12&4294967295|k>>>20),k=V+(C^z&(I^C))+N[14]+2792965006&4294967295,V=z+(k<<17&4294967295|k>>>15),k=C+(I^V&(z^I))+N[15]+1236535329&4294967295,C=V+(k<<22&4294967295|k>>>10),k=I+(V^z&(C^V))+N[1]+4129170786&4294967295,I=C+(k<<5&4294967295|k>>>27),k=z+(C^V&(I^C))+N[6]+3225465664&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^C&(z^I))+N[11]+643717713&4294967295,V=z+(k<<14&4294967295|k>>>18),k=C+(z^I&(V^z))+N[0]+3921069994&4294967295,C=V+(k<<20&4294967295|k>>>12),k=I+(V^z&(C^V))+N[5]+3593408605&4294967295,I=C+(k<<5&4294967295|k>>>27),k=z+(C^V&(I^C))+N[10]+38016083&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^C&(z^I))+N[15]+3634488961&4294967295,V=z+(k<<14&4294967295|k>>>18),k=C+(z^I&(V^z))+N[4]+3889429448&4294967295,C=V+(k<<20&4294967295|k>>>12),k=I+(V^z&(C^V))+N[9]+568446438&4294967295,I=C+(k<<5&4294967295|k>>>27),k=z+(C^V&(I^C))+N[14]+3275163606&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^C&(z^I))+N[3]+4107603335&4294967295,V=z+(k<<14&4294967295|k>>>18),k=C+(z^I&(V^z))+N[8]+1163531501&4294967295,C=V+(k<<20&4294967295|k>>>12),k=I+(V^z&(C^V))+N[13]+2850285829&4294967295,I=C+(k<<5&4294967295|k>>>27),k=z+(C^V&(I^C))+N[2]+4243563512&4294967295,z=I+(k<<9&4294967295|k>>>23),k=V+(I^C&(z^I))+N[7]+1735328473&4294967295,V=z+(k<<14&4294967295|k>>>18),k=C+(z^I&(V^z))+N[12]+2368359562&4294967295,C=V+(k<<20&4294967295|k>>>12),k=I+(C^V^z)+N[5]+4294588738&4294967295,I=C+(k<<4&4294967295|k>>>28),k=z+(I^C^V)+N[8]+2272392833&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^C)+N[11]+1839030562&4294967295,V=z+(k<<16&4294967295|k>>>16),k=C+(V^z^I)+N[14]+4259657740&4294967295,C=V+(k<<23&4294967295|k>>>9),k=I+(C^V^z)+N[1]+2763975236&4294967295,I=C+(k<<4&4294967295|k>>>28),k=z+(I^C^V)+N[4]+1272893353&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^C)+N[7]+4139469664&4294967295,V=z+(k<<16&4294967295|k>>>16),k=C+(V^z^I)+N[10]+3200236656&4294967295,C=V+(k<<23&4294967295|k>>>9),k=I+(C^V^z)+N[13]+681279174&4294967295,I=C+(k<<4&4294967295|k>>>28),k=z+(I^C^V)+N[0]+3936430074&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^C)+N[3]+3572445317&4294967295,V=z+(k<<16&4294967295|k>>>16),k=C+(V^z^I)+N[6]+76029189&4294967295,C=V+(k<<23&4294967295|k>>>9),k=I+(C^V^z)+N[9]+3654602809&4294967295,I=C+(k<<4&4294967295|k>>>28),k=z+(I^C^V)+N[12]+3873151461&4294967295,z=I+(k<<11&4294967295|k>>>21),k=V+(z^I^C)+N[15]+530742520&4294967295,V=z+(k<<16&4294967295|k>>>16),k=C+(V^z^I)+N[2]+3299628645&4294967295,C=V+(k<<23&4294967295|k>>>9),k=I+(V^(C|~z))+N[0]+4096336452&4294967295,I=C+(k<<6&4294967295|k>>>26),k=z+(C^(I|~V))+N[7]+1126891415&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~C))+N[14]+2878612391&4294967295,V=z+(k<<15&4294967295|k>>>17),k=C+(z^(V|~I))+N[5]+4237533241&4294967295,C=V+(k<<21&4294967295|k>>>11),k=I+(V^(C|~z))+N[12]+1700485571&4294967295,I=C+(k<<6&4294967295|k>>>26),k=z+(C^(I|~V))+N[3]+2399980690&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~C))+N[10]+4293915773&4294967295,V=z+(k<<15&4294967295|k>>>17),k=C+(z^(V|~I))+N[1]+2240044497&4294967295,C=V+(k<<21&4294967295|k>>>11),k=I+(V^(C|~z))+N[8]+1873313359&4294967295,I=C+(k<<6&4294967295|k>>>26),k=z+(C^(I|~V))+N[15]+4264355552&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~C))+N[6]+2734768916&4294967295,V=z+(k<<15&4294967295|k>>>17),k=C+(z^(V|~I))+N[13]+1309151649&4294967295,C=V+(k<<21&4294967295|k>>>11),k=I+(V^(C|~z))+N[4]+4149444226&4294967295,I=C+(k<<6&4294967295|k>>>26),k=z+(C^(I|~V))+N[11]+3174756917&4294967295,z=I+(k<<10&4294967295|k>>>22),k=V+(I^(z|~C))+N[2]+718787259&4294967295,V=z+(k<<15&4294967295|k>>>17),k=C+(z^(V|~I))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(V+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+V&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var C=I-this.blockSize,N=this.B,V=this.h,z=0;z<I;){if(V==0)for(;z<=C;)a(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<I;)if(N[V++]=O.charCodeAt(z++),V==this.blockSize){a(this,N),V=0;break}}else for(;z<I;)if(N[V++]=O[z++],V==this.blockSize){a(this,N),V=0;break}}this.h=V,this.o+=I},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var C=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=C&255,C/=256;for(this.u(O),O=Array(16),I=C=0;4>I;++I)for(var N=0;32>N;N+=8)O[C++]=this.g[I]>>>N&255;return O};function l(O,I){var C=d;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=I(O)}function h(O,I){this.h=I;for(var C=[],N=!0,V=O.length-1;0<=V;V--){var z=O[V]|0;N&&z==I||(C[V]=z,N=!1)}this.g=C}var d={};function p(O){return-128<=O&&128>O?l(O,function(I){return new h([I|0],0>I?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return M(g(-O));for(var I=[],C=1,N=0;O>=C;N++)I[N]=O/C|0,C*=4294967296;return new h(I,0)}function _(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return M(_(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(I,8)),N=T,V=0;V<O.length;V+=8){var z=Math.min(8,O.length-V),k=parseInt(O.substring(V,V+z),I);8>z?(z=g(Math.pow(I,z)),N=N.j(z).add(g(k))):(N=N.j(C),N=N.add(g(k)))}return N}var T=p(0),w=p(1),A=p(16777216);i=h.prototype,i.m=function(){if(U(this))return-M(this).m();for(var O=0,I=1,C=0;C<this.g.length;C++){var N=this.i(C);O+=(0<=N?N:4294967296+N)*I,I*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R(this))return"0";if(U(this))return"-"+M(this).toString(O);for(var I=g(Math.pow(O,6)),C=this,N="";;){var V=Y(C,I).g;C=L(C,V.j(I));var z=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=V,R(C))return z+N;for(;6>z.length;)z="0"+z;N=z+N}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function R(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function U(O){return O.h==-1}i.l=function(O){return O=L(this,O),U(O)?-1:R(O)?0:1};function M(O){for(var I=O.g.length,C=[],N=0;N<I;N++)C[N]=~O.g[N];return new h(C,~O.h).add(w)}i.abs=function(){return U(this)?M(this):this},i.add=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],N=0,V=0;V<=I;V++){var z=N+(this.i(V)&65535)+(O.i(V)&65535),k=(z>>>16)+(this.i(V)>>>16)+(O.i(V)>>>16);N=k>>>16,z&=65535,k&=65535,C[V]=k<<16|z}return new h(C,C[C.length-1]&-2147483648?-1:0)};function L(O,I){return O.add(M(I))}i.j=function(O){if(R(this)||R(O))return T;if(U(this))return U(O)?M(this).j(M(O)):M(M(this).j(O));if(U(O))return M(this.j(M(O)));if(0>this.l(A)&&0>O.l(A))return g(this.m()*O.m());for(var I=this.g.length+O.g.length,C=[],N=0;N<2*I;N++)C[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<O.g.length;V++){var z=this.i(N)>>>16,k=this.i(N)&65535,Vt=O.i(V)>>>16,at=O.i(V)&65535;C[2*N+2*V]+=k*at,H(C,2*N+2*V),C[2*N+2*V+1]+=z*at,H(C,2*N+2*V+1),C[2*N+2*V+1]+=k*Vt,H(C,2*N+2*V+1),C[2*N+2*V+2]+=z*Vt,H(C,2*N+2*V+2)}for(N=0;N<I;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=I;N<2*I;N++)C[N]=0;return new h(C,0)};function H(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function Q(O,I){this.g=O,this.h=I}function Y(O,I){if(R(I))throw Error("division by zero");if(R(O))return new Q(T,T);if(U(O))return I=Y(M(O),I),new Q(M(I.g),M(I.h));if(U(I))return I=Y(O,M(I)),new Q(M(I.g),I.h);if(30<O.g.length){if(U(O)||U(I))throw Error("slowDivide_ only works with positive integers.");for(var C=w,N=I;0>=N.l(O);)C=ee(C),N=ee(N);var V=re(C,1),z=re(N,1);for(N=re(N,2),C=re(C,2);!R(N);){var k=z.add(N);0>=k.l(O)&&(V=V.add(C),z=k),N=re(N,1),C=re(C,1)}return I=L(O,V.j(I)),new Q(V,I)}for(V=T;0<=O.l(I);){for(C=Math.max(1,Math.floor(O.m()/I.m())),N=Math.ceil(Math.log(C)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),z=g(C),k=z.j(I);U(k)||0<k.l(O);)C-=N,z=g(C),k=z.j(I);R(z)&&(z=w),V=V.add(z),O=L(O,k)}return new Q(V,O)}i.A=function(O){return Y(this,O).h},i.and=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)&O.i(N);return new h(C,this.h&O.h)},i.or=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)|O.i(N);return new h(C,this.h|O.h)},i.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),C=[],N=0;N<I;N++)C[N]=this.i(N)^O.i(N);return new h(C,this.h^O.h)};function ee(O){for(var I=O.g.length+1,C=[],N=0;N<I;N++)C[N]=O.i(N)<<1|O.i(N-1)>>>31;return new h(C,O.h)}function re(O,I){var C=I>>5;I%=32;for(var N=O.g.length-C,V=[],z=0;z<N;z++)V[z]=0<I?O.i(z+C)>>>I|O.i(z+C+1)<<32-I:O.i(z+C);return new h(V,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Gr=h}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,ql,gw,lh,pp,yw,_w,vw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function a(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}a("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,w.apply(null,arguments)}function A(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,X){for(var oe=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)oe[xe-2]=arguments[xe];return y.prototype[j].apply(S,oe)}}function U(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function M(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const j=c.length||0,X=S.length||0;c.length=j+X;for(let oe=0;oe<X;oe++)c[j+oe]=S[oe]}else c.push(S)}}class L{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var ee=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function re(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function I(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let X=0;X<C.length;X++)v=C[X],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function z(c){d.setTimeout(()=>{throw c},0)}function k(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,v){const S=at.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var at=new L(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,ze=new Vt,x=()=>{const c=d.Promise.resolve(void 0);le=()=>{c.then(se)}};var se=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(v){z(v)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ce(c,y){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{Y(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}R(Ce,ae);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Qn(c,y,v,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=j,this.key=++Ze,this.da=this.fa=!1}function lr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Si(c){this.src=c,this.g={},this.h=0}Si.prototype.add=function(c,y,v,S,j){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var oe=as(c,y,S,j);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new Qn(y,this.src,X,!!S,j),y.fa=v,c.push(y)),y};function ss(c,y){var v=y.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,y,void 0),X;(X=0<=j)&&Array.prototype.splice.call(S,j,1),X&&(lr(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function as(c,y,v,S){for(var j=0;j<c.length;++j){var X=c[j];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==S)return j}return-1}var os="closure_lm_"+(1e6*Math.random()|0),Do={};function Su(c,y,v,S,j){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Su(c,y[X],v,S,j);return null}return v=Au(v),c&&c[Ct]?c.K(y,v,g(S)?!!S.capture:!1,j):Sn(c,y,v,!1,S,j)}function Sn(c,y,v,S,j,X){if(!y)throw Error("Invalid event type");var oe=g(j)?!!j.capture:!!j,xe=oa(c);if(xe||(c[os]=xe=new Si(c)),v=xe.add(y,v,S,oe,X),v.proxy)return v;if(S=If(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ge||(j=oe),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(ls(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function If(){function c(v){return y.call(c.src,c.listener,v)}const y=Cf;return c}function No(c,y,v,S,j){if(Array.isArray(y))for(var X=0;X<y.length;X++)No(c,y[X],v,S,j);else S=g(S)?!!S.capture:!!S,v=Au(v),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=as(X,v,S,j),-1<v&&(lr(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=oa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=as(y,v,S,j)),(v=-1<c?y[c]:null)&&aa(v))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])ss(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ls(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=oa(y))?(ss(v,c),v.h==0&&(v.src=null,y[os]=null)):lr(c)}}}function ls(c){return c in Do?Do[c]:Do[c]="on"+c}function Cf(c,y){if(c.da)c=!0;else{y=new Ce(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&aa(c),c=v.call(S,y)}return c}function oa(c){return c=c[os],c instanceof Si?c:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Au(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(y){return c.handleEvent(y)}),c[ko])}function ot(){ue.call(this),this.i=new Si(this),this.M=this,this.F=null}R(ot,ue),ot.prototype[Ct]=!0,ot.prototype.removeEventListener=function(c,y,v,S){No(this,c,y,v,S)};function qe(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ae(y,c);else if(y instanceof ae)y.target=y.target||c;else{var j=y;y=new ae(S,c),N(y,j)}if(j=!0,v)for(var X=v.length-1;0<=X;X--){var oe=y.g=v[X];j=hn(oe,S,!0,y)&&j}if(oe=y.g=c,j=hn(oe,S,!0,y)&&j,j=hn(oe,S,!1,y)&&j,v)for(X=0;X<v.length;X++)oe=y.g=v[X],j=hn(oe,S,!1,y)&&j}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)lr(v[S]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},ot.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function hn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,X=0;X<y.length;++X){var oe=y[X];if(oe&&!oe.da&&oe.capture==v){var xe=oe.listener,Tt=oe.ha||oe.src;oe.fa&&ss(c.i,oe),j=xe.call(Tt,S)!==!1&&j}}return j&&!S.defaultPrevented}function Kt(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Ru(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Of extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){ue.call(this),this.h=c,this.g={}}R(us,ue);var cs=[];function hs(c){re(c.g,function(y,v){this.g.hasOwnProperty(v)&&aa(y)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=d.JSON.stringify,la=d.JSON.parse,fs=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Po(){}var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ri(){ae.call(this,"d")}R(Ri,ae);function Vo(){ae.call(this,"c")}R(Vo,ae);var Wn={},Uo=null;function ur(){return Uo=Uo||new ot}Wn.La="serverreachability";function ua(c){ae.call(this,Wn.La,c)}R(ua,ae);function cr(c){const y=ur();qe(y,new ua(y))}Wn.STAT_EVENT="statevent";function Iu(c,y){ae.call(this,Wn.STAT_EVENT,c),this.stat=y}R(Iu,ae);function tt(c){const y=ur();qe(y,new Iu(y,c))}Wn.Ma="timingevent";function Et(c,y){ae.call(this,Wn.Ma,c),this.size=y}R(Et,ae);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Lo(c,y,v,S,j,X){c.info(function(){if(c.g)if(X)for(var oe="",xe=X.split("&"),Tt=0;Tt<xe.length;Tt++){var Pe=xe[Tt].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var wt=Dt.split("_");oe=2<=wt.length&&wt[1]=="type"?oe+(Dt+"="+Pe+"&"):oe+(Dt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+v+`
`+oe})}function Df(c,y,v,S,j,X,oe){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+v+`
`+X+" "+oe})}function hr(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ds(c,v)+(S?" "+S:"")})}function Cu(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ds(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return Bn(v)}catch{return y}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ii={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}R(Jn,Mo),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function en(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var zo={},ca={};function jn(c,y,v){c.L=1,c.v=_s(fn(y)),c.m=v,c.P=!0,Ci(c,null)}function Ci(c,y){c.F=Date.now(),ms(c),c.A=fn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Go(v.i,"t",S),c.C=0,v=c.j.J,c.h=new ct,c.g=Fu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Of(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(cs[0]=j.toString()),j=cs);for(var X=0;X<j.length;X++){var oe=Su(v,j[X],S||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),cr(),Lo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const wt=On(this.g);var y=this.g.Ba();const Vi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=Vi?cr(3):cr(2)),dr(this);var v=this.g.Z();this.X=v;t:if(Ou(this)){var S=Vu(this.g);c="";var j=S.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),ei(this);var oe="";break t}this.h.i=new d.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(X&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Df(this.i,this.u,this.A,this.l,this.R,wt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,Tt=this.g;if((xe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(xe)){var Pe=xe;break t}}Pe=null}if(v=Pe)hr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,v);else{this.o=!1,this.s=3,tt(12),Ut(this),ei(this);break e}}if(this.P){v=!0;let Lt;for(;!this.J&&this.C<oe.length;)if(Lt=Du(this,oe),Lt==ca){wt==4&&(this.s=4,tt(14),v=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==zo){this.s=4,tt(15),hr(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else hr(this.i,this.l,Lt,null),ps(this,Lt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||oe.length!=0||this.h.h||(this.s=1,tt(16),v=!1),this.o=this.o&&v,!v)hr(this.i,this.l,oe,"[Invalid Chunked Response]"),Ut(this),ei(this);else if(0<oe.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Rs(Dt),Dt.M=!0,tt(11))}}else hr(this.i,this.l,oe,null),ps(this,oe);wt==4&&Ut(this),this.o&&!this.J&&(wt==4?ju(this.j,this):(this.o=!1,ms(this)))}else Pf(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Ut(this),ei(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Du(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ca:(v=Number(y.substring(v,S)),isNaN(v)?zo:(S+=1,S+v>y.length?ca:(y=y.slice(S,S+v),c.C=S+v,y)))}en.prototype.cancel=function(){this.J=!0,Ut(this)};function ms(c){c.S=Date.now()+c.I,Nu(c,c.I)}function Nu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(w(c.ba,c),y)}function dr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Cu(this.i,this.A),this.L!=2&&(cr(),tt(17)),Ut(this),this.s=2,ei(this)):Nu(this,this.S-c)};function ei(c){c.j.G==0||c.J||ju(c.j,c)}function Ut(c){dr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,hs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ps(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Bo(v.h,c))){if(!c.K&&Bo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)wa(v),Ea(v);else break e;Qo(v),tt(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=mt(w(v.Za,v),6e3));if(1>=fa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Pi(v,11)}else if((c.K||v.g==c)&&wa(v),!H(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Pe=j[y];if(v.T=Pe[0],Pe=Pe[1],v.G==2)if(Pe[0]=="c"){v.K=Pe[1],v.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(v.la=Dt,v.j.info("VER="+v.la));const wt=Pe[4];wt!=null&&(v.Aa=wt,v.j.info("SVER="+v.Aa));const Vi=Pe[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(S=1.5*Vi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Lt=c.g;if(Lt){const oi=Lt.g?Lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var X=S.h;X.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(da(X,X.h),X.h=null))}if(S.D){const Zo=Lt.g?Lt.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(S.ya=Zo,Ke(S.I,S.D,Zo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var oe=c;if(S.qa=qu(S,S.J?S.ia:null,S.W),oe.K){tn(S.h,oe);var xe=oe,Tt=S.L;Tt&&(xe.I=Tt),xe.B&&(dr(xe),ms(xe)),S.g=oe}else zu(S);0<v.i.length&&Ta(v)}else Pe[0]!="stop"&&Pe[0]!="close"||Pi(v,7);else v.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Pi(v,7):$o(v):Pe[0]!="noop"&&v.l&&v.l.ta(Pe),v.v=0)}}cr(4)}catch{}}var ku=class{constructor(c,y){this.g=c,this.map=y}};function Oi(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ha(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fa(c){return c.h?1:c.g?c.g.size:0}function Bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function da(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Oi.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return U(c.i)}function Nf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Ho(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=ma(c),S=Nf(c),j=S.length,X=0;X<j;X++)y.call(void 0,S[X],v&&v[X],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var X=c[v].substring(0,S);j=c[v].substring(S+1)}else X=c[v];y(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,mr(this,c.s),this.l=c.l;var y=c.i,v=new Ni;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Di(this,v),this.m=c.m}else c&&(y=String(c).match(gs))?(this.h=!1,ys(this,y[1]||"",!0),this.o=Rn(y[2]||""),this.g=Rn(y[3]||"",!0),mr(this,y[4]),this.l=Rn(y[5]||"",!0),Di(this,y[6]||"",!0),this.m=Rn(y[7]||"")):(this.h=!1,this.i=new Ni(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(vs(y,qo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(vs(y,qo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(vs(v,v.charAt(0)=="/"?Mf:Fo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",vs(v,pa)),c.join("")};function fn(c){return new pt(c)}function ys(c,y,v){c.j=v?Rn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function mr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Di(c,y,v){y instanceof Ni?(c.i=y,xu(c.i,c.h)):(v||(y=vs(y,xf)),c.i=new Ni(y,c.h))}function Ke(c,y,v){c.i.set(y,v)}function _s(c){return Ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Rn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Mu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Mu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Fo=/[#\?:]/g,Mf=/[#\?]/g,xf=/[#\?@]/g,pa=/#/g;function Ni(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function In(c){c.g||(c.g=new Map,c.h=0,c.i&&kf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ni.prototype,i.add=function(c,y){In(this),this.i=null,c=ti(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ki(c,y){In(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Mi(c,y){return In(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){In(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(y,j,S,this)},this)},this)},i.na=function(){In(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const j=c[S];for(let X=0;X<j.length;X++)v.push(y[S])}return v},i.V=function(c){In(this);let y=[];if(typeof c=="string")Mi(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return In(this),this.i=null,c=ti(this,c),Mi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Go(c,y,v){ki(c,y),0<v.length&&(c.i=null,c.g.set(ti(c,y),U(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const X=encodeURIComponent(String(S)),oe=this.V(S);for(S=0;S<oe.length;S++){var j=X;oe[S]!==""&&(j+="="+encodeURIComponent(String(oe[S]))),c.push(j)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function xu(c,y){y&&!c.j&&(In(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(ki(this,S),Go(this,j,v))},c)),c.j=y}function Es(c,y){const v=new An;if(d.Image){const S=new Image;S.onload=A(Cn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=A(Cn,v,"TestLoadImage: error",!1,y,S),S.onabort=A(Cn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=A(Cn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Hn(c,y){const v=new An,S=new AbortController,j=setTimeout(()=>{S.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(j),X.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Ts(){this.g=new fs}function ni(c,y,v){const S=v||"";try{Ho(c,function(j,X){let oe=j;g(j)&&(oe=Bn(j)),y.push(S+X+"="+encodeURIComponent(oe))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function pr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(pr,Mo),pr.prototype.g=function(){return new xi(this.l,this.j)},pr.prototype.i=function(c){return function(){return c}}({});function xi(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(xi,ot),i=xi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let y="";return re(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ot(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Yo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ke(c,y,v))}function je(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(je,ot);var ga=/^https?$/i,ws=["POST","PUT"];i=je.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?xo(this.o):xo(Zn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Pu(this,X);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())v.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ws,y,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of v)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Pu(this,X)}};function Pu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ya(c),si(c)}function ya(c){c.A||(c.A=!0,qe(c,"complete"),qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,qe(this,"complete"),qe(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},i.bb=function(){_a(this)};function _a(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Kt(c.Ea,0,c);else if(qe(c,"readystatechange"),On(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=oe===0){var j=String(c.D).match(gs)[1]||null;!j&&d.self&&d.self.location&&(j=d.self.location.protocol.slice(0,-1)),S=!ga.test(j?j.toLowerCase():"")}v=S}if(v)qe(c,"complete"),qe(c,"success");else{c.m=6;try{var X=2<On(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ya(c)}}finally{si(c)}}}}function si(c,y){if(c.g){bs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||qe(c,"ready");try{v.onreadystatechange=S}catch{}}}function bs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),la(y)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Pf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(H(c[S]))continue;var v=V(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[j]||[];y[j]=X,X.push(v)}O(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function va(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Oi(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=va.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){tt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=qu(this,null,this.W),Ta(this)};function $o(c){if(Uu(c),c.G==3){var y=c.U++,v=fn(c.I);if(Ke(v,"SID",c.K),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),As(c,v),y=new en(c,c.j,y),y.L=2,y.v=_s(fn(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=Fu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ms(y)}Hu(c)}function Ea(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Uu(c){Ea(c),c.u&&(d.clearTimeout(c.u),c.u=null),wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ta(c){if(!ha(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||x(),me||(le(),me=!0),ze.add(y,c),c.B=0}}function Vf(c,y){return fa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(w(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new en(this,this.j,c);let X=this.o;if(this.S&&(X?(X=I(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Lu(this,j,y),v=fn(this.I),Ke(v,"RID",c),Ke(v,"CVER",22),this.D&&Ke(v,"X-HTTP-Session-Id",this.D),As(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(Yo(X)))+"&"+y:this.m&&Ot(v,this.m,X)),da(this.h,j),this.Ua&&Ke(v,"TYPE","init"),this.P?(Ke(v,"$req",y),Ke(v,"SID","null"),j.T=!0,jn(j,v,null)):jn(j,v,y),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||ha(this.h)||Xo(this))};function Xo(c,y){var v;y?v=y.l:v=c.U++;const S=fn(c.I);Ke(S,"SID",c.K),Ke(S,"RID",v),Ke(S,"AID",c.T),As(c,S),c.m&&c.o&&Ot(S,c.m,c.o),v=new en(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Lu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),da(c.h,v),jn(v,S,y)}function As(c,y){c.H&&re(c.H,function(v,S){Ke(y,S,v)}),c.l&&Ho({},function(v,S){Ke(y,S,v)})}function Lu(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;e:{var j=c.i;let X=-1;for(;;){const oe=["count="+v];X==-1?0<v?(X=j[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let xe=!0;for(let Tt=0;Tt<v;Tt++){let Pe=j[Tt].g;const Dt=j[Tt].map;if(Pe-=X,0>Pe)X=Math.max(0,j[Tt].g-100),xe=!1;else try{ni(Dt,oe,"req"+Pe+"_")}catch{S&&S(Dt)}}if(xe){S=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function zu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||x(),me||(le(),me=!0),ze.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(w(c.Fa,c),Wo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Bu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Ea(this),Bu(this))};function Rs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Bu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=fn(c.qa);Ke(y,"RID","rpc"),Ke(y,"SID",c.K),Ke(y,"AID",c.T),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ke(y,"TO",c.ja),Ke(y,"TYPE","xmlhttp"),As(c,y),c.m&&c.o&&Ot(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=_s(fn(y)),v.m=null,v.P=!0,Ci(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ea(this),Qo(this),tt(19))};function wa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function ju(c,y){var v=null;if(c.g==y){wa(c),Rs(c),c.g=null;var S=2}else if(Bo(c.h,y))v=y.D,tn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=ur(),qe(S,new Et(S,v)),Ta(c)}else zu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&Vf(c,y)||S==2&&Qo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Pi(c,5);break;case 4:Pi(c,10);break;case 3:Pi(c,6);break;default:Pi(c,2)}}}function Wo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Pi(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const j=!S;S=new pt(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ys(S,"https"),_s(S),j?Es(S.toString(),v):Hn(S.toString(),v)}else tt(2);c.G=0,c.l&&c.l.sa(y),Hu(c),Uu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(M(c.ka,y),M(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function qu(c,y,v){var S=v instanceof pt?fn(v):new pt(v);if(S.g!="")y&&(S.g=y+"."+S.g),mr(S,S.s);else{var j=d.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var X=new pt(null);S&&ys(X,S),y&&(X.g=y),j&&mr(X,j),v&&(X.l=v),S=X}return v=c.D,y=c.ya,v&&y&&Ke(S,v,y),Ke(S,"VER",c.la),As(c,S),S}function Fu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new je(new pr({eb:v})):new je(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}i=Gu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ba(){}ba.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ot.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!H(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!H(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}R(nn,ot),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){$o(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Bn(c),c=v);y.i.push(new ku(y.Ya++,c)),y.G==3&&Ta(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,$o(this.g),delete this.g,nn.aa.N.call(this)};function Ku(c){Ri.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}R(Ku,Ri);function Yu(){Vo.call(this),this.status=1}R(Yu,Vo);function ai(c){this.g=c}R(ai,Gu),ai.prototype.ua=function(){qe(this.g,"a")},ai.prototype.ta=function(c){qe(this.g,new Ku(c))},ai.prototype.sa=function(c){qe(this.g,new Yu)},ai.prototype.ra=function(){qe(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,vw=function(){return new ba},_w=function(){return ur()},yw=Wn,pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,lh=fr,Ii.COMPLETE="complete",gw=Ii,Po.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ot.prototype.listen=ot.prototype.K,ql=Po,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,pw=je}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const Q0="@firebase/firestore",W0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new sg("@firebase/firestore");function to(){return Qs.logLevel}function ce(i,...e){if(Qs.logLevel<=ke.DEBUG){const t=e.map(lg);Qs.debug(`Firestore (${So}): ${i}`,...t)}}function ir(i,...e){if(Qs.logLevel<=ke.ERROR){const t=e.map(lg);Qs.error(`Firestore (${So}): ${i}`,...t)}}function co(i,...e){if(Qs.logLevel<=ke.WARN){const t=e.map(lg);Qs.warn(`Firestore (${So}): ${i}`,...t)}}function lg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Ew(i,s,t)}function Ew(i,e,t){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ir(s),new Error(s)}function He(i,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,i||Ew(e,a,s)}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class n2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class i2{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Kr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Kr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string",31837,{l:s}),new Tw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new Qt(e)}}class r2{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s2{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new r2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){He(this.o===void 0,3512);const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Z0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Z0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=o2(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function gp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return Ie(s,a);{const l=ww(),h=l2(l.encode(J0(i,t)),l.encode(J0(e,t)));return h!==0?h:Ie(s,a)}}t+=s>65535?2:1}return Ie(i.length,e.length)}function J0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function l2(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Ie(i[t],e[t]);return Ie(i.length,e.length)}function ho(i,e,t){return i.length===e.length&&i.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=-62135596800,tE=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*tE);return new At(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eE)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tE}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-eE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new At(0,0))}static max(){return new be(new At(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="__name__";class di{constructor(e,t,s){t===void 0?t=0:t>e.length&&ve(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&ve(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=di.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ie(e.length,t.length)}static compareSegments(e,t){const s=di.isNumericId(e),a=di.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?di.extractNumericId(e).compare(di.extractNumericId(t)):gp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class et extends di{construct(e,t,s){return new et(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new et(t)}static emptyPath(){return new et([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends di{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return u2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new Ft([nE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(h=!h,a++):d!=="."||h?(s+=d,a++):(l(),a++)}if(l(),h)throw new he(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function c2(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=be.fromTimestamp(s===1e9?new At(t+1,0):new At(t,s));return new Qr(a,pe.empty(),e)}function h2(i){return new Qr(i.readTime,i.key,nu)}class Qr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Qr(be.min(),pe.empty(),nu)}static max(){return new Qr(be.max(),pe.empty(),nu)}}function f2(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(i.documentKey,e.documentKey),t!==0?t:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class m2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==d2)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let a=0,l=0,h=!1;e.forEach(d=>{++a,d.next(()=>{++l,h&&l===a&&t()},p=>s(p))}),h=!0,l===a&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(a=>a?ne.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,a)=>{const l=e.length,h=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++d,d===l&&s(h)},_=>a(_))}})}static doWhile(e,t){return new ne((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function p2(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ro(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ef.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function tf(i){return i==null}function Th(i){return i===0&&1/i==-1/0}function g2(i){return typeof i=="number"&&Number.isInteger(i)&&!Th(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="";function y2(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=iE(e)),e=_2(i.get(t),e);return iE(e)}function _2(i,e){let t=e;const s=i.length;for(let a=0;a<s;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case Sw:t+="";break;default:t+=l}}return t}function iE(i){return i+Sw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function is(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Aw(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||qt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??qt.RED,this.left=a??qt.EMPTY,this.right=l??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new qt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return qt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Rt(this.comparator);return t.data=e,t}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new En([])}unionWith(e){let t=new Rt(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Rw("Invalid base64 string: "+l):l}}(e);return new Gt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(e);return new Gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(He(!!i,39018),typeof i=="string"){let e=0;const t=v2.exec(i);if(He(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Gt.fromBase64String(i):Gt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="server_timestamp",Cw="__type__",Ow="__previous_value__",Dw="__local_write_time__";function cg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Cw])===null||t===void 0?void 0:t.stringValue)===Iw}function nf(i){const e=i.mapValue.fields[Ow];return cg(e)?nf(e):e}function iu(i){const e=Wr(i.mapValue.fields[Dw].timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t,s,a,l,h,d,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const wh="(default)";class ru{constructor(e,t){this.projectId=e,this.database=t||wh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__type__",T2="__max__",Zc={mapValue:{}},kw="__vector__",bh="value";function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cg(i)?4:b2(i)?9007199254740991:w2(i)?10:11:ve(28295,{value:i})}function Ti(i,e){if(i===e)return!0;const t=Jr(i);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return iu(i).isEqual(iu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=Wr(a.timestampValue),d=Wr(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,l){return Zr(a.bytesValue).isEqual(Zr(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,l){return dt(a.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(a.geoPointValue.longitude)===dt(l.geoPointValue.longitude)}(i,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return dt(a.integerValue)===dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=dt(a.doubleValue),d=dt(l.doubleValue);return h===d?Th(h)===Th(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return ho(i.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(a,l){const h=a.mapValue.fields||{},d=l.mapValue.fields||{};if(rE(h)!==rE(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ti(h[p],d[p])))return!1;return!0}(i,e);default:return ve(52216,{left:i})}}function su(i,e){return(i.values||[]).find(t=>Ti(t,e))!==void 0}function fo(i,e){if(i===e)return 0;const t=Jr(i),s=Jr(e);if(t!==s)return Ie(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(l,h){const d=dt(l.integerValue||l.doubleValue),p=dt(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return aE(i.timestampValue,e.timestampValue);case 4:return aE(iu(i),iu(e));case 5:return gp(i.stringValue,e.stringValue);case 6:return function(l,h){const d=Zr(l),p=Zr(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=Ie(d[g],p[g]);if(_!==0)return _}return Ie(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,h){const d=Ie(dt(l.latitude),dt(h.latitude));return d!==0?d:Ie(dt(l.longitude),dt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return oE(i.arrayValue,e.arrayValue);case 10:return function(l,h){var d,p,g,_;const T=l.fields||{},w=h.fields||{},A=(d=T[bh])===null||d===void 0?void 0:d.arrayValue,R=(p=w[bh])===null||p===void 0?void 0:p.arrayValue,U=Ie(((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return U!==0?U:oE(A,R)}(i.mapValue,e.mapValue);case 11:return function(l,h){if(l===Zc.mapValue&&h===Zc.mapValue)return 0;if(l===Zc.mapValue)return 1;if(h===Zc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const w=gp(p[T],_[T]);if(w!==0)return w;const A=fo(d[p[T]],g[_[T]]);if(A!==0)return A}return Ie(p.length,_.length)}(i.mapValue,e.mapValue);default:throw ve(23264,{Pe:t})}}function aE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const t=Wr(i),s=Wr(e),a=Ie(t.seconds,s.seconds);return a!==0?a:Ie(t.nanos,s.nanos)}function oE(i,e){const t=i.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=fo(t[a],s[a]);if(l)return l}return Ie(t.length,s.length)}function mo(i){return yp(i)}function yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=Wr(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Zr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return pe.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=yp(l);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const h of s)l?l=!1:a+=",",a+=`${h}:${yp(t.fields[h])}`;return a+"}"}(i.mapValue):ve(61005,{value:i})}function uh(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(i);return e?16+uh(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+uh(l),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return is(s.fields,(l,h)=>{a+=l.length+uh(h)}),a}(i.mapValue);default:throw ve(13486,{value:i})}}function lE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _p(i){return!!i&&"integerValue"in i}function hg(i){return!!i&&"arrayValue"in i}function uE(i){return!!i&&"nullValue"in i}function cE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ch(i){return!!i&&"mapValue"in i}function w2(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Nw])===null||t===void 0?void 0:t.stringValue)===kw}function $l(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return is(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=$l(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$l(i.arrayValue.values[t]);return e}return Object.assign({},i)}function b2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(t)}setAll(e){let t=Ft.emptyPath(),s={},a=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}h?s[d.lastSegment()]=$l(h):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ch(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){is(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new un($l(this.value))}}function Mw(i){const e=[];return is(i.fields,(t,s)=>{const a=new Ft([t]);if(ch(s)){const l=Mw(s.mapValue).fields;if(l.length===0)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t,s,a,l,h,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),un.empty(),0)}static newFoundDocument(e,t,s,a){return new Zt(e,1,t,be.min(),s,a,0)}static newNoDocument(e,t){return new Zt(e,2,t,be.min(),be.min(),un.empty(),0)}static newUnknownDocument(e,t){return new Zt(e,3,t,be.min(),be.min(),un.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,t){this.position=e,this.inclusive=t}}function hE(i,e,t){let s=0;for(let a=0;a<i.position.length;a++){const l=e[a],h=i.position[a];if(l.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=fo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function fE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ti(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function S2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class vt extends xw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new R2(e,t,s):t==="array-contains"?new O2(e,s):t==="in"?new D2(e,s):t==="not-in"?new N2(e,s):t==="array-contains-any"?new k2(e,s):new vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new I2(e,s):new C2(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fo(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends xw{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $n(e,t)}matches(e){return Pw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Pw(i){return i.op==="and"}function Vw(i){return A2(i)&&Pw(i)}function A2(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function vp(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+mo(i.value);if(Vw(i))return i.filters.map(e=>vp(e)).join(",");{const e=i.filters.map(t=>vp(t)).join(",");return`${i.op}(${e})`}}function Uw(i,e){return i instanceof vt?function(s,a){return a instanceof vt&&s.op===a.op&&s.field.isEqual(a.field)&&Ti(s.value,a.value)}(i,e):i instanceof $n?function(s,a){return a instanceof $n&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,h,d)=>l&&Uw(h,a.filters[d]),!0):!1}(i,e):void ve(19439)}function Lw(i){return i instanceof vt?function(t){return`${t.field.canonicalString()} ${t.op} ${mo(t.value)}`}(i):i instanceof $n?function(t){return t.op.toString()+" {"+t.getFilters().map(Lw).join(" ,")+"}"}(i):"Filter"}class R2 extends vt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class I2 extends vt{constructor(e,t){super(e,"in",t),this.keys=zw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class C2 extends vt{constructor(e,t){super(e,"not-in",t),this.keys=zw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zw(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class O2 extends vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hg(t)&&su(t.arrayValue,this.value)}}class D2 extends vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&su(this.value.arrayValue,t)}}class N2 extends vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!su(this.value.arrayValue,t)}}class k2 extends vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t=null,s=[],a=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=d,this.Ie=null}}function dE(i,e=null,t=[],s=[],a=null,l=null,h=null){return new M2(i,e,t,s,a,l,h)}function fg(i){const e=Se(i);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>vp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>mo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>mo(s)).join(",")),e.Ie=t}return e.Ie}function dg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!S2(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Uw(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!fE(i.startAt,e.startAt)&&fE(i.endAt,e.endAt)}function Ep(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,t=null,s=[],a=[],l=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function x2(i,e,t,s,a,l,h,d){return new pu(i,e,t,s,a,l,h,d)}function Bw(i){return new pu(i)}function mE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function jw(i){return i.collectionGroup!==null}function Xl(i){const e=Se(i);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Rt(Ft.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new Ah(l,s))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new Ah(Ft.keyField(),s))}return e.Ee}function yi(i){const e=Se(i);return e.de||(e.de=P2(e,Xl(i))),e.de}function P2(i,e){if(i.limitType==="F")return dE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Ah(a.field,l)});const t=i.endAt?new Sh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Sh(i.startAt.position,i.startAt.inclusive):null;return dE(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Tp(i,e){const t=i.filters.concat([e]);return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function wp(i,e,t){return new pu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function rf(i,e){return dg(yi(i),yi(e))&&i.limitType===e.limitType}function Hw(i){return`${fg(yi(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Lw(a)).join(", ")}]`),tf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>mo(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>mo(a)).join(",")),`Target(${s})`}(yi(i))}; limitType=${i.limitType})`}function sf(i,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):pe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(i,e)&&function(s,a){for(const l of Xl(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,d,p){const g=hE(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,Xl(s),a)||s.endAt&&!function(h,d,p){const g=hE(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,Xl(s),a))}(i,e)}function V2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qw(i){return(e,t)=>{let s=!1;for(const a of Xl(i)){const l=U2(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function U2(i,e,t){const s=i.field.isKeyField()?pe.comparator(e.key,t.key):function(l,h,d){const p=h.data.field(l),g=d.data.field(l);return p!==null&&g!==null?fo(p,g):ve(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return Aw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=new st(pe.comparator);function rr(){return L2}const Fw=new st(pe.comparator);function Fl(...i){let e=Fw;for(const t of i)e=e.insert(t.key,t);return e}function Gw(i){let e=Fw;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ys(){return Ql()}function Kw(){return Ql()}function Ql(){return new ra(i=>i.toString(),(i,e)=>i.isEqual(e))}const z2=new st(pe.comparator),B2=new Rt(pe.comparator);function Me(...i){let e=B2;for(const t of i)e=e.add(t);return e}const j2=new Rt(Ie);function H2(){return j2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Yw(i){return{integerValue:""+i}}function q2(i,e){return g2(e)?Yw(e):mg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function F2(i,e,t){return i instanceof Rh?function(a,l){const h={fields:{[Cw]:{stringValue:Iw},[Dw]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&cg(l)&&(l=nf(l)),l&&(h.fields[Ow]=l),{mapValue:h}}(t,e):i instanceof au?Xw(i,e):i instanceof ou?Qw(i,e):function(a,l){const h=$w(a,l),d=pE(h)+pE(a.Re);return _p(h)&&_p(a.Re)?Yw(d):mg(a.serializer,d)}(i,e)}function G2(i,e,t){return i instanceof au?Xw(i,e):i instanceof ou?Qw(i,e):t}function $w(i,e){return i instanceof Ih?function(s){return _p(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Rh extends af{}class au extends af{constructor(e){super(),this.elements=e}}function Xw(i,e){const t=Ww(e);for(const s of i.elements)t.some(a=>Ti(a,s))||t.push(s);return{arrayValue:{values:t}}}class ou extends af{constructor(e){super(),this.elements=e}}function Qw(i,e){let t=Ww(e);for(const s of i.elements)t=t.filter(a=>!Ti(a,s));return{arrayValue:{values:t}}}class Ih extends af{constructor(e,t){super(),this.serializer=e,this.Re=t}}function pE(i){return dt(i.integerValue||i.doubleValue)}function Ww(i){return hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function K2(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof au&&a instanceof au||s instanceof ou&&a instanceof ou?ho(s.elements,a.elements,Ti):s instanceof Ih&&a instanceof Ih?Ti(s.Re,a.Re):s instanceof Rh&&a instanceof Rh}(i.transform,e.transform)}class Y2{constructor(e,t){this.version=e,this.transformResults=t}}class Ln{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class of{}function Zw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new pg(i.key,Ln.none()):new gu(i.key,i.data,Ln.none());{const t=i.data,s=un.empty();let a=new Rt(Ft.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),a=a.add(l)}return new rs(i.key,s,new En(a.toArray()),Ln.none())}}function $2(i,e,t){i instanceof gu?function(a,l,h){const d=a.value.clone(),p=yE(a.fieldTransforms,l,h.transformResults);d.setAll(p),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,t):i instanceof rs?function(a,l,h){if(!hh(a.precondition,l))return void l.convertToUnknownDocument(h.version);const d=yE(a.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Jw(a)),p.setAll(d),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(a,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Wl(i,e,t,s){return i instanceof gu?function(l,h,d,p){if(!hh(l.precondition,h))return d;const g=l.value.clone(),_=_E(l.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof rs?function(l,h,d,p){if(!hh(l.precondition,h))return d;const g=_E(l.fieldTransforms,p,h),_=h.data;return _.setAll(Jw(l)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,s):function(l,h,d){return hh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,t)}function X2(i,e){let t=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),l=$w(s.transform,a||null);l!=null&&(t===null&&(t=un.empty()),t.set(s.field,l))}return t||null}function gE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&ho(s,a,(l,h)=>K2(l,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends of{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class rs extends of{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Jw(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function yE(i,e,t){const s=new Map;He(i.length===t.length,32656,{Ve:t.length,me:i.length});for(let a=0;a<t.length;a++){const l=i[a],h=l.transform,d=e.data.field(l.field);s.set(l.field,G2(h,d,t[a]))}return s}function _E(i,e,t){const s=new Map;for(const a of i){const l=a.transform,h=t.data.field(a.field);s.set(a.field,F2(l,h,e))}return s}class pg extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2 extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&$2(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Kw();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(a.key)?null:d;const p=Zw(h,d);p!==null&&s.set(a.key,p),h.isValidDocument()||h.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(t,s)=>gE(t,s))&&ho(this.baseMutations,e.baseMutations,(t,s)=>gE(t,s))}}class gg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){He(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let a=function(){return z2}();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new gg(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Ue;function eO(i){switch(i){case ie.OK:return ve(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function eb(i){if(i===void 0)return ir("GRPC error has no .code"),ie.UNKNOWN;switch(i){case _t.OK:return ie.OK;case _t.CANCELLED:return ie.CANCELLED;case _t.UNKNOWN:return ie.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ie.INTERNAL;case _t.UNAVAILABLE:return ie.UNAVAILABLE;case _t.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case _t.NOT_FOUND:return ie.NOT_FOUND;case _t.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case _t.ABORTED:return ie.ABORTED;case _t.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case _t.DATA_LOSS:return ie.DATA_LOSS;default:return ve(39323,{code:i})}}(Ue=_t||(_t={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Gr([4294967295,4294967295],0);function vE(i){const e=ww().encode(i),t=new mw;return t.update(e),new Uint8Array(t.digest())}function EE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gr([t,s],0),new Gr([a,l],0)]}class yg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Gl(`Invalid padding: ${t}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Gr.fromNumber(this.pe)}we(e,t,s){let a=e.add(t.multiply(Gr.fromNumber(s)));return a.compare(tO)===1&&(a=new Gr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=vE(e),[s,a]=EE(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,a,l);if(!this.be(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new yg(l,a,t);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.pe===0)return;const t=vE(e),[s,a]=EE(t);for(let l=0;l<this.hashCount;l++){const h=this.we(s,a,l);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new lf(be.min(),a,new st(Ie),rr(),Me())}}class yu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new yu(s,t,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,s,a){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=a}}class tb{constructor(e,t){this.targetId=e,this.Ce=t}}class nb{constructor(e,t,s=Gt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class TE{constructor(){this.Fe=0,this.Me=wE(),this.xe=Gt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),t=Me(),s=Me();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ve(38017,{changeType:l})}}),new yu(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=wE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,He(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nO{constructor(e){this.ze=e,this.je=new Map,this.He=rr(),this.Je=Jc(),this.Ye=Jc(),this.Ze=new st(Ie)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,a)=>{this.it(a)&&t(a)})}ot(e){const t=e.targetId,s=e.Ce.count,a=this._t(t);if(a){const l=a.target;if(Ep(l))if(s===0){const h=new pe(l.path);this.tt(t,h,Zt.newNoDocument(h,be.min()))}else He(s===1,20013,{expectedCount:s});else{const h=this.ut(t);if(h!==s){const d=this.ct(e),p=d?this.lt(d,e,h):1;if(p!==0){this.st(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let h,d;try{h=Zr(s).toUint8Array()}catch(p){if(p instanceof Rw)return co("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new yg(h,a,l)}catch(p){return co(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const h=this.ze.Pt(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),a++)}),a}It(e){const t=new Map;this.je.forEach((l,h)=>{const d=this._t(h);if(d){if(l.current&&Ep(d.target)){const p=new pe(d.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,Zt.newNoDocument(p,e))}l.Le&&(t.set(h,l.qe()),l.Qe())}});let s=Me();this.Ye.forEach((l,h)=>{let d=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,h)=>h.setReadTime(e));const a=new lf(e,t,this.Ze,this.He,s);return this.He=rr(),this.Je=Jc(),this.Ye=Jc(),this.Ze=new st(Ie),a}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const a=this.rt(e);this.dt(e,t)?a.$e(t,1):a.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new TE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Rt(Ie),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Rt(Ie),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new TE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Jc(){return new st(pe.comparator)}function wE(){return new st(pe.comparator)}const iO={asc:"ASCENDING",desc:"DESCENDING"},rO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sO={and:"AND",or:"OR"};class aO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bp(i,e){return i.useProto3Json||tf(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ib(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function oO(i,e){return Ch(i,e.toTimestamp())}function _i(i){return He(!!i,49232),be.fromTimestamp(function(t){const s=Wr(t);return new At(s.seconds,s.nanos)}(i))}function _g(i,e){return Sp(i,e).canonicalString()}function Sp(i,e){const t=function(a){return new et(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function rb(i){const e=et.fromString(i);return He(ub(e),10190,{key:e.toString()}),e}function Ap(i,e){return _g(i.databaseId,e.path)}function Gm(i,e){const t=rb(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new pe(ab(t))}function sb(i,e){return _g(i.databaseId,e)}function lO(i){const e=rb(i);return e.length===4?et.emptyPath():ab(e)}function Rp(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ab(i){return He(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function bE(i,e,t){return{name:Ap(i,e),fields:t.value.mapValue.fields}}function uO(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ve(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?(He(_===void 0||typeof _=="string",58123),Gt.fromBase64String(_||"")):(He(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Gt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const _=g.code===void 0?ie.UNKNOWN:eb(g.code);return new he(_,g.message||"")}(h);t=new nb(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Gm(i,s.document.name),l=_i(s.document.updateTime),h=s.document.createTime?_i(s.document.createTime):be.min(),d=new un({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(a,l,h,d),g=s.targetIds||[],_=s.removedTargetIds||[];t=new fh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Gm(i,s.document),l=s.readTime?_i(s.readTime):be.min(),h=Zt.newNoDocument(a,l),d=s.removedTargetIds||[];t=new fh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Gm(i,s.document),l=s.removedTargetIds||[];t=new fh([],l,a,null)}else{if(!("filter"in e))return ve(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,h=new J2(a,l),d=s.targetId;t=new tb(d,h)}}return t}function cO(i,e){let t;if(e instanceof gu)t={update:bE(i,e.key,e.value)};else if(e instanceof pg)t={delete:Ap(i,e.key)};else if(e instanceof rs)t={update:bE(i,e.key,e.data),updateMask:vO(e.fieldMask)};else{if(!(e instanceof Q2))return ve(16599,{ft:e.type});t={verify:Ap(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const d=h.transform;if(d instanceof Rh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ou)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ih)return{fieldPath:h.field.canonicalString(),increment:d.Re};throw ve(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:oO(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ve(27497)}(i,e.precondition)),t}function hO(i,e){return i&&i.length>0?(He(e!==void 0,14353),i.map(t=>function(a,l){let h=a.updateTime?_i(a.updateTime):_i(l);return h.isEqual(be.min())&&(h=_i(l)),new Y2(h,a.transformResults||[])}(t,e))):[]}function fO(i,e){return{documents:[sb(i,e.path)]}}function dO(i,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=sb(i,a);const l=function(g){if(g.length!==0)return lb($n.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:io(w.field),direction:gO(w.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=bp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:t,parent:a}}function mO(i){let e=lO(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){He(s===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const w=ob(T);return w instanceof $n&&Vw(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(w=>function(R){return new Ah(ro(R.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(w))}(t.orderBy));let d=null;t.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,tf(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(T){const w=!!T.before,A=T.values||[];return new Sh(A,w)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const w=!T.before,A=T.values||[];return new Sh(A,w)}(t.endAt)),x2(e,a,h,l,d,"F",p,g)}function pO(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ob(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ro(t.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=ro(t.unaryFilter.field);return vt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ro(t.unaryFilter.field);return vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(t.unaryFilter.field);return vt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(i):i.fieldFilter!==void 0?function(t){return vt.create(ro(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return $n.create(t.compositeFilter.filters.map(s=>ob(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(t.compositeFilter.op))}(i):ve(30097,{filter:i})}function gO(i){return iO[i]}function yO(i){return rO[i]}function _O(i){return sO[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Ft.fromServerFormat(i.fieldPath)}function lb(i){return i instanceof vt?function(t){if(t.op==="=="){if(cE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(uE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(uE(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:yO(t.op),value:t.value}}}(i):i instanceof $n?function(t){const s=t.getFilters().map(a=>lb(a));return s.length===1?s[0]:{compositeFilter:{op:_O(t.op),filters:s}}}(i):ve(54877,{filter:i})}function vO(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ub(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,s,a,l=be.min(),h=be.min(),d=Gt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.wt=e}}function TO(i){const e=mO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.Cn=new bO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Qr.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class bO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Rt(et.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Rt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cb=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(cb,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new po(0)}static lr(){return new po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="LruGarbageCollector",SO=1048576;function RE([i,e],[t,s]){const a=Ie(i,t);return a===0?Ie(e,s):a}class AO{constructor(e){this.Er=e,this.buffer=new Rt(RE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();RE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class RO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(AE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ro(t)?ce(AE,"Ignoring IndexedDB error during garbage collection: ",t):await Ao(t)}await this.mr(3e5)})}}class IO{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(ef.le);const s=new AO(t);return this.gr.forEachTarget(e,a=>s.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>s.Rr(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(SE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,a,l,h,d,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,h=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),to()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${a} in `+(d-h)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function CO(i,e){return new IO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.changes=new ra(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&Wl(s.mutation,a,En.empty(),At.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Me()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Me()){const a=Ys();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let h=Fl();return l.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ys();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Me()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,s,a){let l=rr();const h=Ql(),d=function(){return Ql()}();return t.forEach((p,g)=>{const _=s.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof rs)?l=l.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Wl(_.mutation,g,_.mutation.getFieldMask(),At.now())):h.set(g.key,En.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var T;return d.set(g,new DO(_,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=Ql();let a=new st((h,d)=>h-d),l=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||En.empty();_=d.applyToLocalView(g,_),s.set(p,_);const T=(a.get(d.batchId)||Me()).add(p);a=a.insert(d.batchId,T)})}).next(()=>{const h=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,T=Kw();_.forEach(w=>{if(!l.has(w)){const A=Zw(t.get(w),s.get(w));A!==null&&T.set(w,A),l=l.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):jw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ne.resolve(Ys());let d=nu,p=l;return h.next(g=>ne.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Me())).next(_=>({batchId:d,changes:Gw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let a=Fl();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,p=>{const g=function(T,w){return new pu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(_=>{_.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(h=>{l.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,Zt.newInvalidDocument(_)))});let d=Fl();return h.forEach((p,g)=>{const _=l.get(p);_!==void 0&&Wl(_.mutation,g,En.empty(),At.now()),sf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:_i(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(a){return{name:a.name,query:TO(a.bundledQuery),readTime:_i(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(){this.overlays=new st(pe.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ys();return ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.St(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const a=Ys(),l=t.length+1,h=new pe(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new st((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=l.get(g.largestBatchId);_===null&&(_=Ys(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=Ys(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return ne.resolve(d)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Qr.get(a.largestBatchId).delete(s.key);this.Qr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Z2(t,s));let l=this.Qr.get(t);l===void 0&&(l=Me(),this.Qr.set(t,l)),this.Qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.$r=new Rt(Pt.Ur),this.Kr=new Rt(Pt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new Pt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new Pt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new pe(new et([])),s=new Pt(t,e),a=new Pt(t,e+1),l=[];return this.Kr.forEachInRange([s,a],h=>{this.zr(h),l.push(h.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new pe(new et([])),s=new Pt(t,e),a=new Pt(t,e+1);let l=Me();return this.Kr.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Pt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return pe.comparator(e.key,t.key)||Ie(e.Zr,t.Zr)}static Wr(e,t){return Ie(e.Zr,t.Zr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Rt(Pt.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new W2(l,t,s,a);this.mutationQueue.push(h);for(const d of a)this.Xr=this.Xr.add(new Pt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ti(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ug:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Pt(t,0),a=new Pt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,a],h=>{const d=this.ei(h.Zr);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Rt(Ie);return t.forEach(a=>{const l=new Pt(a,0),h=new Pt(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,h],d=>{s=s.add(d.Zr)})}),ne.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;pe.isDocumentKey(l)||(l=l.child(""));const h=new Pt(new pe(l),0);let d=new Rt(Ie);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Zr)),!0)},h),ne.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const a=this.ei(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){He(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ne.forEach(t.mutations,a=>{const l=new Pt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new Pt(t,0),a=this.Xr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e){this.ii=e,this.docs=function(){return new st(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,h=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let s=rr();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Zt.newInvalidDocument(a))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=rr();const h=t.path,d=new pe(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||f2(h2(_),s)<=0||(a.has(_.key)||sf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,s,a){ve(9500)}si(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new UO(this)}getSize(e){return ne.resolve(this.size)}}class UO extends OO{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Br.addEntry(e,a)):this.Br.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.persistence=e,this.oi=new ra(t=>fg(t),dg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this._i=0,this.ai=new vg,this.targetCount=0,this.ui=po.cr()}forEachTarget(e,t){return this.oi.forEach((s,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new po(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.oi.forEach((h,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ne.waitFor(l).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,t){this.ci={},this.overlays={},this.li=new ef(0),this.hi=!1,this.hi=!0,this.Pi=new xO,this.referenceDelegate=e(this),this.Ti=new LO(this),this.indexManager=new wO,this.remoteDocumentCache=function(a){return new VO(a)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new EO(t),this.Ei=new kO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new PO(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const a=new zO(this.li.next());return this.referenceDelegate.di(),s(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,t){return ne.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class zO extends m2{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Vi=new vg,this.mi=null}static fi(e){return new Eg(e)}get gi(){if(this.mi)return this.mi;throw ve(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(a=>this.gi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,s=>{const a=pe.fromPath(s);return this.pi(e,a).next(l=>{l||t.removeEntry(a,be.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Oh{constructor(e,t){this.persistence=e,this.yi=new ra(s=>y2(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=CO(this,t)}static fi(e,t){return new Oh(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}br(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(s,a)=>this.Dr(e,s,a).next(l=>l?ne.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,h=>this.Dr(e,h,t).next(d=>{d||(s++,l.removeEntry(h,be.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uh(e.data.value)),t}Dr(e,t,s){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.yi.get(t);return ne.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.ds=s,this.As=a}static Rs(e,t){let s=Me(),a=Me();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Tg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return UI()?8:p2(Jt())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ws(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.bs(e,t,a,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new BO;return this.Ss(e,t,h).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,h,d.size)})}).next(()=>l.result)}Ds(e,t,s,a){return s.documentReadCount<this.gs?(to()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",no(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(to()<=ke.DEBUG&&ce("QueryEngine","Query:",no(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ps*a?(to()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",no(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(t))):ne.resolve())}ws(e,t){if(mE(t))return ne.resolve(null);let s=yi(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=wp(t,null,"F"),s=yi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Me(...l);return this.ys.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(t,d);return this.Cs(t,g,h,p.readTime)?this.ws(e,wp(t,null,"F")):this.Fs(e,g,t,p)}))})))}bs(e,t,s,a){return mE(t)||a.isEqual(be.min())?ne.resolve(null):this.ys.getDocuments(e,s).next(l=>{const h=this.vs(t,l);return this.Cs(t,h,s,a)?ne.resolve(null):(to()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),no(t)),this.Fs(e,h,t,c2(a,nu)).next(d=>d))})}vs(e,t){let s=new Rt(qw(e));return t.forEach((a,l)=>{sf(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return to()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",no(t)),this.ys.getDocumentsMatchingQuery(e,t,Qr.min(),s)}Fs(e,t,s,a){return this.ys.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",HO=3e8;class qO{constructor(e,t,s,a){this.persistence=e,this.Ms=t,this.serializer=a,this.xs=new st(Ie),this.Os=new ra(l=>fg(l),dg),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function FO(i,e,t,s){return new qO(i,e,t,s)}async function fb(i,e){const t=Se(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],d=[];let p=Me();for(const g of a){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:d}))})})}function GO(i,e){const t=Se(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,p,g,_){const T=g.batch,w=T.keys();let A=ne.resolve();return w.forEach(R=>{A=A.next(()=>_.getEntry(p,R)).next(U=>{const M=g.docVersions.get(R);He(M!==null,48541),U.version.compareTo(M)<0&&(T.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),_.addEntry(U)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Me();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function db(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function KO(i,e){const t=Se(i),s=e.snapshotVersion;let a=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.Bs.newChangeBuffer({trackRemovals:!0});a=t.xs;const d=[];e.targetChanges.forEach((_,T)=>{const w=a.get(T);if(!w)return;d.push(t.Ti.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Ti.addMatchingKeys(l,_.addedDocuments,T)));let A=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(Gt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,s)),a=a.insert(T,A),function(U,M,L){return U.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=HO?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(w,A,_)&&d.push(t.Ti.updateTargetData(l,A))});let p=rr(),g=Me();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(YO(l,h,e.documentUpdates).next(_=>{p=_.qs,g=_.Qs})),!s.isEqual(be.min())){const _=t.Ti.getLastRemoteSnapshotVersion(l).next(T=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return ne.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.xs=a,l))}function YO(i,e,t){let s=Me(),a=Me();return t.forEach(l=>s=s.add(l)),e.getEntries(i,s).next(l=>{let h=rr();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ce(wg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:a}})}function $O(i,e){const t=Se(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ug),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XO(i,e){const t=Se(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Ti.getTargetData(s,e).next(l=>l?(a=l,ne.resolve(a)):t.Ti.allocateTargetId(s).next(h=>(a=new Hr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.xs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Ip(i,e,t){const s=Se(i),a=s.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Ro(h))throw h;ce(wg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(a.target)}function IE(i,e,t){const s=Se(i);let a=be.min(),l=Me();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const T=Se(p),w=T.Os.get(_);return w!==void 0?ne.resolve(T.xs.get(w)):T.Ti.getTargetData(g,_)}(s,h,yi(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,d.targetId).next(p=>{l=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,t?a:be.min(),t?l:Me())).next(d=>(QO(s,V2(e),d),{documents:d,$s:l})))}function QO(i,e,t){let s=i.Ns.get(e)||be.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),i.Ns.set(e,s)}class CE{constructor(){this.activeTargetIds=H2()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WO{constructor(){this.xo=new CE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new CE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="ConnectivityMonitor";class DE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(OE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Cp(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",JO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eD{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${a}`,this.Go=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${a}`}zo(e,t,s,a,l){const h=Cp(),d=this.jo(e,t.toUriEncodedString());ce(Km,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,a,l);const{host:g}=new URL(d),_=ia(g);return this.Jo(e,d,p,s,_).then(T=>(ce(Km,`Received RPC '${e}' ${h}: `,T),T),T=>{throw co(Km,`RPC '${e}' ${h} failed with error: `,T,"url: ",d,"request:",s),T})}Yo(e,t,s,a,l,h){return this.zo(e,t,s,a,l)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+So}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}jo(e,t){const s=JO[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class nD extends eD{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const h=Cp();return new Promise((d,p)=>{const g=new pw;g.setWithCredentials(!0),g.listenOnce(gw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const T=g.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),d(T);break;case lh.TIMEOUT:ce(Xt,`RPC '${e}' ${h} timed out`),p(new he(ie.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const w=g.getStatus();if(ce(Xt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const R=A==null?void 0:A.error;if(R&&R.status&&R.message){const U=function(L){const H=L.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(H)>=0?H:ie.UNKNOWN}(R.status);p(new he(U,R.message))}else p(new he(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ie.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{h_:e,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(a);ce(Xt,`RPC '${e}' ${h} sending request:`,a),g.send(t,"POST",_,s,15)})}I_(e,t,s){const a=Cp(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=vw(),d=_w(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=l.join("");ce(Xt,`Creating RPC '${e}' stream ${a}: ${_}`,p);const T=h.createWebChannel(_,p);this.E_(T);let w=!1,A=!1;const R=new tD({Zo:M=>{A?ce(Xt,`Not sending because RPC '${e}' stream ${a} is closed:`,M):(w||(ce(Xt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),w=!0),ce(Xt,`RPC '${e}' stream ${a} sending:`,M),T.send(M))},Xo:()=>T.close()}),U=(M,L,H)=>{M.listen(L,Q=>{try{H(Q)}catch(Y){setTimeout(()=>{throw Y},0)}})};return U(T,ql.EventType.OPEN,()=>{A||(ce(Xt,`RPC '${e}' stream ${a} transport opened.`),R.__())}),U(T,ql.EventType.CLOSE,()=>{A||(A=!0,ce(Xt,`RPC '${e}' stream ${a} transport closed`),R.u_(),this.d_(T))}),U(T,ql.EventType.ERROR,M=>{A||(A=!0,co(Xt,`RPC '${e}' stream ${a} transport errored. Name:`,M.name,"Message:",M.message),R.u_(new he(ie.UNAVAILABLE,"The operation could not be completed")))}),U(T,ql.EventType.MESSAGE,M=>{var L;if(!A){const H=M.data[0];He(!!H,16349);const Q=H,Y=(Q==null?void 0:Q.error)||((L=Q[0])===null||L===void 0?void 0:L.error);if(Y){ce(Xt,`RPC '${e}' stream ${a} received error:`,Y);const ee=Y.status;let re=function(C){const N=_t[C];if(N!==void 0)return eb(N)}(ee),O=Y.message;re===void 0&&(re=ie.INTERNAL,O="Unknown error status: "+ee+" with message "+Y.message),A=!0,R.u_(new he(re,O)),T.close()}else ce(Xt,`RPC '${e}' stream ${a} received:`,H),R.c_(H)}}),U(d,yw.STAT_EVENT,M=>{M.stat===pp.PROXY?ce(Xt,`RPC '${e}' stream ${a} detected buffering proxy`):M.stat===pp.NOPROXY&&ce(Xt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.a_()},0),R}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(i){return new aO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,t,s=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=t,this.A_=s,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),a=Math.max(0,t-s);a>0&&ce("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="PersistentStream";class pb{constructor(e,t,s,a,l,h,d,p){this.xi=e,this.S_=s,this.D_=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new mb(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(ir(t.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.v_===t&&this.z_(s,a)},s=>{e(()=>{const a=new he(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(a)})})}z_(e,t){const s=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{s(()=>this.j_(a))}),this.stream.onMessage(a=>{s(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(NE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ce(NE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iD extends pb{constructor(e,t,s,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=uO(this.serializer,e),s=function(l){if(!("targetChange"in l))return be.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?be.min():h.readTime?_i(h.readTime):be.min()}(e);return this.listener.Y_(t,s)}Z_(e){const t={};t.database=Rp(this.serializer),t.addTarget=function(l,h){let d;const p=h.target;if(d=Ep(p)?{documents:fO(l,p)}:{query:dO(l,p).gt},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=ib(l,h.resumeToken);const g=bp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(be.min())>0){d.readTime=Ch(l,h.snapshotVersion.toTimestamp());const g=bp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=pO(this.serializer,e);s&&(t.labels=s),this.Q_(t)}X_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.Q_(t)}}class rD extends pb{constructor(e,t,s,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=hO(e.writeResults,e.commitTime),s=_i(e.commitTime);return this.listener.ra(s,t)}ia(){const e={};e.database=Rp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>cO(this.serializer,s))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{}class aD extends sD{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.zo(e,Sp(t,s),a,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(ie.UNKNOWN,l.toString())})}Yo(e,t,s,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Yo(e,Sp(t,s),a,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ie.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class oD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ir(t),this.ua=!1):ce("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class lD{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(h=>{s.enqueueAndForget(async()=>{sa(this)&&(ce(Ws,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.da.add(4),await _u(g),g.Va.set("Unknown"),g.da.delete(4),await cf(g)}(this))})}),this.Va=new oD(s,a)}}async function cf(i){if(sa(i))for(const e of i.Aa)await e(!0)}async function _u(i){for(const e of i.Aa)await e(!1)}function gb(i,e){const t=Se(i);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),Rg(t)?Ag(t):Io(t).N_()&&Sg(t,e))}function bg(i,e){const t=Se(i),s=Io(t);t.Ea.delete(e),s.N_()&&yb(t,e),t.Ea.size===0&&(s.N_()?s.k_():sa(t)&&t.Va.set("Unknown"))}function Sg(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Io(i).Z_(e)}function yb(i,e){i.ma.Ke(e),Io(i).X_(e)}function Ag(i){i.ma=new nO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Io(i).start(),i.Va.ca()}function Rg(i){return sa(i)&&!Io(i).O_()&&i.Ea.size>0}function sa(i){return Se(i).da.size===0}function _b(i){i.ma=void 0}async function uD(i){i.Va.set("Online")}async function cD(i){i.Ea.forEach((e,t)=>{Sg(i,e)})}async function hD(i,e){_b(i),Rg(i)?(i.Va.Pa(e),Ag(i)):i.Va.set("Unknown")}async function fD(i,e,t){if(i.Va.set("Online"),e instanceof nb&&e.state===2&&e.cause)try{await async function(a,l){const h=l.cause;for(const d of l.targetIds)a.Ea.has(d)&&(await a.remoteSyncer.rejectListen(d,h),a.Ea.delete(d),a.ma.removeTarget(d))}(i,e)}catch(s){ce(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dh(i,s)}else if(e instanceof fh?i.ma.Xe(e):e instanceof tb?i.ma.ot(e):i.ma.nt(e),!t.isEqual(be.min()))try{const s=await db(i.localStore);t.compareTo(s)>=0&&await function(l,h){const d=l.ma.It(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.Ea.get(g);_&&l.Ea.set(g,_.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const _=l.Ea.get(p);if(!_)return;l.Ea.set(p,_.withResumeToken(Gt.EMPTY_BYTE_STRING,_.snapshotVersion)),yb(l,p);const T=new Hr(_.target,p,g,_.sequenceNumber);Sg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(s){ce(Ws,"Failed to raise snapshot:",s),await Dh(i,s)}}async function Dh(i,e,t){if(!Ro(e))throw e;i.da.add(1),await _u(i),i.Va.set("Offline"),t||(t=()=>db(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(Ws,"Retrying IndexedDB access"),await t(),i.da.delete(1),await cf(i)})}function vb(i,e){return e().catch(t=>Dh(i,t,e))}async function hf(i){const e=Se(i),t=es(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ug;for(;dD(e);)try{const a=await $O(e.localStore,s);if(a===null){e.Ia.length===0&&t.k_();break}s=a.batchId,mD(e,a)}catch(a){await Dh(e,a)}Eb(e)&&Tb(e)}function dD(i){return sa(i)&&i.Ia.length<10}function mD(i,e){i.Ia.push(e);const t=es(i);t.N_()&&t.ea&&t.ta(e.mutations)}function Eb(i){return sa(i)&&!es(i).O_()&&i.Ia.length>0}function Tb(i){es(i).start()}async function pD(i){es(i).ia()}async function gD(i){const e=es(i);for(const t of i.Ia)e.ta(t.mutations)}async function yD(i,e,t){const s=i.Ia.shift(),a=gg.from(s,e,t);await vb(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await hf(i)}async function _D(i,e){e&&es(i).ea&&await async function(s,a){if(function(h){return eO(h)&&h!==ie.ABORTED}(a.code)){const l=s.Ia.shift();es(s).L_(),await vb(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await hf(s)}}(i,e),Eb(i)&&Tb(i)}async function kE(i,e){const t=Se(i);t.asyncQueue.verifyOperationInProgress(),ce(Ws,"RemoteStore received new credentials");const s=sa(t);t.da.add(3),await _u(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await cf(t)}async function vD(i,e){const t=Se(i);e?(t.da.delete(2),await cf(t)):e||(t.da.add(2),await _u(t),t.Va.set("Unknown"))}function Io(i){return i.fa||(i.fa=function(t,s,a){const l=Se(t);return l.oa(),new iD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{e_:uD.bind(null,i),n_:cD.bind(null,i),i_:hD.bind(null,i),Y_:fD.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),Rg(i)?Ag(i):i.Va.set("Unknown")):(await i.fa.stop(),_b(i))})),i.fa}function es(i){return i.ga||(i.ga=function(t,s,a){const l=Se(t);return l.oa(),new rD(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:pD.bind(null,i),i_:_D.bind(null,i),na:gD.bind(null,i),ra:yD.bind(null,i)}),i.Aa.push(async e=>{e?(i.ga.L_(),await hf(i)):(await i.ga.stop(),i.Ia.length>0&&(ce(Ws,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const h=Date.now()+s,d=new Ig(e,t,h,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,e){if(ir("AsyncQueue",`${e}: ${i}`),Ro(i))return new he(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{static emptySet(e){return new ao(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Fl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ao;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.pa=new st(pe.comparator)}track(e){const t=e.doc.key,s=this.pa.get(t);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(t,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(t):e.type===1&&s.type===2?this.pa=this.pa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):ve(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,s)=>{e.push(s)}),e}}class go{constructor(e,t,s,a,l,h,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new go(e,t,ao.emptySet(t),h,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class TD{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=Se(t),l=a.queries;a.queries=xE(),l.forEach((h,d)=>{for(const p of d.Sa)p.onError(s)})})(this,new he(ie.ABORTED,"Firestore shutting down"))}}function xE(){return new ra(i=>Hw(i),rf)}async function wD(i,e){const t=Se(i);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Da()&&e.va()&&(s=2):(l=new ED,s=e.va()?0:1);try{switch(s){case 0:l.ba=await t.onListen(a,!0);break;case 1:l.ba=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const d=Cg(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.Sa.push(e),e.Fa(t.onlineState),l.ba&&e.Ma(l.ba)&&Og(t)}async function bD(i,e){const t=Se(i),s=e.query;let a=3;const l=t.queries.get(s);if(l){const h=l.Sa.indexOf(e);h>=0&&(l.Sa.splice(h,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function SD(i,e){const t=Se(i);let s=!1;for(const a of e){const l=a.query,h=t.queries.get(l);if(h){for(const d of h.Sa)d.Ma(a)&&(s=!0);h.ba=a}}s&&Og(t)}function AD(i,e,t){const s=Se(i),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function Og(i){i.Ca.forEach(e=>{e.next()})}var Op,PE;(PE=Op||(Op={})).xa="default",PE.Cache="cache";class RD{constructor(e,t,s){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const s=t!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.key=e}}class bb{constructor(e){this.key=e}}class ID{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.Za=qw(e),this.Xa=new ao(this.Za)}get eu(){return this.Ha}tu(e,t){const s=t?t.nu:new ME,a=t?t.Xa:this.Xa;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const w=a.get(_),A=sf(this.query,T)?T:null,R=!!w&&this.mutatedKeys.has(w.key),U=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let M=!1;w&&A?w.data.isEqual(A.data)?R!==U&&(s.track({type:3,doc:A}),M=!0):this.ru(w,A)||(s.track({type:2,doc:A}),M=!0,(p&&this.Za(A,p)>0||g&&this.Za(A,g)<0)&&(d=!0)):!w&&A?(s.track({type:0,doc:A}),M=!0):w&&!A&&(s.track({type:1,doc:w}),M=!0,(p||g)&&(d=!0)),M&&(A?(h=h.add(A),l=U?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{Xa:h,nu:s,Cs:d,mutatedKeys:l}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((_,T)=>function(A,R){const U=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Vt:M})}};return U(A)-U(R)}(_.type,T.type)||this.Za(_.doc,T.doc)),this.iu(s),a=a!=null&&a;const d=t&&!a?this.su():[],p=this.Ya.size===0&&this.current&&!a?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new go(this.query,e.Xa,l,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:d}:{ou:d}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new ME,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const t=[];return e.forEach(s=>{this.Ya.has(s)||t.push(new bb(s))}),this.Ya.forEach(s=>{e.has(s)||t.push(new wb(s))}),t}au(e){this.Ha=e.$s,this.Ya=Me();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return go.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Dg="SyncEngine";class CD{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class OD{constructor(e){this.key=e,this.cu=!1}}class DD{constructor(e,t,s,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new ra(d=>Hw(d),rf),this.Pu=new Map,this.Tu=new Set,this.Iu=new st(pe.comparator),this.Eu=new Map,this.du=new vg,this.Au={},this.Ru=new Map,this.Vu=po.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function ND(i,e,t=!0){const s=Ob(i);let a;const l=s.hu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await Sb(s,e,t,!0),a}async function kD(i,e){const t=Ob(i);await Sb(t,e,!0,!1)}async function Sb(i,e,t,s){const a=await XO(i.localStore,yi(e)),l=a.targetId,h=i.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await MD(i,e,l,h==="current",a.resumeToken)),i.isPrimaryClient&&t&&gb(i.remoteStore,a),d}async function MD(i,e,t,s,a){i.fu=(T,w,A)=>async function(U,M,L,H){let Q=M.view.tu(L);Q.Cs&&(Q=await IE(U.localStore,M.query,!1).then(({documents:O})=>M.view.tu(O,Q)));const Y=H&&H.targetChanges.get(M.targetId),ee=H&&H.targetMismatches.get(M.targetId)!=null,re=M.view.applyChanges(Q,U.isPrimaryClient,Y,ee);return UE(U,M.targetId,re.ou),re.snapshot}(i,T,w,A);const l=await IE(i.localStore,e,!0),h=new ID(e,l.$s),d=h.tu(l.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",a),g=h.applyChanges(d,i.isPrimaryClient,p);UE(i,t,g.ou);const _=new CD(e,t,h);return i.hu.set(e,_),i.Pu.has(t)?i.Pu.get(t).push(e):i.Pu.set(t,[e]),g.snapshot}async function xD(i,e,t){const s=Se(i),a=s.hu.get(e),l=s.Pu.get(a.targetId);if(l.length>1)return s.Pu.set(a.targetId,l.filter(h=>!rf(h,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ip(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&bg(s.remoteStore,a.targetId),Dp(s,a.targetId)}).catch(Ao)):(Dp(s,a.targetId),await Ip(s.localStore,a.targetId,!0))}async function PD(i,e){const t=Se(i),s=t.hu.get(e),a=t.Pu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),bg(t.remoteStore,s.targetId))}async function VD(i,e,t){const s=qD(i);try{const a=await function(h,d){const p=Se(h),g=At.now(),_=d.reduce((A,R)=>A.add(R.key),Me());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let R=rr(),U=Me();return p.Bs.getEntries(A,_).next(M=>{R=M,R.forEach((L,H)=>{H.isValidDocument()||(U=U.add(L))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,R)).next(M=>{T=M;const L=[];for(const H of d){const Q=X2(H,T.get(H.key).overlayedDocument);Q!=null&&L.push(new rs(H.key,Q,Mw(Q.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(A,g,L,d)}).next(M=>{w=M;const L=M.applyToLocalDocumentSet(T,U);return p.documentOverlayCache.saveOverlays(A,M.batchId,L)})}).then(()=>({batchId:w.batchId,changes:Gw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,d,p){let g=h.Au[h.currentUser.toKey()];g||(g=new st(Ie)),g=g.insert(d,p),h.Au[h.currentUser.toKey()]=g}(s,a.batchId,t),await vu(s,a.changes),await hf(s.remoteStore)}catch(a){const l=Cg(a,"Failed to persist write");t.reject(l)}}async function Ab(i,e){const t=Se(i);try{const s=await KO(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Eu.get(l);h&&(He(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?h.cu=!0:a.modifiedDocuments.size>0?He(h.cu,14607):a.removedDocuments.size>0&&(He(h.cu,42227),h.cu=!1))}),await vu(t,s,e)}catch(s){await Ao(s)}}function VE(i,e,t){const s=Se(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.hu.forEach((l,h)=>{const d=h.view.Fa(e);d.snapshot&&a.push(d.snapshot)}),function(h,d){const p=Se(h);p.onlineState=d;let g=!1;p.queries.forEach((_,T)=>{for(const w of T.Sa)w.Fa(d)&&(g=!0)}),g&&Og(p)}(s.eventManager,e),a.length&&s.lu.Y_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UD(i,e,t){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Eu.get(e),l=a&&a.key;if(l){let h=new st(pe.comparator);h=h.insert(l,Zt.newNoDocument(l,be.min()));const d=Me().add(l),p=new lf(be.min(),new Map,new st(Ie),h,d);await Ab(s,p),s.Iu=s.Iu.remove(l),s.Eu.delete(e),Ng(s)}else await Ip(s.localStore,e,!1).then(()=>Dp(s,e,t)).catch(Ao)}async function LD(i,e){const t=Se(i),s=e.batch.batchId;try{const a=await GO(t.localStore,e);Ib(t,s,null),Rb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await vu(t,a)}catch(a){await Ao(a)}}async function zD(i,e,t){const s=Se(i);try{const a=await function(h,d){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(He(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);Ib(s,e,t),Rb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await vu(s,a)}catch(a){await Ao(a)}}function Rb(i,e){(i.Ru.get(e)||[]).forEach(t=>{t.resolve()}),i.Ru.delete(e)}function Ib(i,e,t){const s=Se(i);let a=s.Au[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Au[s.currentUser.toKey()]=a}}function Dp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),t&&i.lu.gu(s,t);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||Cb(i,s)})}function Cb(i,e){i.Tu.delete(e.path.canonicalString());const t=i.Iu.get(e);t!==null&&(bg(i.remoteStore,t),i.Iu=i.Iu.remove(e),i.Eu.delete(t),Ng(i))}function UE(i,e,t){for(const s of t)s instanceof wb?(i.du.addReference(s.key,e),BD(i,s)):s instanceof bb?(ce(Dg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||Cb(i,s.key)):ve(19791,{pu:s})}function BD(i,e){const t=e.key,s=t.path.canonicalString();i.Iu.get(t)||i.Tu.has(s)||(ce(Dg,"New document in limbo: "+t),i.Tu.add(s),Ng(i))}function Ng(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const t=new pe(et.fromString(e)),s=i.Vu.next();i.Eu.set(s,new OD(t)),i.Iu=i.Iu.insert(t,s),gb(i.remoteStore,new Hr(yi(Bw(t.path)),s,"TargetPurposeLimboResolution",ef.le))}}async function vu(i,e,t){const s=Se(i),a=[],l=[],h=[];s.hu.isEmpty()||(s.hu.forEach((d,p)=>{h.push(s.fu(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Tg.Rs(p.targetId,g);l.push(T)}}))}),await Promise.all(h),s.lu.Y_(a),await async function(p,g){const _=Se(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(g,w=>ne.forEach(w.ds,A=>_.persistence.referenceDelegate.addReference(T,w.targetId,A)).next(()=>ne.forEach(w.As,A=>_.persistence.referenceDelegate.removeReference(T,w.targetId,A)))))}catch(T){if(!Ro(T))throw T;ce(wg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const A=_.xs.get(w),R=A.snapshotVersion,U=A.withLastLimboFreeSnapshotVersion(R);_.xs=_.xs.insert(w,U)}}}(s.localStore,l))}async function jD(i,e){const t=Se(i);if(!t.currentUser.isEqual(e)){ce(Dg,"User change. New user:",e.toKey());const s=await fb(t.localStore,e);t.currentUser=e,function(l,h){l.Ru.forEach(d=>{d.forEach(p=>{p.reject(new he(ie.CANCELLED,h))})}),l.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(t,s.ks)}}function HD(i,e){const t=Se(i),s=t.Eu.get(e);if(s&&s.cu)return Me().add(s.key);{let a=Me();const l=t.Pu.get(e);if(!l)return a;for(const h of l){const d=t.hu.get(h);a=a.unionWith(d.view.eu)}return a}}function Ob(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ab.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=HD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.lu.Y_=SD.bind(null,e.eventManager),e.lu.gu=AD.bind(null,e.eventManager),e}function qD(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return FO(this.persistence,new jO,e.initialUser,this.serializer)}Su(e){return new hb(Eg.fi,this.serializer)}bu(e){return new WO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class FD extends Nh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){He(this.persistence.referenceDelegate instanceof Oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new RO(s,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new hb(s=>Oh.fi(s,t),this.serializer)}}class Np{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>VE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jD.bind(null,this.syncEngine),await vD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TD}()}createDatastore(e){const t=uf(e.databaseInfo.databaseId),s=function(l){return new nD(l)}(e.databaseInfo);return function(l,h,d,p){return new aD(l,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,h,d){return new lD(s,a,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>VE(this.syncEngine,t,0),function(){return DE.C()?new DE:new ZO}())}createSyncEngine(e,t){return function(a,l,h,d,p,g,_){const T=new DD(a,l,h,d,p,g);return _&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Se(a);ce(Ws,"RemoteStore shutting down."),l.da.add(5),await _u(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Np.provider={build:()=>new Np};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class KD{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Qt.UNAUTHENTICATED,this.clientId=bw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ce(ts,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(ts,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Cg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function $m(i,e){i.asyncQueue.verifyOperationInProgress(),ce(ts,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await fb(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function LE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await YD(i);ce(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>kE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>kE(e.remoteStore,a)),i._onlineComponents=e}async function YD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(ts,"Using user provided OfflineComponentProvider");try{await $m(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ie.FAILED_PRECONDITION||a.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;co("Error using user provided cache. Falling back to memory cache: "+t),await $m(i,new Nh)}}else ce(ts,"Using default OfflineComponentProvider"),await $m(i,new FD(void 0));return i._offlineComponents}async function Db(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(ts,"Using user provided OnlineComponentProvider"),await LE(i,i._uninitializedComponentsProvider._online)):(ce(ts,"Using default OnlineComponentProvider"),await LE(i,new Np))),i._onlineComponents}function $D(i){return Db(i).then(e=>e.syncEngine)}async function XD(i){const e=await Db(i),t=e.eventManager;return t.onListen=ND.bind(null,e.syncEngine),t.onUnlisten=xD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=kD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=PD.bind(null,e.syncEngine),t}function QD(i,e,t={}){const s=new Kr;return i.asyncQueue.enqueueAndForget(async()=>function(l,h,d,p,g){const _=new GD({next:w=>{_.xu(),h.enqueueAndForget(()=>bD(l,T)),w.fromCache&&p.source==="server"?g.reject(new he(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new RD(d,_,{includeMetadataChanges:!0,Qa:!0});return wD(l,T)}(await XD(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i,e,t){if(!t)throw new he(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function WD(i,e,t,s){if(e===!0&&s===!0)throw new he(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function BE(i){if(!pe.isDocumentKey(i))throw new he(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function jE(i){if(pe.isDocumentKey(i))throw new he(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function yo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(i);throw new he(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firestore.googleapis.com",HE=!0;class qE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Mb,this.ssl=HE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SO)throw new he(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new he(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new t2;switch(s.type){case"firstParty":return new s2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=zE.get(t);s&&(ce("ComponentProvider","Removing Datastore"),zE.delete(t),s.terminate())}(this),Promise.resolve()}}function ZD(i,e,t,s={}){var a;i=yo(i,df);const l=ia(e),h=i._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${t}`;l&&(ig(`https://${p}`),rg("Firestore",!0)),h.host!==Mb&&h.host!==p&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!$s(g,d)&&(i._setSettings(g),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Qt.MOCK_USER;else{_=CI(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Qt(w)}i._authCredentials=new n2(new Tw(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Tn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Yr extends Co{constructor(e,t,s){super(e,t,Bw(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new pe(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function kg(i,e,...t){if(i=It(i),kb("collection","path",e),i instanceof df){const s=et.fromString(e,...t);return jE(s),new Yr(i,null,s)}{if(!(i instanceof Tn||i instanceof Yr))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return jE(s),new Yr(i.firestore,null,s)}}function FE(i,e,...t){if(i=It(i),arguments.length===1&&(e=bw.newId()),kb("doc","path",e),i instanceof df){const s=et.fromString(e,...t);return BE(s),new Tn(i,null,new pe(s))}{if(!(i instanceof Tn||i instanceof Yr))throw new he(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...t));return BE(s),new Tn(i.firestore,i instanceof Yr?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new mb(this,"async_queue_retry"),this.rc=()=>{const s=Ym();s&&ce(GE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Kr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ro(e))throw e;ce(GE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,ir("INTERNAL UNHANDLED ERROR: ",YE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=t,t}enqueueAfterDelay(e,t,s){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const a=Ig.createAndSchedule(this,e,t,s,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&ve(47125,{cc:YE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function YE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class mf extends df{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new KE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function JD(i,e){const t=og(),s=wh,a=Jh(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=aw("firestore");l&&ZD(a,...l)}return a}function Mg(i){if(i._terminated)throw new he(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||eN(i),i._firestoreClient}function eN(i){var e,t,s;const a=i._freezeSettings(),l=function(d,p,g,_){return new E2(d,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,Nb(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new KD(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _o(Gt.fromBase64String(e))}catch(t){throw new he(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _o(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=/^__.*__$/;class nN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,t,this.fieldTransforms):new gu(e,this.data,t,this.fieldTransforms)}}class xb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new rs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Pb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ic:i})}}class Ug{constructor(e,t,s,a,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Vc(e),a}mc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.dc({path:s,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return kh(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(Pb(this.Ic)&&tN.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class iN{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||uf(e)}bc(e,t,s,a=!1){return new Ug({Ic:e,methodName:t,wc:s,path:Ft.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lg(i){const e=i._freezeSettings(),t=uf(i._databaseId);return new iN(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Vb(i,e,t,s,a,l={}){const h=i.bc(l.merge||l.mergeFields?2:0,e,t,a);zg("Data must be an object, but it was:",h,s);const d=Ub(s,h);let p,g;if(l.merge)p=new En(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const w=kp(e,T,t);if(!h.contains(w))throw new he(ie.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);zb(_,w)||_.push(w)}p=new En(_),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new nN(new un(d),p,g)}class gf extends xg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}function rN(i,e,t,s){const a=i.bc(1,e,t);zg("Data must be an object, but it was:",a,s);const l=[],h=un.empty();is(s,(p,g)=>{const _=Bg(e,p,t);g=It(g);const T=a.mc(_);if(g instanceof gf)l.push(_);else{const w=Eu(g,T);w!=null&&(l.push(_),h.set(_,w))}});const d=new En(l);return new xb(h,d,a.fieldTransforms)}function sN(i,e,t,s,a,l){const h=i.bc(1,e,t),d=[kp(e,s,t)],p=[a];if(l.length%2!=0)throw new he(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)d.push(kp(e,l[w])),p.push(l[w+1]);const g=[],_=un.empty();for(let w=d.length-1;w>=0;--w)if(!zb(g,d[w])){const A=d[w];let R=p[w];R=It(R);const U=h.mc(A);if(R instanceof gf)g.push(A);else{const M=Eu(R,U);M!=null&&(g.push(A),_.set(A,M))}}const T=new En(g);return new xb(_,T,h.fieldTransforms)}function aN(i,e,t,s=!1){return Eu(t,i.bc(s?4:3,e))}function Eu(i,e){if(Lb(i=It(i)))return zg("Unsupported field value:",e,i),Ub(i,e);if(i instanceof xg)return function(s,a){if(!Pb(a.Ic))throw a.gc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,a){const l=[];let h=0;for(const d of s){let p=Eu(d,a.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(i,e)}return function(s,a){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return q2(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=At.fromDate(s);return{timestampValue:Ch(a.serializer,l)}}if(s instanceof At){const l=new At(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(a.serializer,l)}}if(s instanceof Pg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _o)return{bytesValue:ib(a.serializer,s._byteString)};if(s instanceof Tn){const l=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw a.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_g(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Vg)return function(h,d){return{mapValue:{fields:{[Nw]:{stringValue:kw},[bh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.gc("VectorValues must only contain numeric values.");return mg(d.serializer,g)})}}}}}}(s,a);throw a.gc(`Unsupported field value: ${ff(s)}`)}(i,e)}function Ub(i,e){const t={};return Aw(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(i,(s,a)=>{const l=Eu(a,e.Ac(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function Lb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof At||i instanceof Pg||i instanceof _o||i instanceof Tn||i instanceof xg||i instanceof Vg)}function zg(i,e,t){if(!Lb(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=ff(t);throw s==="an object"?e.gc(i+" a custom object"):e.gc(i+" "+s)}}function kp(i,e,t){if((e=It(e))instanceof pf)return e._internalPath;if(typeof e=="string")return Bg(i,e);throw kh("Field path arguments must be of type string or ",i,!1,void 0,t)}const oN=new RegExp("[~\\*/\\[\\]]");function Bg(i,e,t){if(e.search(oN)>=0)throw kh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new pf(...e.split("."))._internalPath}catch{throw kh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function kh(i,e,t,s,a){const l=s&&!s.isEmpty(),h=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${a}`),p+=")"),new he(ie.INVALID_ARGUMENT,d+i+p)}function zb(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(jg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lN extends Bb{data(){return super.data()}}function jg(i,e){return typeof e=="string"?Bg(i,e):e instanceof pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hg{}class cN extends Hg{}function hN(i,e,...t){let s=[];e instanceof Hg&&s.push(e),s=s.concat(t),function(l){const h=l.filter(p=>p instanceof qg).length,d=l.filter(p=>p instanceof yf).length;if(h>1||h>0&&d>0)throw new he(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class yf extends cN{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new yf(e,t,s)}_apply(e){const t=this._parse(e);return jb(e._query,t),new Co(e.firestore,e.converter,Tp(e._query,t))}_parse(e){const t=Lg(e.firestore);return function(l,h,d,p,g,_,T){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new he(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){XE(T,_);const R=[];for(const U of T)R.push($E(p,l,U));w={arrayValue:{values:R}}}else w=$E(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||XE(T,_),w=aN(d,h,T,_==="in"||_==="not-in");return vt.create(g,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fN(i,e,t){const s=e,a=jg("where",i);return yf._create(a,s,t)}class qg extends Hg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let h=a;const d=l.getFlattenedFilters();for(const p of d)jb(h,p),h=Tp(h,p)}(e._query,t),new Co(e.firestore,e.converter,Tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $E(i,e,t){if(typeof(t=It(t))=="string"){if(t==="")throw new he(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jw(e)&&t.indexOf("/")!==-1)throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(et.fromString(t));if(!pe.isDocumentKey(s))throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lE(i,new pe(s))}if(t instanceof Tn)return lE(i,t._key);throw new he(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function XE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(i,e){const t=function(a,l){for(const h of a)for(const d of h.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class dN{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return is(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[bh].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>dt(h.doubleValue));return new Vg(l)}convertGeoPoint(e){return new Pg(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=nf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const t=Wr(e);return new At(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=et.fromString(e);He(ub(s),9688,{name:e});const a=new ru(s.get(1),s.get(3)),l=new pe(s.popFirst(5));return a.isEqual(t)||ir(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mN extends Bb{constructor(e,t,s,a,l,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(jg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class dh extends mN{data(e={}){return super.data(e)}}class pN{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new th(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new dh(this._firestore,this._userDataWriter,s.key,s,new th(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(d=>{const p=new dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new th(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new th(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),_=h.indexOf(d.doc.key)),{type:gN(d.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function gN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}class yN extends dN{constructor(e){super(),this.firestore=e}convertBytes(e){return new _o(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,t)}}function qb(i){i=yo(i,Co);const e=yo(i.firestore,mf),t=Mg(e),s=new yN(e);return uN(i._query),QD(t,i._query).then(a=>new pN(e,s,i,a))}function _N(i,e,t){i=yo(i,Tn);const s=yo(i.firestore,mf),a=Hb(i.converter,e,t);return Fb(s,[Vb(Lg(s),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Ln.none())])}function Fb(i,e){return function(s,a){const l=new Kr;return s.asyncQueue.enqueueAndForget(async()=>VD(await $D(s),a,l)),l.promise}(Mg(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Lg(e)}set(e,t,s){this._verifyNotCommitted();const a=Xm(e,this._firestore),l=Hb(a.converter,t,s),h=Vb(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,s);return this._mutations.push(h.toMutation(a._key,Ln.none())),this}update(e,t,s,...a){this._verifyNotCommitted();const l=Xm(e,this._firestore);let h;return h=typeof(t=It(t))=="string"||t instanceof pf?sN(this._dataReader,"WriteBatch.update",l._key,t,s,a):rN(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,Ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xm(e,this._firestore);return this._mutations=this._mutations.concat(new pg(t._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ie.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xm(i,e){if((i=It(i)).firestore!==e)throw new he(ie.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(i){return Mg(i=yo(i,mf)),new vN(i,e=>Fb(i,e))}(function(e,t=!0){(function(a){So=a})(bo),Xs(new Xr("firestore",(s,{instanceIdentifier:a,options:l})=>{const h=s.getProvider("app").getImmediate(),d=new mf(new i2(s.getProvider("auth-internal")),new a2(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(g.options.projectId,_)}(h,a),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),gi(Q0,W0,e),gi(Q0,W0,"esm2017")})();var TN="firebase",wN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(TN,wN,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="type.googleapis.com/google.protobuf.Int64Value",SN="type.googleapis.com/google.protobuf.UInt64Value";function Gb(i,e){const t={};for(const s in i)i.hasOwnProperty(s)&&(t[s]=e(i[s]));return t}function Mh(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>Mh(e));if(typeof i=="function"||typeof i=="object")return Gb(i,e=>Mh(e));throw new Error("Data cannot be encoded in JSON: "+i)}function vo(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case bN:case SN:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>vo(e)):typeof i=="function"||typeof i=="object"?Gb(i,e=>vo(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class cn extends bi{constructor(e,t,s){super(`${Fg}/${e}`,t||""),this.details=s,Object.setPrototypeOf(this,cn.prototype)}}function AN(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function xh(i,e){let t=AN(i),s=t,a;try{const l=e&&e.error;if(l){const h=l.status;if(typeof h=="string"){if(!QE[h])return new cn("internal","internal");t=QE[h],s=h}const d=l.message;typeof d=="string"&&(s=d),a=l.details,a!==void 0&&(a=vo(a))}}catch{}return t==="ok"?null:new cn(t,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Un(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=t.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||t.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a==null||a.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){const t=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:t,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="us-central1",IN=/^data: (.*?)(?:\n|$)/;function CN(i){let e=null;return{promise:new Promise((t,s)=>{e=setTimeout(()=>{s(new cn("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class ON{constructor(e,t,s,a,l=Mp,h=(...d)=>fetch(...d)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new RN(e,t,s,a),this.cancelAllRequests=new Promise(d=>{this.deleteService=()=>Promise.resolve(d())});try{const d=new URL(l);this.customDomain=d.origin+(d.pathname==="/"?"":d.pathname),this.region=Mp}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}}function DN(i,e,t){const s=ia(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${t}`,s&&(ig(i.emulatorOrigin),rg("Functions",!0))}function NN(i,e,t){const s=a=>MN(i,e,a,{});return s.stream=(a,l)=>PN(i,e,a,l),s}async function kN(i,e,t,s){t["Content-Type"]="application/json";let a;try{a=await s(i,{method:"POST",body:JSON.stringify(e),headers:t})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function Kb(i,e){const t={},s=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(t.Authorization="Bearer "+s.authToken),s.messagingToken&&(t["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(t["X-Firebase-AppCheck"]=s.appCheckToken),t}function MN(i,e,t,s){const a=i._url(e);return xN(i,a,t,s)}async function xN(i,e,t,s){t=Mh(t);const a={data:t},l=await Kb(i,s),h=s.timeout||7e4,d=CN(h),p=await Promise.race([kN(e,a,l,i.fetchImpl),d.promise,i.cancelAllRequests]);if(d.cancel(),!p)throw new cn("cancelled","Firebase Functions instance was deleted.");const g=xh(p.status,p.json);if(g)throw g;if(!p.json)throw new cn("internal","Response is not valid JSON object.");let _=p.json.data;if(typeof _>"u"&&(_=p.json.result),typeof _>"u")throw new cn("internal","Response is missing data field.");return{data:vo(_)}}function PN(i,e,t,s){const a=i._url(e);return VN(i,a,t,s||{})}async function VN(i,e,t,s){var a;t=Mh(t);const l={data:t},h=await Kb(i,s);h["Content-Type"]="application/json",h.Accept="text/event-stream";let d;try{d=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(l),headers:h,signal:s==null?void 0:s.signal})}catch(A){if(A instanceof Error&&A.name==="AbortError"){const U=new cn("cancelled","Request was cancelled.");return{data:Promise.reject(U),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(U)}}}}}}const R=xh(0,null);return{data:Promise.reject(R),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(R)}}}}}}let p,g;const _=new Promise((A,R)=>{p=A,g=R});(a=s==null?void 0:s.signal)===null||a===void 0||a.addEventListener("abort",()=>{const A=new cn("cancelled","Request was cancelled.");g(A)});const T=d.body.getReader(),w=UN(T,p,g,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const A=w.getReader();return{async next(){const{value:R,done:U}=await A.read();return{value:R,done:U}},async return(){return await A.cancel(),{done:!0,value:void 0}}}}},data:_}}function UN(i,e,t,s){const a=(h,d)=>{const p=h.match(IN);if(!p)return;const g=p[1];try{const _=JSON.parse(g);if("result"in _){e(vo(_.result));return}if("message"in _){d.enqueue(vo(_.message));return}if("error"in _){const T=xh(0,_);d.error(T),t(T);return}}catch(_){if(_ instanceof cn){d.error(_),t(_);return}}},l=new TextDecoder;return new ReadableStream({start(h){let d="";return p();async function p(){if(s!=null&&s.aborted){const g=new cn("cancelled","Request was cancelled");return h.error(g),t(g),Promise.resolve()}try{const{value:g,done:_}=await i.read();if(_){d.trim()&&a(d.trim(),h),h.close();return}if(s!=null&&s.aborted){const w=new cn("cancelled","Request was cancelled");h.error(w),t(w),await i.cancel();return}d+=l.decode(g,{stream:!0});const T=d.split(`
`);d=T.pop()||"";for(const w of T)w.trim()&&a(w.trim(),h);return p()}catch(g){const _=g instanceof cn?g:xh(0,null);h.error(_),t(_)}}},cancel(){return i.cancel()}})}const WE="@firebase/functions",ZE="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="auth-internal",zN="app-check-internal",BN="messaging-internal";function jN(i){const e=(t,{instanceIdentifier:s})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider(LN),h=t.getProvider(BN),d=t.getProvider(zN);return new ON(a,l,h,d,s)};Xs(new Xr(Fg,e,"PUBLIC").setMultipleInstances(!0)),gi(WE,ZE,i),gi(WE,ZE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(i=og(),e=Mp){const s=Jh(It(i),Fg).getImmediate({identifier:e}),a=aw("functions");return a&&qN(s,...a),s}function qN(i,e,t){DN(It(i),e,t)}function FN(i,e,t){return NN(It(i),e)}jN();function Gg(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(t[s[a]]=i[s[a]]);return t}function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GN=Yb,$b=new du("auth","Firebase",Yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new sg("@firebase/auth");function KN(i,...e){Ph.logLevel<=ke.WARN&&Ph.warn(`Auth (${bo}): ${i}`,...e)}function mh(i,...e){Ph.logLevel<=ke.ERROR&&Ph.error(`Auth (${bo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(i,...e){throw Kg(i,...e)}function vi(i,...e){return Kg(i,...e)}function Xb(i,e,t){const s=Object.assign(Object.assign({},GN()),{[e]:t});return new du("auth","Firebase",s).create(e,{appName:i.name})}function $r(i){return Xb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return $b.create(i,...e)}function Te(i,e,...t){if(!i)throw Kg(e,...t)}function Wi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw mh(e),new Error(e)}function ar(i,e){i||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function YN(){return JE()==="http:"||JE()==="https:"}function JE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YN()||xI()||"connection"in navigator)?navigator.onLine:!0}function XN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ar(t>e,"Short delay should be less than long delay!"),this.isMobile=NI()||PI()}get(){return $N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(i,e){ar(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZN=new Tu(3e4,6e4);function _f(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Oo(i,e,t,s,a={}){return Wb(i,a,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const d=mu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},l);return MI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&ia(i.emulatorConfig.host)&&(g.credentials="include"),Qb.fetch()(await Jb(i,i.config.apiHost,t,d),g)})}async function Wb(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},QN),e);try{const a=new JN(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw nh(i,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw nh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xb(i,_,g);sr(i,_)}}catch(a){if(a instanceof bi)throw a;sr(i,"network-request-failed",{message:String(a)})}}async function Zb(i,e,t,s,a={}){const l=await Oo(i,e,t,s,a);return"mfaPendingCredential"in l&&sr(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function Jb(i,e,t,s){const a=`${e}${t}?${s}`,l=i,h=l.config.emulator?Yg(i.config,a):`${i.config.apiScheme}://${a}`;return WN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}class JN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(vi(this.auth,"network-request-failed")),ZN.get())})}}function nh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=vi(i,e,s);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(i,e){return Oo(i,"POST","/v1/accounts:delete",e)}async function Vh(i,e){return Oo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tk(i,e=!1){const t=It(i),s=await t.getIdToken(e),a=$g(s);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Zl(Qm(a.auth_time)),issuedAtTime:Zl(Qm(a.iat)),expirationTime:Zl(Qm(a.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Qm(i){return Number(i)*1e3}function $g(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const a=rw(t);return a?JSON.parse(a):(mh("Failed to decode base64 JWT payload"),null)}catch(a){return mh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function eT(i){const e=$g(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof bi&&nk(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function nk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(i){var e;const t=i.auth,s=await i.getIdToken(),a=await lu(i,Vh(t,{idToken:s}));Te(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?eS(l.providerUserInfo):[],d=sk(i.providerData,h),p=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Pp(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,T)}async function rk(i){const e=It(i);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sk(i,e){return[...i.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function eS(i){return i.map(e=>{var{providerId:t}=e,s=Gg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ak(i,e){const t=await Wb(i,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,h=await Jb(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return i.emulatorConfig&&ia(i.emulatorConfig.host)&&(p.credentials="include"),Qb.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ok(i,e){return Oo(i,"POST","/v2/accounts:revokeToken",_f(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=eT(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await ak(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,h=new oo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),a&&(Te(typeof a=="string","internal-error",{appName:e}),h.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=Gg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ik(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Pp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tk(this,e)}reload(){return rk(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await lu(this,ek(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,h,d,p,g,_;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,A=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(h=t.photoURL)!==null&&h!==void 0?h:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,L=(g=t.createdAt)!==null&&g!==void 0?g:void 0,H=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:Y,isAnonymous:ee,providerData:re,stsTokenManager:O}=t;Te(Q&&O,e,"internal-error");const I=oo.fromJSON(this.name,O);Te(typeof Q=="string",e,"internal-error"),Ur(T,e.name),Ur(w,e.name),Te(typeof Y=="boolean",e,"internal-error"),Te(typeof ee=="boolean",e,"internal-error"),Ur(A,e.name),Ur(R,e.name),Ur(U,e.name),Ur(M,e.name),Ur(L,e.name),Ur(H,e.name);const C=new Yn({uid:Q,auth:e,email:w,emailVerified:Y,displayName:T,isAnonymous:ee,photoURL:R,phoneNumber:A,tenantId:U,stsTokenManager:I,createdAt:L,lastLoginAt:H});return re&&Array.isArray(re)&&(C.providerData=re.map(N=>Object.assign({},N))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(e,t,s=!1){const a=new oo;a.updateFromServerResponse(t);const l=new Yn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Uh(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?eS(a.providerUserInfo):[],h=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new oo;d.updateFromIdToken(s);const p=new Yn({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Pp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=new Map;function Zi(i){ar(i instanceof Function,"Expected a class definition");let e=tT.get(i);return e?(ar(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,tT.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tS.type="NONE";const nT=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(i,e,t){return`firebase:${i}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=ph(this.userKey,a.apiKey,l),this.fullPersistenceKey=ph("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Vh(this.auth,{idToken:e}).catch(()=>{});return t?Yn._fromGetAccountInfoResponse(this.auth,t,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(Zi(nT),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Zi(nT);const h=ph(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(h);if(_){let T;if(typeof _=="string"){const w=await Vh(e,{idToken:_}).catch(()=>{});if(!w)break;T=await Yn._fromGetAccountInfoResponse(e,w,_)}else T=Yn._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new lo(l,e,s):(l=p[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new lo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oS(e))return"Blackberry";if(lS(e))return"Webos";if(iS(e))return"Safari";if((e.includes("chrome/")||rS(e))&&!e.includes("edge/"))return"Chrome";if(aS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function nS(i=Jt()){return/firefox\//i.test(i)}function iS(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rS(i=Jt()){return/crios\//i.test(i)}function sS(i=Jt()){return/iemobile/i.test(i)}function aS(i=Jt()){return/android/i.test(i)}function oS(i=Jt()){return/blackberry/i.test(i)}function lS(i=Jt()){return/webos/i.test(i)}function Xg(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lk(i=Jt()){var e;return Xg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uk(){return VI()&&document.documentMode===10}function uS(i=Jt()){return Xg(i)||aS(i)||lS(i)||oS(i)||/windows phone/i.test(i)||sS(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(i,e=[]){let t;switch(i){case"Browser":t=iT(Jt());break;case"Worker":t=`${iT(Jt())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,d)=>{try{const p=e(l);h(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(i,e={}){return Oo(i,"GET","/v2/passwordPolicy",_f(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=6;class dk{constructor(e){var t,s,a,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:fk,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rT(this),this.idTokenSubscription=new rT(this),this.beforeStateQueue=new ck(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Vh(this,{idToken:e}),s=await Yn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Un(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject($r(this));const t=e?It(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hk(this),t=new dk(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await ok(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Zi(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function vf(i){return It(i)}class rT{constructor(e){this.auth=e,this.observer=null,this.addObserver=FI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pk(i){Qg=i}function gk(i){return Qg.loadJS(i)}function yk(){return Qg.gapiScript}function _k(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(i,e){const t=Jh(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if($s(l,e??{}))return a;sr(a,"already-initialized")}return t.initialize({options:e})}function Ek(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Zi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Tk(i,e,t){const s=vf(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=hS(e),{host:h,port:d}=wk(e),p=d===null?"":`:${d}`,g={url:`${l}//${h}${p}/`},_=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te($s(g,s.config.emulator)&&$s(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,ia(h)?(ig(`${l}//${h}${p}`),rg("Auth",!0)):bk()}function hS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function wk(i){const e=hS(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:sT(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:sT(h)}}}function sT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function bk(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,t){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i,e){return Zb(i,"POST","/v1/accounts:signInWithIdp",_f(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="http://localhost";class Zs extends fS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=Gg(t,["providerId","signInMethod"]);if(!s||!a)return null;const h=new Zs(s,a);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:Sk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends dS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends wu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return zr.credential(t,s)}catch{return null}}}zr.GOOGLE_SIGN_IN_METHOD="google.com";zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends wu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends wu{constructor(){super("twitter.com")}static credential(e,t){return Zs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return jr.credential(t,s)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await Yn._fromIdTokenResponse(e,s,a),h=aT(s);return new Js({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=aT(s);return new Js({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function aT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends bi{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Lh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new Lh(e,t,s,a)}}function mS(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Lh._fromErrorAndOperation(i,l,e,s):l})}async function Ak(i,e,t=!1){const s=await lu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Js._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rk(i,e,t=!1){const{auth:s}=i;if(Un(s.app))return Promise.reject($r(s));const a="reauthenticate";try{const l=await lu(i,mS(s,a,e,i),t);Te(l.idToken,s,"internal-error");const h=$g(l.idToken);Te(h,s,"internal-error");const{sub:d}=h;return Te(i.uid===d,s,"user-mismatch"),Js._forOperation(i,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&sr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(i,e,t=!1){if(Un(i.app))return Promise.reject($r(i));const s="signIn",a=await mS(i,s,e),l=await Js._fromIdTokenResponse(i,s,a);return t||await i._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(i,e){return Zb(i,"POST","/v1/accounts:signInWithCustomToken",_f(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(i,e){if(Un(i.app))return Promise.reject($r(i));const t=vf(i),s=await Ck(t,{token:e,returnSecureToken:!0}),a=await Js._fromIdTokenResponse(t,"signIn",s);return await t._updateCurrentUser(a.user),a}function Dk(i,e,t,s){return It(i).onIdTokenChanged(e,t,s)}function Nk(i,e,t){return It(i).beforeAuthStateChanged(e,t)}const zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=1e3,Mk=10;class gS extends pS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);uk()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Mk):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},kk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gS.type="LOCAL";const xk=gS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends pS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yS.type="SESSION";const _S=yS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,h=this.handlersMap[a];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(h).map(async g=>g(t.origin,l)),p=await Pk(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,h;return new Promise((d,p)=>{const g=Wg("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:a,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(w.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),a.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function Uk(i){Ei().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function Lk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zk(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function Bk(){return vS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="firebaseLocalStorageDb",jk=1,Bh="firebaseLocalStorage",TS="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Tf(i,e){return i.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function Hk(){const i=indexedDB.deleteDatabase(ES);return new bu(i).toPromise()}function Vp(){const i=indexedDB.open(ES,jk);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Bh,{keyPath:TS})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Bh)?e(s):(s.close(),await Hk(),e(await Vp()))})})}async function oT(i,e,t){const s=Tf(i,!0).put({[TS]:e,value:t});return new bu(s).toPromise()}async function qk(i,e){const t=Tf(i,!1).get(e),s=await new bu(t).toPromise();return s===void 0?null:s.value}function lT(i,e){const t=Tf(i,!0).delete(e);return new bu(t).toPromise()}const Fk=800,Gk=3;class wS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>Gk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ef._getInstance(Bk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Lk(),!this.activeServiceWorker)return;this.sender=new Vk(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vp();return await oT(e,zh,"1"),await lT(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>oT(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>qk(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Tf(a,!1).getAll();return new bu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Fk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wS.type="LOCAL";const Kk=wS;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(i,e){return e?Zi(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg extends fS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $k(i){return Ik(i.auth,new Zg(i),i.bypassAuthState)}function Xk(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),Rk(t,new Zg(i),i.bypassAuthState)}async function Qk(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),Ak(t,new Zg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $k;case"linkViaPopup":case"linkViaRedirect":return Qk;case"reauthViaPopup":case"reauthViaRedirect":return Xk;default:sr(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new Tu(2e3,1e4);class so extends bS{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Wk.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="pendingRedirect",gh=new Map;class Jk extends bS{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await eM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eM(i,e){const t=iM(e),s=nM(i);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function tM(i,e){gh.set(i._key(),e)}function nM(i){return Zi(i._redirectPersistence)}function iM(i){return ph(Zk,i.config.apiKey,i.name)}async function rM(i,e,t=!1){if(Un(i.app))return Promise.reject($r(i));const s=vf(i),a=Yk(s,e),h=await new Jk(s,a,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=10*60*1e3;class aM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oM(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!SS(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(vi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sM&&this.cachedEventUids.clear(),this.cachedEventUids.has(uT(e))}saveEventToCache(e){this.cachedEventUids.add(uT(e)),this.lastProcessedEventTime=Date.now()}}function uT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function SS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM(i,e={}){return Oo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cM=/^https?/;async function hM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await lM(i);for(const t of e)try{if(fM(t))return}catch{}sr(i,"unauthorized-domain")}function fM(i){const e=xp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!cM.test(t))return!1;if(uM.test(i))return s===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Tu(3e4,6e4);function cT(){const i=Ei().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function mM(i){return new Promise((e,t)=>{var s,a,l;function h(){cT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cT(),t(vi(i,"network-request-failed"))},timeout:dM.get()})}if(!((a=(s=Ei().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ei().gapi)===null||l===void 0)&&l.load)h();else{const d=_k("iframefcb");return Ei()[d]=()=>{gapi.load?h():t(vi(i,"network-request-failed"))},gk(`${yk()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw yh=null,e})}let yh=null;function pM(i){return yh=yh||mM(i),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=new Tu(5e3,15e3),yM="__/auth/iframe",_M="emulator/auth/iframe",vM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TM(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Yg(e,_M):`https://${i.config.authDomain}/${yM}`,s={apiKey:e.apiKey,appName:i.name,v:bo},a=EM.get(i.config.apiHost);a&&(s.eid=a);const l=i._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${mu(s).slice(1)}`}async function wM(i){const e=await pM(i),t=Ei().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:TM(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vM,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const h=vi(i,"network-request-failed"),d=Ei().setTimeout(()=>{l(h)},gM.get());function p(){Ei().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SM=500,AM=600,RM="_blank",IM="http://localhost";class hT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CM(i,e,t,s=SM,a=AM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},bM),{width:s.toString(),height:a.toString(),top:l,left:h}),g=Jt().toLowerCase();t&&(d=rS(g)?RM:t),nS(g)&&(e=e||IM,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[A,R])=>`${w}${A}=${R},`,"");if(lk(g)&&d!=="_self")return OM(e||"",d),new hT(null);const T=window.open(e||"",d,_);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new hT(T)}function OM(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="__/auth/handler",NM="emulator/auth/handler",kM=encodeURIComponent("fac");async function fT(i,e,t,s,a,l){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:bo,eventId:a};if(e instanceof dS){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",qI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))h[_]=T}if(e instanceof wu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),g=p?`#${kM}=${encodeURIComponent(p)}`:"";return`${MM(i)}?${mu(d).slice(1)}${g}`}function MM({config:i}){return i.emulator?Yg(i,NM):`https://${i.authDomain}/${DM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class xM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_S,this._completeRedirectFn=rM,this._overrideRedirectResult=tM}async _openPopup(e,t,s,a){var l;ar((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await fT(e,t,s,xp(),a);return CM(e,h,Wg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await fT(e,t,s,xp(),a);return Uk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ar(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await wM(e),s=new aM(e);return t.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wm,{type:Wm},a=>{var l;const h=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Wm];h!==void 0&&t(!!h),sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hM(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uS()||iS()||Xg()}}const PM=xM;var dT="@firebase/auth",mT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LM(i){Xs(new Xr("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cS(i)},g=new mk(s,a,l,p);return Ek(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Xs(new Xr("auth-internal",e=>{const t=vf(e.getProvider("auth").getImmediate());return(s=>new VM(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(dT,mT,UM(i)),gi(dT,mT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=5*60,BM=lw("authIdTokenMaxAge")||zM;let pT=null;const jM=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>BM)return;const a=t==null?void 0:t.token;pT!==a&&(pT=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function HM(i=og()){const e=Jh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=vk(i,{popupRedirectResolver:PM,persistence:[Kk,xk,_S]}),s=lw("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=jM(l.toString());Nk(t,h,()=>h(t.currentUser)),Dk(t,d=>h(d))}}const a=sw("auth");return a&&Tk(t,`http://${a}`),t}function qM(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}pk({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=a=>{const l=vi("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",qM().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LM("Browser");const FM={apiKey:"AIzaSyCV9KLDUWG25081Nz_DwxCwrYFA1qi82_U",authDomain:"dashboard-41ee0.firebaseapp.com",projectId:"dashboard-41ee0",storageBucket:"dashboard-41ee0.firebasestorage.app",messagingSenderId:"576683404898",appId:"1:576683404898:web:d45dd398286841f11eeb3b"},AS=hw(FM),wf=HM(AS),GM=HN(AS),KM=i=>{const e=F.useRef([]);return F.useEffect(()=>{e.current.forEach(t=>{t&&t.scrollWidth>t.clientWidth&&t.classList.add("scroll-animate")})},[i.options]),We.jsx("div",{className:"widget__widget-type-select",children:i.options.map((t,s)=>We.jsx("div",{className:"widget__widget-type-select__option",onClick:()=>i.onSelect(t),ref:a=>{e.current[s]=a},children:t}))})},YM=i=>`${i.type}-${i.position.colStart}-${i.position.rowStart}-${i.position.colEnd}-${i.position.rowEnd}`,Up=i=>We.jsxs("div",{className:"widget-grid__widget","data-unsaved":i.unsaved,style:{gridArea:`${i.position.colStart} / ${i.position.rowStart} / ${i.position.colEnd} / ${i.position.rowEnd}`},children:[i.isLoading&&"Loading",i.unsaved&&We.jsx("button",{className:"close-button",onClick:i.removeUnsavedWidget,children:"x"}),i.unsaved&&i.onWidgetTypeSelect&&!i.isLoading&&We.jsx(KM,{options:["todo","weather","transport","budget","recipes","calendar","xxxxxxxxxxxxxxxxxx"],onSelect:e=>{var t;return(t=i.onWidgetTypeSelect)==null?void 0:t.call(i,{id:i.id,position:i.position,type:e})}}),i.children]}),$M=i=>We.jsx("div",{className:"widget-grid__filler","data-selected":i.selected,onMouseDown:e=>i.handleMouseDown(i,e),onMouseEnter:e=>i.handleMouseEnter(i,e)});function XM(){const[i,e]=F.useState(!1),[t,s]=F.useState([]),[a,l]=F.useState(null),[h,d]=F.useState([]),p=F.useRef(i);F.useEffect(()=>{p.current=i},[i]);const g=F.useRef(t);F.useEffect(()=>{g.current=t},[t]);const _=L=>{console.log("mouse up",L),l(L)},T=()=>{l(null)},w=()=>{a&&l({...a,isLoading:!0})},A=(L,H)=>{p.current||(e(!0),l(null),s([L]),console.log("mouse down","selected",g.current),H.preventDefault())},R=L=>{if(!p.current||g.current.length===0)return!1;let H=1/0,Q=-1/0,Y=1/0,ee=-1/0;console.log("isSelectionInUnoccupiedSpace","occupied",h);for(const re of[...g.current,L])re.row<H&&(H=re.row),re.row>Q&&(Q=re.row),re.column<Y&&(Y=re.column),re.column>ee&&(ee=re.column);for(const[re,O]of h)if(re>=H&&re<=Q&&O>=Y&&O<=ee)return!1;return!0};return{selectedFiller:t,unsavedWidget:a,setUnsavedWidgetToLoading:w,removeUnsavedWidget:T,handleMouseDown:A,handleMouseEnter:(L,H)=>{if(!R(L))return;const Q=g.current.findIndex(Y=>Y.row===L.row&&Y.column===L.column);Q>-1?s(g.current.slice(0,Q+1)):s([...g.current,L]),H.preventDefault()},handleMouseUp:L=>{console.log("mouse up",i,"selected",g.current),p.current&&(e(!1),_({position:{rowStart:Math.min(...g.current.map(H=>H.row)),rowEnd:Math.max(...g.current.map(H=>H.row))+1,colStart:Math.min(...g.current.map(H=>H.column)),colEnd:Math.max(...g.current.map(H=>H.column))+1}}),s([]),console.log("dragging ended",i),L.preventDefault())},setOccupiedPositions:d}}const QM=i=>{const{selectedFiller:e,unsavedWidget:t,removeUnsavedWidget:s,setUnsavedWidgetToLoading:a,handleMouseUp:l,handleMouseDown:h,handleMouseEnter:d,setOccupiedPositions:p}=XM();F.useEffect(()=>{window.addEventListener("mouseup",A=>l(A))},[]),F.useEffect(()=>{s()},[i.children]);const g=A=>{i.onWidgetTypeSelect?i.onWidgetTypeSelect(A):console.error("onWidgetTypeSelect is udnefined"),a()},_=F.useMemo(()=>{const A=OT.Children.toArray(i.children),R=A.filter(U=>U.type===Up);return A.length>R.length&&console.error(`${A.length-R.length} child(ren) of WidgetGrid aren't Widgets`),t?[...R,F.createElement(Up,{...t,unsaved:!0,removeUnsavedWidget:s,onWidgetTypeSelect:g,key:"unsaved"})]:R},[i.children,t]),T=F.useMemo(()=>_.reduce((A,R)=>{const U=[];for(let M=R.props.position.colStart;M<R.props.position.colEnd;M++)for(let L=R.props.position.rowStart;L<R.props.position.rowEnd;L++)U.push([L,M]);return[...A,...U]},[]),[_]);F.useEffect(()=>{console.log("isSelectionInUnoccupiedSpace","setting occupied",T),p(T)},[T]);const w=[];console.log(T);for(let A=1;A<=i.rows;A++)for(let R=1;R<=i.columns;R++)T.some(([M,L])=>M===R&&L===A)||w.push(We.jsx($M,{row:R,column:A,selected:e&&e.some(M=>M.row===R&&M.column===A),handleMouseDown:h,handleMouseEnter:d},`widget-filler-${R}-${A}`));return We.jsxs("div",{className:"widget-grid",style:{gridTemplateColumns:`repeat(${i.columns}, 1fr)`,gridTemplateRows:`repeat(${i.rows}, 1fr)`},children:[_,w]})},jh=JD();async function WM(i){const e=wf.currentUser;if(!e)return Promise.reject(new Error("Not authenticated"));const t=kg(jh,"users",e.uid,"widget-layouts",i,"widgets"),s=await qb(t);return s.empty?(console.log("No widgets found in layout."),[]):s.docs.map(a=>({id:a.id,...a.data()}))}async function gT(){const i=wf.currentUser;if(!i)return Promise.reject(new Error("Not authenticated"));const e=kg(jh,"users",i.uid,"widget-layouts"),t=hN(e,fN("active","==",!0)),s=await qb(t);if(s.empty)return console.log("No active layout found."),null;{const a=s.docs[0],l=a.id,h=await WM(l);return console.log("loading",{id:a.id,widgets:h,...a.data()}),{id:a.id,widgets:h,...a.data()}}}async function ZM(i){const e=wf.currentUser;if(!e)throw new Error("Not authenticated");const t=i.id||crypto.randomUUID(),s=FE(jh,"users",e.uid,"widget-layouts",t),a=kg(s,"widgets"),{widgets:l,id:h,...d}=i;await _N(s,d,{merge:!0});const p=EN(jh);l.forEach(g=>{const _=g.id||crypto.randomUUID(),T=FE(a,_),{id:w,...A}=g;p.set(T,A)}),await p.commit()}const JM=i=>{const[e,t]=F.useState(null),[s,a]=F.useState(!0),[l,h]=F.useState(null);function d(g,_){_.widgets=[..._.widgets,g],p(_)}function p(g){ZM(g).then(()=>gT().then(_=>{t(_),a(!1)}).catch(_=>{h(_),a(!1)}))}return F.useEffect(()=>{i.isAuthenticated&&(a(!0),gT().then(g=>{t(g),a(!1)}).catch(g=>{h(g),a(!1)}))},[i.isAuthenticated]),i.isAuthLoading||s?We.jsx("div",{children:"Loading..."}):i.isAuthenticated?l?We.jsxs("div",{children:["Error loading layouts: ",l.message]}):We.jsx("div",{className:"dashboard",children:We.jsx(QM,{columns:e?e.columns:5,rows:e?e.rows:5,onWidgetTypeSelect:g=>d(g,e||{rows:5,columns:5,widgets:[]}),children:e&&e.widgets.map(g=>We.jsx(Up,{...g,children:g.type},YM(g)))})}):We.jsx(XT,{to:"/login"})},ex=()=>{const{loginWithRedirect:i}=Xh();return We.jsx("button",{onClick:()=>i(),children:"Log In"})},tx=()=>{const{isAuthenticated:i}=Xh();return We.jsx("div",{children:i?We.jsx(XT,{to:"/"}):We.jsx(ex,{})})};function nx(){const{getAccessTokenSilently:i}=Xh(),[e,t]=F.useState(null),[s,a]=F.useState(!1),[l,h]=F.useState(null),d=F.useCallback(async p=>{if(!p){t(null);return}a(!0),h(null);try{const T=(await FN(GM,"auth0ToFirebase")({token:p})).data.firebaseToken,w=await Ok(wf,T);t(w.user)}catch(g){h(g),t(null)}finally{a(!1)}},[]);return F.useEffect(()=>{let p=!0;return(async()=>{try{const _=await i();p&&_&&await d(_)}catch(_){console.error("Auth0 token retrieval failed",_),p&&(h(_),t(null))}})(),()=>{p=!1}},[i,d]),{user:e,loading:s,error:l}}function ix(){const{isAuthenticated:i,isLoading:e}=Xh(),{user:t,loading:s,error:a}=nx();return We.jsx(uI,{children:We.jsxs(zR,{children:[We.jsx(lp,{path:"/",element:We.jsx(JM,{isAuthenticated:i&&!!t,isAuthLoading:e||s,firebaseUser:t,firebaseAuthError:a})}),We.jsx(lp,{path:"/login",element:We.jsx(tx,{})})]})})}var Zm={exports:{}},Jm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yT;function rx(){if(yT)return Jm;yT=1;var i=Yh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,s=i.useSyncExternalStore,a=i.useRef,l=i.useEffect,h=i.useMemo,d=i.useDebugValue;return Jm.useSyncExternalStoreWithSelector=function(p,g,_,T,w){var A=a(null);if(A.current===null){var R={hasValue:!1,value:null};A.current=R}else R=A.current;A=h(function(){function M(ee){if(!L){if(L=!0,H=ee,ee=T(ee),w!==void 0&&R.hasValue){var re=R.value;if(w(re,ee))return Q=re}return Q=ee}if(re=Q,t(H,ee))return re;var O=T(ee);return w!==void 0&&w(re,O)?(H=ee,re):(H=ee,Q=O)}var L=!1,H,Q,Y=_===void 0?null:_;return[function(){return M(g())},Y===null?void 0:function(){return M(Y())}]},[g,_,T,w]);var U=s(p,A[0],A[1]);return l(function(){R.hasValue=!0,R.value=U},[U]),d(U),U},Jm}var _T;function sx(){return _T||(_T=1,Zm.exports=rx()),Zm.exports}sx();function ax(i){i()}function ox(){let i=null,e=null;return{clear(){i=null,e=null},notify(){ax(()=>{let t=i;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=i;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:i=a,function(){!s||i===null||(s=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:i=a.next)}}}}var vT={notify(){},get:()=>[]};function lx(i,e){let t,s=vT,a=0,l=!1;function h(U){_();const M=s.subscribe(U);let L=!1;return()=>{L||(L=!0,M(),T())}}function d(){s.notify()}function p(){R.onStateChange&&R.onStateChange()}function g(){return l}function _(){a++,t||(t=i.subscribe(p),s=ox())}function T(){a--,t&&a===0&&(t(),t=void 0,s.clear(),s=vT)}function w(){l||(l=!0,_())}function A(){l&&(l=!1,T())}const R={addNestedSub:h,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:g,trySubscribe:w,tryUnsubscribe:A,getListeners:()=>s};return R}var ux=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cx=ux(),hx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fx=hx(),dx=()=>cx||fx?F.useLayoutEffect:F.useEffect,mx=dx(),ep=Symbol.for("react-redux-context"),tp=typeof globalThis<"u"?globalThis:{};function px(){if(!F.createContext)return{};const i=tp[ep]??(tp[ep]=new Map);let e=i.get(F.createContext);return e||(e=F.createContext(null),i.set(F.createContext,e)),e}var gx=px();function yx(i){const{children:e,context:t,serverState:s,store:a}=i,l=F.useMemo(()=>{const p=lx(a);return{store:a,subscription:p,getServerState:s?()=>s:void 0}},[a,s]),h=F.useMemo(()=>a.getState(),[a]);mx(()=>{const{subscription:p}=l;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==a.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[l,h]);const d=t||gx;return F.createElement(d.Provider,{value:l},e)}var _x=yx;function Ht(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var vx=typeof Symbol=="function"&&Symbol.observable||"@@observable",ET=vx,np=()=>Math.random().toString(36).substring(7).split("").join("."),Ex={INIT:`@@redux/INIT${np()}`,REPLACE:`@@redux/REPLACE${np()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${np()}`},Hh=Ex;function Jg(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function RS(i,e,t){if(typeof i!="function")throw new Error(Ht(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ht(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ht(1));return t(RS)(i,e)}let s=i,a=e,l=new Map,h=l,d=0,p=!1;function g(){h===l&&(h=new Map,l.forEach((M,L)=>{h.set(L,M)}))}function _(){if(p)throw new Error(Ht(3));return a}function T(M){if(typeof M!="function")throw new Error(Ht(4));if(p)throw new Error(Ht(5));let L=!0;g();const H=d++;return h.set(H,M),function(){if(L){if(p)throw new Error(Ht(6));L=!1,g(),h.delete(H),l=null}}}function w(M){if(!Jg(M))throw new Error(Ht(7));if(typeof M.type>"u")throw new Error(Ht(8));if(typeof M.type!="string")throw new Error(Ht(17));if(p)throw new Error(Ht(9));try{p=!0,a=s(a,M)}finally{p=!1}return(l=h).forEach(H=>{H()}),M}function A(M){if(typeof M!="function")throw new Error(Ht(10));s=M,w({type:Hh.REPLACE})}function R(){const M=T;return{subscribe(L){if(typeof L!="object"||L===null)throw new Error(Ht(11));function H(){const Y=L;Y.next&&Y.next(_())}return H(),{unsubscribe:M(H)}},[ET](){return this}}}return w({type:Hh.INIT}),{dispatch:w,subscribe:T,getState:_,replaceReducer:A,[ET]:R}}function Tx(i){Object.keys(i).forEach(e=>{const t=i[e];if(typeof t(void 0,{type:Hh.INIT})>"u")throw new Error(Ht(12));if(typeof t(void 0,{type:Hh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ht(13))})}function wx(i){const e=Object.keys(i),t={};for(let l=0;l<e.length;l++){const h=e[l];typeof i[h]=="function"&&(t[h]=i[h])}const s=Object.keys(t);let a;try{Tx(t)}catch(l){a=l}return function(h={},d){if(a)throw a;let p=!1;const g={};for(let _=0;_<s.length;_++){const T=s[_],w=t[T],A=h[T],R=w(A,d);if(typeof R>"u")throw d&&d.type,new Error(Ht(14));g[T]=R,p=p||R!==A}return p=p||s.length!==Object.keys(h).length,p?g:h}}function qh(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,t)=>(...s)=>e(t(...s)))}function bx(...i){return e=>(t,s)=>{const a=e(t,s);let l=()=>{throw new Error(Ht(15))};const h={getState:a.getState,dispatch:(p,...g)=>l(p,...g)},d=i.map(p=>p(h));return l=qh(...d)(a.dispatch),{...a,dispatch:l}}}function Sx(i){return Jg(i)&&"type"in i&&typeof i.type=="string"}var IS=Symbol.for("immer-nothing"),TT=Symbol.for("immer-draftable"),wn=Symbol.for("immer-state");function Kn(i,...e){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Eo=Object.getPrototypeOf;function ea(i){return!!i&&!!i[wn]}function or(i){var e;return i?CS(i)||Array.isArray(i)||!!i[TT]||!!((e=i.constructor)!=null&&e[TT])||Sf(i)||Af(i):!1}var Ax=Object.prototype.constructor.toString();function CS(i){if(!i||typeof i!="object")return!1;const e=Eo(i);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Ax}function Fh(i,e){bf(i)===0?Reflect.ownKeys(i).forEach(t=>{e(t,i[t],i)}):i.forEach((t,s)=>e(s,t,i))}function bf(i){const e=i[wn];return e?e.type_:Array.isArray(i)?1:Sf(i)?2:Af(i)?3:0}function Lp(i,e){return bf(i)===2?i.has(e):Object.prototype.hasOwnProperty.call(i,e)}function OS(i,e,t){const s=bf(i);s===2?i.set(e,t):s===3?i.add(t):i[e]=t}function Rx(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}function Sf(i){return i instanceof Map}function Af(i){return i instanceof Set}function Fs(i){return i.copy_||i.base_}function zp(i,e){if(Sf(i))return new Map(i);if(Af(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const t=CS(i);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(i);delete s[wn];let a=Reflect.ownKeys(s);for(let l=0;l<a.length;l++){const h=a[l],d=s[h];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[h]={configurable:!0,writable:!0,enumerable:d.enumerable,value:i[h]})}return Object.create(Eo(i),s)}else{const s=Eo(i);if(s!==null&&t)return{...i};const a=Object.create(s);return Object.assign(a,i)}}function ey(i,e=!1){return Rf(i)||ea(i)||!or(i)||(bf(i)>1&&(i.set=i.add=i.clear=i.delete=Ix),Object.freeze(i),e&&Object.entries(i).forEach(([t,s])=>ey(s,!0))),i}function Ix(){Kn(2)}function Rf(i){return Object.isFrozen(i)}var Cx={};function ta(i){const e=Cx[i];return e||Kn(0,i),e}var uu;function DS(){return uu}function Ox(i,e){return{drafts_:[],parent_:i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wT(i,e){e&&(ta("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=e)}function Bp(i){jp(i),i.drafts_.forEach(Dx),i.drafts_=null}function jp(i){i===uu&&(uu=i.parent_)}function bT(i){return uu=Ox(uu,i)}function Dx(i){const e=i[wn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ST(i,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return i!==void 0&&i!==t?(t[wn].modified_&&(Bp(e),Kn(4)),or(i)&&(i=Gh(e,i),e.parent_||Kh(e,i)),e.patches_&&ta("Patches").generateReplacementPatches_(t[wn].base_,i,e.patches_,e.inversePatches_)):i=Gh(e,t,[]),Bp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),i!==IS?i:void 0}function Gh(i,e,t){if(Rf(e))return e;const s=e[wn];if(!s)return Fh(e,(a,l)=>AT(i,s,e,a,l,t)),e;if(s.scope_!==i)return e;if(!s.modified_)return Kh(i,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let l=a,h=!1;s.type_===3&&(l=new Set(a),a.clear(),h=!0),Fh(l,(d,p)=>AT(i,s,a,d,p,t,h)),Kh(i,a,!1),t&&i.patches_&&ta("Patches").generatePatches_(s,t,i.patches_,i.inversePatches_)}return s.copy_}function AT(i,e,t,s,a,l,h){if(ea(a)){const d=l&&e&&e.type_!==3&&!Lp(e.assigned_,s)?l.concat(s):void 0,p=Gh(i,a,d);if(OS(t,s,p),ea(p))i.canAutoFreeze_=!1;else return}else h&&t.add(a);if(or(a)&&!Rf(a)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;Gh(i,a),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,s)&&Kh(i,a)}}function Kh(i,e,t=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&ey(e,t)}function Nx(i,e){const t=Array.isArray(i),s={type_:t?1:0,scope_:e?e.scope_:DS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,l=ty;t&&(a=[s],l=cu);const{revoke:h,proxy:d}=Proxy.revocable(a,l);return s.draft_=d,s.revoke_=h,d}var ty={get(i,e){if(e===wn)return i;const t=Fs(i);if(!Lp(t,e))return kx(i,t,e);const s=t[e];return i.finalized_||!or(s)?s:s===ip(i.base_,e)?(rp(i),i.copy_[e]=qp(s,i)):s},has(i,e){return e in Fs(i)},ownKeys(i){return Reflect.ownKeys(Fs(i))},set(i,e,t){const s=NS(Fs(i),e);if(s!=null&&s.set)return s.set.call(i.draft_,t),!0;if(!i.modified_){const a=ip(Fs(i),e),l=a==null?void 0:a[wn];if(l&&l.base_===t)return i.copy_[e]=t,i.assigned_[e]=!1,!0;if(Rx(t,a)&&(t!==void 0||Lp(i.base_,e)))return!0;rp(i),Hp(i)}return i.copy_[e]===t&&(t!==void 0||e in i.copy_)||Number.isNaN(t)&&Number.isNaN(i.copy_[e])||(i.copy_[e]=t,i.assigned_[e]=!0),!0},deleteProperty(i,e){return ip(i.base_,e)!==void 0||e in i.base_?(i.assigned_[e]=!1,rp(i),Hp(i)):delete i.assigned_[e],i.copy_&&delete i.copy_[e],!0},getOwnPropertyDescriptor(i,e){const t=Fs(i),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:i.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Kn(11)},getPrototypeOf(i){return Eo(i.base_)},setPrototypeOf(){Kn(12)}},cu={};Fh(ty,(i,e)=>{cu[i]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});cu.deleteProperty=function(i,e){return cu.set.call(this,i,e,void 0)};cu.set=function(i,e,t){return ty.set.call(this,i[0],e,t,i[0])};function ip(i,e){const t=i[wn];return(t?Fs(t):i)[e]}function kx(i,e,t){var a;const s=NS(e,t);return s?"value"in s?s.value:(a=s.get)==null?void 0:a.call(i.draft_):void 0}function NS(i,e){if(!(e in i))return;let t=Eo(i);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Eo(t)}}function Hp(i){i.modified_||(i.modified_=!0,i.parent_&&Hp(i.parent_))}function rp(i){i.copy_||(i.copy_=zp(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var Mx=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const h=this;return function(p=l,...g){return h.produce(p,_=>t.call(this,_,...g))}}typeof t!="function"&&Kn(6),s!==void 0&&typeof s!="function"&&Kn(7);let a;if(or(e)){const l=bT(this),h=qp(e,void 0);let d=!0;try{a=t(h),d=!1}finally{d?Bp(l):jp(l)}return wT(l,s),ST(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===IS&&(a=void 0),this.autoFreeze_&&ey(a,!0),s){const l=[],h=[];ta("Patches").generateReplacementPatches_(e,a,l,h),s(l,h)}return a}else Kn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...d)=>this.produceWithPatches(h,p=>e(p,...d));let s,a;return[this.produce(e,t,(h,d)=>{s=h,a=d}),s,a]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){or(i)||Kn(8),ea(i)&&(i=xx(i));const e=bT(this),t=qp(i,void 0);return t[wn].isManual_=!0,jp(e),t}finishDraft(i,e){const t=i&&i[wn];(!t||!t.isManual_)&&Kn(9);const{scope_:s}=t;return wT(s,e),ST(void 0,s)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){i=a.value;break}}t>-1&&(e=e.slice(t+1));const s=ta("Patches").applyPatches_;return ea(i)?s(i,e):this.produce(i,a=>s(a,e))}};function qp(i,e){const t=Sf(i)?ta("MapSet").proxyMap_(i,e):Af(i)?ta("MapSet").proxySet_(i,e):Nx(i,e);return(e?e.scope_:DS()).drafts_.push(t),t}function xx(i){return ea(i)||Kn(10,i),kS(i)}function kS(i){if(!or(i)||Rf(i))return i;const e=i[wn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=zp(i,e.scope_.immer_.useStrictShallowCopy_)}else t=zp(i,!0);return Fh(t,(s,a)=>{OS(t,s,kS(a))}),e&&(e.finalized_=!1),t}var bn=new Mx,MS=bn.produce;bn.produceWithPatches.bind(bn);bn.setAutoFreeze.bind(bn);bn.setUseStrictShallowCopy.bind(bn);bn.applyPatches.bind(bn);bn.createDraft.bind(bn);bn.finishDraft.bind(bn);function xS(i){return({dispatch:t,getState:s})=>a=>l=>typeof l=="function"?l(t,s,i):a(l)}var Px=xS(),Vx=xS,Ux=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qh:qh.apply(null,arguments)};function RT(i,e){function t(...s){if(e){let a=e(...s);if(!a)throw new Error(er(0));return{type:i,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:i,payload:s[0]}}return t.toString=()=>`${i}`,t.type=i,t.match=s=>Sx(s)&&s.type===i,t}var PS=class Kl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Kl.prototype)}static get[Symbol.species](){return Kl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Kl(...e[0].concat(this)):new Kl(...e.concat(this))}};function IT(i){return or(i)?MS(i,()=>{}):i}function ih(i,e,t){return i.has(e)?i.get(e):i.set(e,t(e)).get(e)}function Lx(i){return typeof i=="boolean"}var zx=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let h=new PS;return t&&(Lx(t)?h.push(Px):h.push(Vx(t.extraArgument))),h},Bx="RTK_autoBatch",CT=i=>e=>{setTimeout(e,i)},jx=(i={type:"raf"})=>e=>(...t)=>{const s=e(...t);let a=!0,l=!1,h=!1;const d=new Set,p=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CT(10):i.type==="callback"?i.queueNotification:CT(i.timeout),g=()=>{h=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},s,{subscribe(_){const T=()=>a&&_(),w=s.subscribe(T);return d.add(_),()=>{w(),d.delete(_)}},dispatch(_){var T;try{return a=!((T=_==null?void 0:_.meta)!=null&&T[Bx]),l=!a,l&&(h||(h=!0,p(g))),s.dispatch(_)}finally{a=!0}}})},Hx=i=>function(t){const{autoBatch:s=!0}=t??{};let a=new PS(i);return s&&a.push(jx(typeof s=="object"?s:void 0)),a};function qx(i){const e=zx(),{reducer:t=void 0,middleware:s,devTools:a=!0,preloadedState:l=void 0,enhancers:h=void 0}=i||{};let d;if(typeof t=="function")d=t;else if(Jg(t))d=wx(t);else throw new Error(er(1));let p;typeof s=="function"?p=s(e):p=e();let g=qh;a&&(g=Ux({trace:!1,...typeof a=="object"&&a}));const _=bx(...p),T=Hx(_);let w=typeof h=="function"?h(T):T();const A=g(...w);return RS(d,l,A)}function VS(i){const e={},t=[];let s;const a={addCase(l,h){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(er(28));if(d in e)throw new Error(er(29));return e[d]=h,a},addMatcher(l,h){return t.push({matcher:l,reducer:h}),a},addDefaultCase(l){return s=l,a}};return i(a),[e,t,s]}function Fx(i){return typeof i=="function"}function Gx(i,e){let[t,s,a]=VS(e),l;if(Fx(i))l=()=>IT(i());else{const d=IT(i);l=()=>d}function h(d=l(),p){let g=[t[p.type],...s.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[a]),g.reduce((_,T)=>{if(T)if(ea(_)){const A=T(_,p);return A===void 0?_:A}else{if(or(_))return MS(_,w=>T(w,p));{const w=T(_,p);if(w===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return _},d)}return h.getInitialState=l,h}var Kx=Symbol.for("rtk-slice-createasyncthunk");function Yx(i,e){return`${i}/${e}`}function $x({creators:i}={}){var t;const e=(t=i==null?void 0:i.asyncThunk)==null?void 0:t[Kx];return function(a){const{name:l,reducerPath:h=l}=a;if(!l)throw new Error(er(11));const d=(typeof a.reducers=="function"?a.reducers(Wx()):a.reducers)||{},p=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(Y,ee){const re=typeof Y=="string"?Y:Y.type;if(!re)throw new Error(er(12));if(re in g.sliceCaseReducersByType)throw new Error(er(13));return g.sliceCaseReducersByType[re]=ee,_},addMatcher(Y,ee){return g.sliceMatchers.push({matcher:Y,reducer:ee}),_},exposeAction(Y,ee){return g.actionCreators[Y]=ee,_},exposeCaseReducer(Y,ee){return g.sliceCaseReducersByName[Y]=ee,_}};p.forEach(Y=>{const ee=d[Y],re={reducerName:Y,type:Yx(l,Y),createNotation:typeof a.reducers=="function"};Jx(ee)?tP(re,ee,_,e):Zx(re,ee,_)});function T(){const[Y={},ee=[],re=void 0]=typeof a.extraReducers=="function"?VS(a.extraReducers):[a.extraReducers],O={...Y,...g.sliceCaseReducersByType};return Gx(a.initialState,I=>{for(let C in O)I.addCase(C,O[C]);for(let C of g.sliceMatchers)I.addMatcher(C.matcher,C.reducer);for(let C of ee)I.addMatcher(C.matcher,C.reducer);re&&I.addDefaultCase(re)})}const w=Y=>Y,A=new Map,R=new WeakMap;let U;function M(Y,ee){return U||(U=T()),U(Y,ee)}function L(){return U||(U=T()),U.getInitialState()}function H(Y,ee=!1){function re(I){let C=I[Y];return typeof C>"u"&&ee&&(C=ih(R,re,L)),C}function O(I=w){const C=ih(A,ee,()=>new WeakMap);return ih(C,I,()=>{const N={};for(const[V,z]of Object.entries(a.selectors??{}))N[V]=Xx(z,I,()=>ih(R,I,L),ee);return N})}return{reducerPath:Y,getSelectors:O,get selectors(){return O(re)},selectSlice:re}}const Q={name:l,reducer:M,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:L,...H(h),injectInto(Y,{reducerPath:ee,...re}={}){const O=ee??h;return Y.inject({reducerPath:O,reducer:M},re),{...Q,...H(O,!0)}}};return Q}}function Xx(i,e,t,s){function a(l,...h){let d=e(l);return typeof d>"u"&&s&&(d=t()),i(d,...h)}return a.unwrapped=i,a}var Qx=$x();function Wx(){function i(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return i.withTypes=()=>i,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:i}}function Zx({type:i,reducerName:e,createNotation:t},s,a){let l,h;if("reducer"in s){if(t&&!eP(s))throw new Error(er(17));l=s.reducer,h=s.prepare}else l=s;a.addCase(i,l).exposeCaseReducer(e,l).exposeAction(e,h?RT(i,h):RT(i))}function Jx(i){return i._reducerDefinitionType==="asyncThunk"}function eP(i){return i._reducerDefinitionType==="reducerWithPrepare"}function tP({type:i,reducerName:e},t,s,a){if(!a)throw new Error(er(18));const{payloadCreator:l,fulfilled:h,pending:d,rejected:p,settled:g,options:_}=t,T=a(i,l,_);s.exposeAction(e,T),h&&s.addCase(T.fulfilled,h),d&&s.addCase(T.pending,d),p&&s.addCase(T.rejected,p),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:h||rh,pending:d||rh,rejected:p||rh,settled:g||rh})}function rh(){}function er(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const nP={isDragging:!1,selectedFillers:[],unsavedWidget:null,occupiedPositions:[]},iP=Qx({name:"widget",initialState:nP,reducers:{setIsDragging(i,e){i.isDragging=e.payload},setSelected(i,e){i.selectedFillers=e.payload},setUnsavedWidget(i,e){i.unsavedWidget=e.payload},setOccupiedPositions(i,e){i.occupiedPositions=e.payload}}}),rP=iP.reducer,sP=qx({reducer:{widget:rP}});y1.createRoot(document.getElementById("root")).render(We.jsx($1,{domain:"dev-g4ors5whpl8izfzj.eu.auth0.com",clientId:"HlNxH7PrJSEiegWDPJ8aVLFOCV8lU3Zy",authorizationParams:{redirect_uri:window.location.origin,audience:"https://dashboard.nuan.dev/api"},children:We.jsx(_x,{store:sP,children:We.jsx(ix,{})})}));
