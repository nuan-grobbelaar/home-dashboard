(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function aA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var am={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k_;function oA(){if(k_)return Nl;k_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var M_;function lA(){return M_||(M_=1,am.exports=oA()),am.exports}var nt=lA(),om={exports:{}},kl={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function uA(){return x_||(x_=1,function(i){function e(Z,oe){var de=Z.length;Z.push(oe);e:for(;0<de;){var ze=de-1>>>1,M=Z[ze];if(0<o(M,oe))Z[ze]=oe,Z[de]=M,de=ze;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var oe=Z[0],de=Z.pop();if(de!==oe){Z[0]=de;e:for(var ze=0,M=Z.length,ie=M>>>1;ze<ie;){var le=2*(ze+1)-1,se=Z[le],me=le+1,Re=Z[me];if(0>o(se,de))me<M&&0>o(Re,se)?(Z[ze]=Re,Z[me]=de,ze=me):(Z[ze]=se,Z[le]=de,ze=le);else if(me<M&&0>o(Re,de))Z[ze]=Re,Z[me]=de,ze=me;else break e}}return oe}function o(Z,oe){var de=Z.sortIndex-oe.sortIndex;return de!==0?de:Z.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],v=1,T=null,w=3,C=!1,I=!1,z=!1,V=!1,G=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Y(Z){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Z)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function ee(Z){if(z=!1,Y(Z),!I)if(n(p)!==null)I=!0,re||(re=!0,L());else{var oe=n(g);oe!==null&&rt(ee,oe.startTime-Z)}}var re=!1,O=-1,A=5,R=-1;function N(){return V?!0:!(i.unstable_now()-R<A)}function P(){if(V=!1,re){var Z=i.unstable_now();R=Z;var oe=!0;try{e:{I=!1,z&&(z=!1,B(O),O=-1),C=!0;var de=w;try{t:{for(Y(Z),T=n(p);T!==null&&!(T.expirationTime>Z&&N());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,w=T.priorityLevel;var M=ze(T.expirationTime<=Z);if(Z=i.unstable_now(),typeof M=="function"){T.callback=M,Y(Z),oe=!0;break t}T===n(p)&&s(p),Y(Z)}else s(p);T=n(p)}if(T!==null)oe=!0;else{var ie=n(g);ie!==null&&rt(ee,ie.startTime-Z),oe=!1}}break e}finally{T=null,w=de,C=!1}oe=void 0}}finally{oe?L():re=!1}}}var L;if(typeof $=="function")L=function(){$(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,xt=k.port2;k.port1.onmessage=P,L=function(){xt.postMessage(null)}}else L=function(){G(P,0)};function rt(Z,oe){O=G(function(){Z(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Z){Z.callback=null},i.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var de=w;w=oe;try{return Z()}finally{w=de}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=w;w=Z;try{return oe()}finally{w=de}},i.unstable_scheduleCallback=function(Z,oe,de){var ze=i.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,Z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=de+M,Z={id:v++,callback:oe,priorityLevel:Z,startTime:de,expirationTime:M,sortIndex:-1},de>ze?(Z.sortIndex=de,e(g,Z),n(p)===null&&Z===n(g)&&(z?(B(O),O=-1):z=!0,rt(ee,de-ze))):(Z.sortIndex=M,e(p,Z),I||C||(I=!0,re||(re=!0,L()))),Z},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(Z){var oe=w;return function(){var de=w;w=oe;try{return Z.apply(this,arguments)}finally{w=de}}}}(um)),um}var P_;function cA(){return P_||(P_=1,lm.exports=uA()),lm.exports}var cm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function hA(){if(V_)return Se;V_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,z={};function V(M,ie,le){this.props=M,this.context=ie,this.refs=z,this.updater=le||C}V.prototype.isReactComponent={},V.prototype.setState=function(M,ie){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ie,"setState")},V.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=V.prototype;function B(M,ie,le){this.props=M,this.context=ie,this.refs=z,this.updater=le||C}var $=B.prototype=new G;$.constructor=B,I($,V.prototype),$.isPureReactComponent=!0;var Y=Array.isArray,ee={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function O(M,ie,le,se,me,Re){return le=Re.ref,{$$typeof:i,type:M,key:ie,ref:le!==void 0?le:null,props:Re}}function A(M,ie){return O(M.type,ie,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function N(M){var ie={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(le){return ie[le]})}var P=/\/+/g;function L(M,ie){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):ie.toString(36)}function k(){}function xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(k,k):(M.status="pending",M.then(function(ie){M.status==="pending"&&(M.status="fulfilled",M.value=ie)},function(ie){M.status==="pending"&&(M.status="rejected",M.reason=ie)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function rt(M,ie,le,se,me){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var Te=!1;if(M===null)Te=!0;else switch(Re){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(M.$$typeof){case i:case e:Te=!0;break;case v:return Te=M._init,rt(Te(M._payload),ie,le,se,me)}}if(Te)return me=me(M),Te=se===""?"."+L(M,0):se,Y(me)?(le="",Te!=null&&(le=Te.replace(P,"$&/")+"/"),rt(me,ie,le,"",function(Fn){return Fn})):me!=null&&(R(me)&&(me=A(me,le+(me.key==null||M&&M.key===me.key?"":(""+me.key).replace(P,"$&/")+"/")+Te)),ie.push(me)),1;Te=0;var Rt=se===""?".":se+":";if(Y(M))for(var Qe=0;Qe<M.length;Qe++)se=M[Qe],Re=Rt+L(se,Qe),Te+=rt(se,ie,le,Re,me);else if(Qe=w(M),typeof Qe=="function")for(M=Qe.call(M),Qe=0;!(se=M.next()).done;)se=se.value,Re=Rt+L(se,Qe++),Te+=rt(se,ie,le,Re,me);else if(Re==="object"){if(typeof M.then=="function")return rt(xt(M),ie,le,se,me);throw ie=String(M),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Z(M,ie,le){if(M==null)return M;var se=[],me=0;return rt(M,se,"","",function(Re){return ie.call(le,Re,me++)}),se}function oe(M){if(M._status===-1){var ie=M._result;ie=ie(),ie.then(function(le){(M._status===0||M._status===-1)&&(M._status=1,M._result=le)},function(le){(M._status===0||M._status===-1)&&(M._status=2,M._result=le)}),M._status===-1&&(M._status=0,M._result=ie)}if(M._status===1)return M._result.default;throw M._result}var de=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function ze(){}return Se.Children={map:Z,forEach:function(M,ie,le){Z(M,function(){ie.apply(this,arguments)},le)},count:function(M){var ie=0;return Z(M,function(){ie++}),ie},toArray:function(M){return Z(M,function(ie){return ie})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Se.Component=V,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=B,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return ee.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cloneElement=function(M,ie,le){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=I({},M.props),me=M.key,Re=void 0;if(ie!=null)for(Te in ie.ref!==void 0&&(Re=void 0),ie.key!==void 0&&(me=""+ie.key),ie)!re.call(ie,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ie.ref===void 0||(se[Te]=ie[Te]);var Te=arguments.length-2;if(Te===1)se.children=le;else if(1<Te){for(var Rt=Array(Te),Qe=0;Qe<Te;Qe++)Rt[Qe]=arguments[Qe+2];se.children=Rt}return O(M.type,me,void 0,void 0,Re,se)},Se.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Se.createElement=function(M,ie,le){var se,me={},Re=null;if(ie!=null)for(se in ie.key!==void 0&&(Re=""+ie.key),ie)re.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(me[se]=ie[se]);var Te=arguments.length-2;if(Te===1)me.children=le;else if(1<Te){for(var Rt=Array(Te),Qe=0;Qe<Te;Qe++)Rt[Qe]=arguments[Qe+2];me.children=Rt}if(M&&M.defaultProps)for(se in Te=M.defaultProps,Te)me[se]===void 0&&(me[se]=Te[se]);return O(M,Re,void 0,void 0,null,me)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:m,render:M}},Se.isValidElement=R,Se.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:oe}},Se.memo=function(M,ie){return{$$typeof:g,type:M,compare:ie===void 0?null:ie}},Se.startTransition=function(M){var ie=ee.T,le={};ee.T=le;try{var se=M(),me=ee.S;me!==null&&me(le,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ze,de)}catch(Re){de(Re)}finally{ee.T=ie}},Se.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Se.use=function(M){return ee.H.use(M)},Se.useActionState=function(M,ie,le){return ee.H.useActionState(M,ie,le)},Se.useCallback=function(M,ie){return ee.H.useCallback(M,ie)},Se.useContext=function(M){return ee.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,ie){return ee.H.useDeferredValue(M,ie)},Se.useEffect=function(M,ie,le){var se=ee.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(M,ie)},Se.useId=function(){return ee.H.useId()},Se.useImperativeHandle=function(M,ie,le){return ee.H.useImperativeHandle(M,ie,le)},Se.useInsertionEffect=function(M,ie){return ee.H.useInsertionEffect(M,ie)},Se.useLayoutEffect=function(M,ie){return ee.H.useLayoutEffect(M,ie)},Se.useMemo=function(M,ie){return ee.H.useMemo(M,ie)},Se.useOptimistic=function(M,ie){return ee.H.useOptimistic(M,ie)},Se.useReducer=function(M,ie,le){return ee.H.useReducer(M,ie,le)},Se.useRef=function(M){return ee.H.useRef(M)},Se.useState=function(M){return ee.H.useState(M)},Se.useSyncExternalStore=function(M,ie,le){return ee.H.useSyncExternalStore(M,ie,le)},Se.useTransition=function(){return ee.H.useTransition()},Se.version="19.1.0",Se}var L_;function kh(){return L_||(L_=1,cm.exports=hA()),cm.exports}var hm={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function fA(){if(U_)return Gt;U_=1;var i=kh();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},Gt.flushSync=function(p){var g=h.T,v=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=v,s.d.f()}},Gt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:C}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Gt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Gt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Gt.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,g){return p(g)},Gt.useFormState=function(p,g,v){return h.H.useFormState(p,g,v)},Gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var z_;function dA(){if(z_)return hm.exports;z_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),hm.exports=fA(),hm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function mA(){if(B_)return kl;B_=1;var i=cA(),e=kh(),n=dA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case V:return"Profiler";case z:return"StrictMode";case ee:return"Suspense";case re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case $:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case Y:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return r=t.displayName||null,r!==null?r:xt(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return xt(t(r))}catch{}}return null}var rt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],M=-1;function ie(t){return{current:t}}function le(t){0>M||(t.current=ze[M],ze[M]=null,M--)}function se(t,r){M++,ze[M]=t.current,t.current=r}var me=ie(null),Re=ie(null),Te=ie(null),Rt=ie(null);function Qe(t,r){switch(se(Te,r),se(Re,t),se(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=a_(r),t=o_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}le(me),se(me,t)}function Fn(){le(me),le(Re),le(Te)}function ir(t){t.memoizedState!==null&&se(Rt,t);var r=me.current,a=o_(r,t.type);r!==a&&(se(Re,t),se(me,a))}function Ei(t){Re.current===t&&(le(me),le(Re)),Rt.current===t&&(le(Rt),Rl._currentValue=de)}var Wr=Object.prototype.hasOwnProperty,Jr=i.unstable_scheduleCallback,es=i.unstable_cancelCallback,bo=i.unstable_shouldYield,du=i.unstable_requestPaint,En=i.unstable_now,af=i.unstable_getCurrentPriorityLevel,So=i.unstable_ImmediatePriority,Js=i.unstable_UserBlockingPriority,ts=i.unstable_NormalPriority,of=i.unstable_LowPriority,ea=i.unstable_IdlePriority,Ao=i.log,mu=i.unstable_setDisableYieldValue,st=null,He=null;function un(t){if(typeof Ao=="function"&&mu(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(st,t)}catch{}}var qt=Math.clz32?Math.clz32:ns,pu=Math.log,lf=Math.LN2;function ns(t){return t>>>=0,t===0?32:31-(pu(t)/lf|0)|0}var is=256,rs=4194304;function Pn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ta(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Pn(l):(E&=b,E!==0?f=Pn(E):a||(a=b&~t,a!==0&&(f=Pn(a))))):(b=l&~d,b!==0?f=Pn(b):E!==0?f=Pn(E):a||(a=l&~t,a!==0&&(f=Pn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ss(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Ro(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var t=is;return is<<=1,(is&4194048)===0&&(is=256),t}function Io(){var t=rs;return rs<<=1,(rs&62914560)===0&&(rs=4194304),t}function Ti(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function wi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Oo(t,r,a,l,f,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=E&~a;0<a;){var W=31-qt(a),te=1<<W;b[W]=0,D[W]=-1;var K=F[W];if(K!==null)for(F[W]=null,W=0;W<K.length;W++){var X=K[W];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&Gn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function Gn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-qt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Do(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-qt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:R_(t.type))}function gu(t,r){var a=oe.p;try{return oe.p=t,r()}finally{oe.p=a}}var We=Math.random().toString(36).slice(2),_t="__reactFiber$"+We,mt="__reactProps$"+We,Tn="__reactContainer$"+We,No="__reactEvents$"+We,uf="__reactListeners$"+We,ar="__reactHandles$"+We,yu="__reactResources$"+We,as="__reactMarker$"+We;function or(t){delete t[_t],delete t[mt],delete t[No],delete t[uf],delete t[ar]}function bi(t){var r=t[_t];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Tn]||a[_t]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=h_(t);t!==null;){if(a=t[_t])return a;t=h_(t)}return r}t=a,a=t.parentNode}return null}function Kn(t){if(t=t[_t]||t[Tn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Yn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Zt(t){var r=t[yu];return r||(r=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(t){t[as]=!0}var ko=new Set,ia={};function Vn(t,r){Si(t,r),Si(t+"Capture",r)}function Si(t,r){for(ia[t]=r,t=0;t<r.length;t++)ko.add(r[t])}var vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},os={};function Eu(t){return Wr.call(os,t)?!0:Wr.call(_u,t)?!1:vu.test(t)?os[t]=!0:(_u[t]=!0,!1)}function lr(t,r,a){if(Eu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Xn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Pt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var ls,Tu;function Ai(t){if(ls===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ls=r&&r[1]||"",Tu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ls+t+Tu}var ra=!1;function sa(t,r){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var K=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){K=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){K=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var D=E.split(`
`),F=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===F.length)for(l=D.length-1,f=F.length-1;1<=l&&0<=f&&D[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==F[f]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=f);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ai(a):""}function Mo(t){switch(t.tag){case 26:case 27:case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Ai("Activity");default:return""}}function aa(t){try{var r="";do r+=Mo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function cf(t){var r=xo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function oa(t){t._valueTracker||(t._valueTracker=cf(t))}function Po(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=xo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function us(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var hf=/[\n"\\]/g;function pt(t){return t.replace(hf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function cn(t,r,a,l,f,d,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Wt(r)):t.value!==""+Wt(r)&&(t.value=""+Wt(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?ur(t,E,Wt(r)):a!=null?ur(t,E,Wt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Wt(b):t.removeAttribute("name")}function cs(t,r,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+Wt(a):"",r=r!=null?""+Wt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function ur(t,r,a){r==="number"&&us(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ri(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Ge(t,r,a){if(r!=null&&(r=""+Wt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Wt(a):""}function hs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(rt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Wt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var fs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||fs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Vo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&wu(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&wu(t,d,r[d])}function Lo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return df.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ci=null;function bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Oi=null;function Uo(t){var r=Kn(t);if(r&&(t=r.stateNode)){var a=t[mt]||null;e:switch(t=r.stateNode,r.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[mt]||null;if(!f)throw Error(s(90));cn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Po(l)}break e;case"textarea":Ge(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ri(t,!!a.multiple,r,!1)}}}var $n=!1;function bu(t,r,a){if($n)return t(r,a);$n=!0;try{var l=t(r);return l}finally{if($n=!1,(Ii!==null||Oi!==null)&&(gc(),Ii&&(r=Ii,t=Oi,Oi=Ii=null,Uo(r),t)))for(r=0;r<t.length;r++)Uo(t[r])}}function ds(t,r){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Ln)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{Sn=!1}var Qn=null,cr=null,Di=null;function zo(){if(Di)return Di;var t,r=cr,a=r.length,l,f="value"in Qn?Qn.value:Qn.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return Di=f.slice(t,1<l?1-l:void 0)}function Zn(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function Bo(){return!1}function Ct(t){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:Bo,this.isPropagationStopped=Bo,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),r}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Ct(je),ps=v({},je,{view:0,detail:0}),Su=Ct(ps),ca,ha,Jn,gs=v({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(ca=t.screenX-Jn.screenX,ha=t.screenY-Jn.screenY):ha=ca=0,Jn=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),An=Ct(gs),Au=v({},gs,{dataTransfer:0}),mf=Ct(Au),ys=v({},ps,{relatedTarget:0}),fa=Ct(ys),jo=v({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),da=Ct(jo),Ru=v({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ma=Ct(Ru),pf=v({},je,{data:0}),Ho=Ct(pf),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Iu[t])?!!r[t]:!1}function _s(){return qo}var Ou=v({},ps,{key:function(t){if(t.key){var r=vs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?Zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pa=Ct(Ou),Du=v({},gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Ct(Du),Ni=v({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Nu=Ct(Ni),ku=v({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Ct(ku),xu=v({},gs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Ct(xu),Jt=v({},je,{newState:0,oldState:0}),Pu=Ct(Jt),Vu=[9,13,27,32],ei=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var y=Ln&&"TextEvent"in window&&!c,_=Ln&&(!ei||c&&8<c&&11>=c),S=" ",j=!1;function Q(t,r){switch(t){case"keyup":return Vu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function Et(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(j=!0,S);case"textInput":return t=r.data,t===S&&j?null:t;default:return null}}function Me(t,r){if(ke)return t==="compositionend"||!ei&&Q(t,r)?(t=zo(),Di=cr=Qn=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var It={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!It[t.type]:r==="textarea"}function ki(t,r,a,l){Ii?Oi?Oi.push(l):Oi=[l]:Ii=l,r=wc(r,"onChange"),0<r.length&&(a=new ua("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Vt=null,ti=null;function Go(t){t_(t,0)}function Lu(t){var r=Yn(t);if(Po(r))return t}function wg(t,r){if(t==="change")return r}var bg=!1;if(Ln){var gf;if(Ln){var yf="oninput"in document;if(!yf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),yf=typeof Sg.oninput=="function"}gf=yf}else gf=!1;bg=gf&&(!document.documentMode||9<document.documentMode)}function Ag(){Vt&&(Vt.detachEvent("onpropertychange",Rg),ti=Vt=null)}function Rg(t){if(t.propertyName==="value"&&Lu(ti)){var r=[];ki(r,ti,t,bn(t)),bu(Go,r)}}function Vb(t,r,a){t==="focusin"?(Ag(),Vt=r,ti=a,Vt.attachEvent("onpropertychange",Rg)):t==="focusout"&&Ag()}function Lb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(ti)}function Ub(t,r){if(t==="click")return Lu(r)}function zb(t,r){if(t==="input"||t==="change")return Lu(r)}function Bb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var hn=typeof Object.is=="function"?Object.is:Bb;function Ko(t,r){if(hn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Wr.call(r,f)||!hn(t[f],r[f]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,r){var a=Cg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Cg(a)}}function Og(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Og(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=us(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=us(t.document)}return r}function vf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var jb=Ln&&"documentMode"in document&&11>=document.documentMode,ya=null,_f=null,Yo=null,Ef=!1;function Ng(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||ya==null||ya!==us(l)||(l=ya,"selectionStart"in l&&vf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yo&&Ko(Yo,l)||(Yo=l,l=wc(_f,"onSelect"),0<l.length&&(r=new ua("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ya)))}function Es(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var va={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Tf={},kg={};Ln&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete va.animationend.animation,delete va.animationiteration.animation,delete va.animationstart.animation),"TransitionEvent"in window||delete va.transitionend.transition);function Ts(t){if(Tf[t])return Tf[t];if(!va[t])return t;var r=va[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in kg)return Tf[t]=r[a];return t}var Mg=Ts("animationend"),xg=Ts("animationiteration"),Pg=Ts("animationstart"),Hb=Ts("transitionrun"),qb=Ts("transitionstart"),Fb=Ts("transitioncancel"),Vg=Ts("transitionend"),Lg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Un(t,r){Lg.set(t,r),Vn(r,[t])}var Ug=new WeakMap;function Rn(t,r){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(r={value:t,source:r,stack:aa(r)},Ug.set(t,r),r)}return{value:t,source:r,stack:aa(r)}}var Cn=[],_a=0,bf=0;function Uu(){for(var t=_a,r=bf=_a=0;r<t;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var f=Cn[r];Cn[r++]=null;var d=Cn[r];if(Cn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&zg(a,f,d)}}function zu(t,r,a,l){Cn[_a++]=t,Cn[_a++]=r,Cn[_a++]=a,Cn[_a++]=l,bf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,r,a,l){return zu(t,r,a,l),Bu(t)}function Ea(t,r){return zu(t,null,null,r),Bu(t)}function zg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-qt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Bu(t){if(50<vl)throw vl=0,Dd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ta={};function Gb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,a,l){return new Gb(t,r,a,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mi(t,r){var a=t.alternate;return a===null?(a=fn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ju(t,r,a,l,f,d){var E=0;if(l=t,typeof t=="function")Af(t)&&(E=1);else if(typeof t=="string")E=YS(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=fn(31,a,r,f),t.elementType=R,t.lanes=d,t;case I:return ws(a.children,f,d,r);case z:E=8,f|=24;break;case V:return t=fn(12,a,r,f|2),t.elementType=V,t.lanes=d,t;case ee:return t=fn(13,a,r,f),t.elementType=ee,t.lanes=d,t;case re:return t=fn(19,a,r,f),t.elementType=re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case $:E=10;break e;case B:E=9;break e;case Y:E=11;break e;case O:E=14;break e;case A:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=fn(E,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function ws(t,r,a,l){return t=fn(7,t,l,r),t.lanes=a,t}function Rf(t,r,a){return t=fn(6,t,null,r),t.lanes=a,t}function Cf(t,r,a){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var wa=[],ba=0,Hu=null,qu=0,In=[],On=0,bs=null,xi=1,Pi="";function Ss(t,r){wa[ba++]=qu,wa[ba++]=Hu,Hu=t,qu=r}function jg(t,r,a){In[On++]=xi,In[On++]=Pi,In[On++]=bs,bs=t;var l=xi;t=Pi;var f=32-qt(l)-1;l&=~(1<<f),a+=1;var d=32-qt(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,xi=1<<32-qt(r)+f|a<<f|l,Pi=d+t}else xi=1<<d|a<<f|l,Pi=t}function If(t){t.return!==null&&(Ss(t,1),jg(t,1,0))}function Of(t){for(;t===Hu;)Hu=wa[--ba],wa[ba]=null,qu=wa[--ba],wa[ba]=null;for(;t===bs;)bs=In[--On],In[On]=null,Pi=In[--On],In[On]=null,xi=In[--On],In[On]=null}var en=null,at=null,Be=!1,As=null,ni=!1,Df=Error(s(519));function Rs(t){var r=Error(s(418,""));throw Qo(Rn(r,t)),Df}function Hg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[_t]=t,r[mt]=l,a){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(a=0;a<El.length;a++)De(El[a],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":De("invalid",r),cs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oa(r);break;case"select":De("invalid",r);break;case"textarea":De("invalid",r),hs(r,l.value,l.defaultValue,l.children),oa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||s_(r.textContent,a)?(l.popover!=null&&(De("beforetoggle",r),De("toggle",r)),l.onScroll!=null&&De("scroll",r),l.onScrollEnd!=null&&De("scrollend",r),l.onClick!=null&&(r.onclick=bc),r=!0):r=!1,r||Rs(t)}function qg(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:en=en.return}}function Xo(t){if(t!==en)return!1;if(!Be)return qg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&at&&Rs(t),qg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){at=Bn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}at=null}}else r===27?(r=at,Rr(t.type)?(t=Qd,Qd=null,at=t):at=r):at=en?Bn(t.stateNode.nextSibling):null;return!0}function $o(){at=en=null,Be=!1}function Fg(){var t=As;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),As=null),t}function Qo(t){As===null?As=[t]:As.push(t)}var Nf=ie(null),Cs=null,Vi=null;function hr(t,r,a){se(Nf,r._currentValue),r._currentValue=a}function Li(t){t._currentValue=Nf.current,le(Nf)}function kf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Mf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),kf(d.return,a,t),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),kf(E,a,t),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===t){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Zo(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;hn(f.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(f===Rt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}f=f.return}t!==null&&Mf(r,t,a,l),r.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Cs=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Gg(Cs,t)}function Gu(t,r){return Cs===null&&Is(t),Gg(t,r)}function Gg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Vi=Vi.next=r;return a}var Kb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Yb=i.unstable_scheduleCallback,Xb=i.unstable_NormalPriority,wt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new Kb,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&Yb(Xb,function(){t.controller.abort()})}var Jo=null,Pf=0,Sa=0,Aa=null;function $b(t,r){if(Jo===null){var a=Jo=[];Pf=0,Sa=Ld(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pf++,r.then(Kg,Kg),r}function Kg(){if(--Pf===0&&Jo!==null){Aa!==null&&(Aa.status="fulfilled");var t=Jo;Jo=null,Sa=0,Aa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Qb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Yg=Z.S;Z.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&$b(t,r),Yg!==null&&Yg(t,r)};var Os=ie(null);function Vf(){var t=Os.current;return t!==null?t:Ze.pooledCache}function Ku(t,r){r===null?se(Os,Os.current):se(Os,r.pool)}function Xg(){var t=Vf();return t===null?null:{parent:wt._currentValue,pool:t}}var el=Error(s(460)),$g=Error(s(474)),Yu=Error(s(542)),Lf={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function Zg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Xu,Xu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t;default:if(typeof r.status=="string")r.then(Xu,Xu);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t}throw tl=r,el}}var tl=null;function Wg(){if(tl===null)throw Error(s(459));var t=tl;return tl=null,t}function Jg(t){if(t===el||t===Yu)throw Error(s(483))}var fr=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Bu(t),zg(t,null,a),r}return zu(t,l,r,a),Bu(t)}function nl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Do(t,a)}}function Bf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var jf=!1;function il(){if(jf){var t=Aa;if(t!==null)throw t}}function rl(t,r,a,l){jf=!1;var f=t.updateQueue;fr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,F=D.next;D.next=null,E===null?d=F:E.next=F,E=D;var W=t.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=F:b.next=F,W.lastBaseUpdate=D))}if(d!==null){var te=f.baseState;E=0,W=F=D=null,b=d;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(xe&K)===K:(l&K)===K){K!==0&&K===Sa&&(jf=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ve=t,pe=b;K=r;var Xe=a;switch(pe.tag){case 1:if(ve=pe.payload,typeof ve=="function"){te=ve.call(Xe,te,K);break e}te=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=pe.payload,K=typeof ve=="function"?ve.call(Xe,te,K):ve,K==null)break e;te=v({},te,K);break e;case 2:fr=!0}}K=b.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(F=W=X,D=te):W=W.next=X,E|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);W===null&&(D=te),f.baseState=D,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),wr|=E,t.lanes=E,t.memoizedState=te}}function ey(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ty(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],r)}var Ra=ie(null),$u=ie(0);function ny(t,r){t=Fi,se($u,t),se(Ra,r),Fi=t|r.baseLanes}function Hf(){se($u,Fi),se(Ra,Ra.current)}function qf(){Fi=$u.current,le(Ra),le($u)}var pr=0,Ae=null,Ke=null,gt=null,Qu=!1,Ca=!1,Ds=!1,Zu=0,sl=0,Ia=null,Zb=0;function ct(){throw Error(s(321))}function Ff(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!hn(t[a],r[a]))return!1;return!0}function Gf(t,r,a,l,f,d){return pr=d,Ae=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Z.H=t===null||t.memoizedState===null?zy:By,Ds=!1,d=a(l,f),Ds=!1,Ca&&(d=ry(r,a,l,f)),iy(t),d}function iy(t){Z.H=ic;var r=Ke!==null&&Ke.next!==null;if(pr=0,gt=Ke=Ae=null,Qu=!1,sl=0,Ia=null,r)throw Error(s(300));t===null||Ot||(t=t.dependencies,t!==null&&Fu(t)&&(Ot=!0))}function ry(t,r,a,l){Ae=t;var f=0;do{if(Ca&&(Ia=null),sl=0,Ca=!1,25<=f)throw Error(s(301));if(f+=1,gt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Z.H=rS,d=r(a,l)}while(Ca);return d}function Wb(){var t=Z.H,r=t.useState()[0];return r=typeof r.then=="function"?al(r):r,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Ae.flags|=1024),r}function Kf(){var t=Zu!==0;return Zu=0,t}function Yf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Xf(t){if(Qu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Qu=!1}pr=0,gt=Ke=Ae=null,Ca=!1,sl=Zu=0,Ia=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ae.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ke===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var r=gt===null?Ae.memoizedState:gt.next;if(r!==null)gt=r,Ke=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},gt===null?Ae.memoizedState=gt=t:gt=gt.next=t}return gt}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var r=sl;return sl+=1,Ia===null&&(Ia=[]),t=Zg(Ia,t,r),r=Ae,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,Z.H=r===null||r.memoizedState===null?zy:By),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===$)return Ft(t)}throw Error(s(438,String(t)))}function Qf(t){var r=null,a=Ae.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=$f(),Ae.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function Ui(t,r){return typeof r=="function"?r(t):r}function Ju(t){var r=yt();return Zf(r,Ke,t)}function Zf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=E=null,D=null,F=r,W=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(xe&te)===te:(pr&te)===te){var K=F.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Sa&&(W=!0);else if((pr&K)===K){F=F.next,K===Sa&&(W=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=te,E=d):D=D.next=te,Ae.lanes|=K,wr|=K;te=F.action,Ds&&a(d,te),d=F.hasEagerState?F.eagerState:a(d,te)}else K={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=K,E=d):D=D.next=K,Ae.lanes|=te,wr|=te;F=F.next}while(F!==null&&F!==r);if(D===null?E=d:D.next=b,!hn(d,t.memoizedState)&&(Ot=!0,W&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=t(d,E.action),E=E.next;while(E!==f);hn(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function sy(t,r,a){var l=Ae,f=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!hn((Ke||f).memoizedState,a);E&&(f.memoizedState=a,Ot=!0),f=f.queue;var b=ly.bind(null,l,f,t);if(ol(2048,8,b,[t]),f.getSnapshot!==r||E||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,ec(),oy.bind(null,l,f,a,r),null),Ze===null)throw Error(s(349));d||(pr&124)!==0||ay(l,r,a)}return a}function ay(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ae.updateQueue,r===null?(r=$f(),Ae.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function oy(t,r,a,l){r.value=a,r.getSnapshot=l,uy(r)&&cy(t)}function ly(t,r,a){return a(function(){uy(r)&&cy(t)})}function uy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!hn(t,a)}catch{return!0}}function cy(t){var r=Ea(t,2);r!==null&&yn(r,t,2)}function Jf(t){var r=nn();if(typeof t=="function"){var a=t;if(t=a(),Ds){un(!0);try{a()}finally{un(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},r}function hy(t,r,a,l){return t.baseState=a,Zf(t,Ke,typeof l=="function"?l:Ui)}function Jb(t,r,a,l,f){if(nc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};Z.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,fy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function fy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=Z.T,E={};Z.T=E;try{var b=a(f,l),D=Z.S;D!==null&&D(E,b),dy(t,r,b)}catch(F){ed(t,r,F)}finally{Z.T=d}}else try{d=a(f,l),dy(t,r,d)}catch(F){ed(t,r,F)}}function dy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){my(t,r,l)},function(l){return ed(t,r,l)}):my(t,r,a)}function my(t,r,a){r.status="fulfilled",r.value=a,py(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,fy(t,a)))}function ed(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,py(r),r=r.next;while(r!==l)}t.action=null}function py(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function gy(t,r){return r}function yy(t,r){if(Be){var a=Ze.formState;if(a!==null){e:{var l=Ae;if(Be){if(at){t:{for(var f=at,d=ni;f.nodeType!==8;){if(!d){f=null;break t}if(f=Bn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){at=Bn(f.nextSibling),l=f.data==="F!";break e}}Rs(l)}l=!1}l&&(r=a[0])}}return a=nn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gy,lastRenderedState:r},a.queue=l,a=Vy.bind(null,Ae,l),l.dispatch=a,l=Jf(!1),d=sd.bind(null,Ae,!1,l.queue),l=nn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=Jb.bind(null,Ae,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function vy(t){var r=yt();return _y(r,Ke,t)}function _y(t,r,a){if(r=Zf(t,r,gy)[0],t=Ju(Ui)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=al(r)}catch(E){throw E===el?Yu:E}else l=r;r=yt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ae.flags|=2048,Oa(9,ec(),eS.bind(null,f,a),null)),[l,d,t]}function eS(t,r){t.action=r}function Ey(t){var r=yt(),a=Ke;if(a!==null)return _y(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Oa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ae.updateQueue,r===null&&(r=$f(),Ae.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function ec(){return{destroy:void 0,resource:void 0}}function Ty(){return yt().memoizedState}function tc(t,r,a,l){var f=nn();l=l===void 0?null:l,Ae.flags|=t,f.memoizedState=Oa(1|r,ec(),a,l)}function ol(t,r,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Ke!==null&&l!==null&&Ff(l,Ke.memoizedState.deps)?f.memoizedState=Oa(r,d,a,l):(Ae.flags|=t,f.memoizedState=Oa(1|r,d,a,l))}function wy(t,r){tc(8390656,8,t,r)}function by(t,r){ol(2048,8,t,r)}function Sy(t,r){return ol(4,2,t,r)}function Ay(t,r){return ol(4,4,t,r)}function Ry(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cy(t,r,a){a=a!=null?a.concat([t]):null,ol(4,4,Ry.bind(null,r,t),a)}function td(){}function Iy(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ff(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Oy(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ff(r,l[1]))return l[0];if(l=t(),Ds){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l}function nd(t,r,a){return a===void 0||(pr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=kv(),Ae.lanes|=t,wr|=t,a)}function Dy(t,r,a,l){return hn(a,r)?a:Ra.current!==null?(t=nd(t,a,l),hn(t,r)||(Ot=!0),t):(pr&42)===0?(Ot=!0,t.memoizedState=a):(t=kv(),Ae.lanes|=t,wr|=t,r)}function Ny(t,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=Z.T,b={};Z.T=b,sd(t,!1,r,a);try{var D=f(),F=Z.S;if(F!==null&&F(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=Qb(D,l);ll(t,r,W,gn(t))}else ll(t,r,l,gn(t))}catch(te){ll(t,r,{then:function(){},status:"rejected",reason:te},gn())}finally{oe.p=d,Z.T=E}}function tS(){}function id(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=ky(t).queue;Ny(t,f,r,de,a===null?tS:function(){return My(t),a(l)})}function ky(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:de},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function My(t){var r=ky(t).next.queue;ll(t,r,{},gn())}function rd(){return Ft(Rl)}function xy(){return yt().memoizedState}function Py(){return yt().memoizedState}function nS(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=gn();t=dr(a);var l=mr(r,t,a);l!==null&&(yn(l,r,a),nl(l,r,a)),r={cache:xf()},t.payload=r;return}r=r.return}}function iS(t,r,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?Ly(r,a):(a=Sf(t,r,a,l),a!==null&&(yn(a,t,l),Uy(a,r,l)))}function Vy(t,r,a){var l=gn();ll(t,r,a,l)}function ll(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Ly(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,hn(b,E))return zu(t,r,f,0),Ze===null&&Uu(),!1}catch{}finally{}if(a=Sf(t,r,f,l),a!==null)return yn(a,t,l),Uy(a,r,l),!0}return!1}function sd(t,r,a,l){if(l={lane:2,revertLane:Ld(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(r)throw Error(s(479))}else r=Sf(t,a,l,2),r!==null&&yn(r,t,2)}function nc(t){var r=t.alternate;return t===Ae||r!==null&&r===Ae}function Ly(t,r){Ca=Qu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Uy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Do(t,a)}}var ic={readContext:Ft,use:Wu,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},zy={readContext:Ft,use:Wu,useCallback:function(t,r){return nn().memoizedState=[t,r===void 0?null:r],t},useContext:Ft,useEffect:wy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Ry.bind(null,r,t),a)},useLayoutEffect:function(t,r){return tc(4194308,4,t,r)},useInsertionEffect:function(t,r){tc(4,2,t,r)},useMemo:function(t,r){var a=nn();r=r===void 0?null:r;var l=t();if(Ds){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=nn();if(a!==void 0){var f=a(r);if(Ds){un(!0);try{a(r)}finally{un(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=iS.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var r=nn();return t={current:t},r.memoizedState=t},useState:function(t){t=Jf(t);var r=t.queue,a=Vy.bind(null,Ae,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,r){var a=nn();return nd(a,t,r)},useTransition:function(){var t=Jf(!1);return t=Ny.bind(null,Ae,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ae,f=nn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Ze===null)throw Error(s(349));(xe&124)!==0||ay(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,wy(ly.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,ec(),oy.bind(null,l,d,a,r),null),a},useId:function(){var t=nn(),r=Ze.identifierPrefix;if(Be){var a=Pi,l=xi;a=(l&~(1<<32-qt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Zu++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=Zb++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:rd,useFormState:yy,useActionState:yy,useOptimistic:function(t){var r=nn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=sd.bind(null,Ae,!0,a),a.dispatch=r,[t,r]},useMemoCache:Qf,useCacheRefresh:function(){return nn().memoizedState=nS.bind(null,Ae)}},By={readContext:Ft,use:Wu,useCallback:Iy,useContext:Ft,useEffect:by,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Oy,useReducer:Ju,useRef:Ty,useState:function(){return Ju(Ui)},useDebugValue:td,useDeferredValue:function(t,r){var a=yt();return Dy(a,Ke.memoizedState,t,r)},useTransition:function(){var t=Ju(Ui)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:al(t),r]},useSyncExternalStore:sy,useId:xy,useHostTransitionStatus:rd,useFormState:vy,useActionState:vy,useOptimistic:function(t,r){var a=yt();return hy(a,Ke,t,r)},useMemoCache:Qf,useCacheRefresh:Py},rS={readContext:Ft,use:Wu,useCallback:Iy,useContext:Ft,useEffect:by,useImperativeHandle:Cy,useInsertionEffect:Sy,useLayoutEffect:Ay,useMemo:Oy,useReducer:Wf,useRef:Ty,useState:function(){return Wf(Ui)},useDebugValue:td,useDeferredValue:function(t,r){var a=yt();return Ke===null?nd(a,t,r):Dy(a,Ke.memoizedState,t,r)},useTransition:function(){var t=Wf(Ui)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:al(t),r]},useSyncExternalStore:sy,useId:xy,useHostTransitionStatus:rd,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var a=yt();return Ke!==null?hy(a,Ke,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Py},Da=null,ul=0;function rc(t){var r=ul;return ul+=1,Da===null&&(Da=[]),Zg(Da,t,r)}function cl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function sc(t,r){throw r.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function jy(t){var r=t._init;return r(t._payload)}function Hy(t){function r(U,x){if(t){var H=U.deletions;H===null?(U.deletions=[x],U.flags|=16):H.push(x)}}function a(U,x){if(!t)return null;for(;x!==null;)r(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function f(U,x){return U=Mi(U,x),U.index=0,U.sibling=null,U}function d(U,x,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<x?(U.flags|=67108866,x):H):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,x,H,J){return x===null||x.tag!==6?(x=Rf(H,U.mode,J),x.return=U,x):(x=f(x,H),x.return=U,x)}function D(U,x,H,J){var he=H.type;return he===I?W(U,x,H.props.children,J,H.key):x!==null&&(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&jy(he)===x.type)?(x=f(x,H.props),cl(x,H),x.return=U,x):(x=ju(H.type,H.key,H.props,null,U.mode,J),cl(x,H),x.return=U,x)}function F(U,x,H,J){return x===null||x.tag!==4||x.stateNode.containerInfo!==H.containerInfo||x.stateNode.implementation!==H.implementation?(x=Cf(H,U.mode,J),x.return=U,x):(x=f(x,H.children||[]),x.return=U,x)}function W(U,x,H,J,he){return x===null||x.tag!==7?(x=ws(H,U.mode,J,he),x.return=U,x):(x=f(x,H),x.return=U,x)}function te(U,x,H){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Rf(""+x,U.mode,H),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case w:return H=ju(x.type,x.key,x.props,null,U.mode,H),cl(H,x),H.return=U,H;case C:return x=Cf(x,U.mode,H),x.return=U,x;case A:var J=x._init;return x=J(x._payload),te(U,x,H)}if(rt(x)||L(x))return x=ws(x,U.mode,H,null),x.return=U,x;if(typeof x.then=="function")return te(U,rc(x),H);if(x.$$typeof===$)return te(U,Gu(U,x),H);sc(U,x)}return null}function K(U,x,H,J){var he=x!==null?x.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return he!==null?null:b(U,x,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===he?D(U,x,H,J):null;case C:return H.key===he?F(U,x,H,J):null;case A:return he=H._init,H=he(H._payload),K(U,x,H,J)}if(rt(H)||L(H))return he!==null?null:W(U,x,H,J,null);if(typeof H.then=="function")return K(U,x,rc(H),J);if(H.$$typeof===$)return K(U,x,Gu(U,H),J);sc(U,H)}return null}function X(U,x,H,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(H)||null,b(x,U,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return U=U.get(J.key===null?H:J.key)||null,D(x,U,J,he);case C:return U=U.get(J.key===null?H:J.key)||null,F(x,U,J,he);case A:var Ce=J._init;return J=Ce(J._payload),X(U,x,H,J,he)}if(rt(J)||L(J))return U=U.get(H)||null,W(x,U,J,he,null);if(typeof J.then=="function")return X(U,x,H,rc(J),he);if(J.$$typeof===$)return X(U,x,H,Gu(x,J),he);sc(x,J)}return null}function ve(U,x,H,J){for(var he=null,Ce=null,fe=x,ge=x=0,Nt=null;fe!==null&&ge<H.length;ge++){fe.index>ge?(Nt=fe,fe=null):Nt=fe.sibling;var Ue=K(U,fe,H[ge],J);if(Ue===null){fe===null&&(fe=Nt);break}t&&fe&&Ue.alternate===null&&r(U,fe),x=d(Ue,x,ge),Ce===null?he=Ue:Ce.sibling=Ue,Ce=Ue,fe=Nt}if(ge===H.length)return a(U,fe),Be&&Ss(U,ge),he;if(fe===null){for(;ge<H.length;ge++)fe=te(U,H[ge],J),fe!==null&&(x=d(fe,x,ge),Ce===null?he=fe:Ce.sibling=fe,Ce=fe);return Be&&Ss(U,ge),he}for(fe=l(fe);ge<H.length;ge++)Nt=X(fe,U,ge,H[ge],J),Nt!==null&&(t&&Nt.alternate!==null&&fe.delete(Nt.key===null?ge:Nt.key),x=d(Nt,x,ge),Ce===null?he=Nt:Ce.sibling=Nt,Ce=Nt);return t&&fe.forEach(function(Nr){return r(U,Nr)}),Be&&Ss(U,ge),he}function pe(U,x,H,J){if(H==null)throw Error(s(151));for(var he=null,Ce=null,fe=x,ge=x=0,Nt=null,Ue=H.next();fe!==null&&!Ue.done;ge++,Ue=H.next()){fe.index>ge?(Nt=fe,fe=null):Nt=fe.sibling;var Nr=K(U,fe,Ue.value,J);if(Nr===null){fe===null&&(fe=Nt);break}t&&fe&&Nr.alternate===null&&r(U,fe),x=d(Nr,x,ge),Ce===null?he=Nr:Ce.sibling=Nr,Ce=Nr,fe=Nt}if(Ue.done)return a(U,fe),Be&&Ss(U,ge),he;if(fe===null){for(;!Ue.done;ge++,Ue=H.next())Ue=te(U,Ue.value,J),Ue!==null&&(x=d(Ue,x,ge),Ce===null?he=Ue:Ce.sibling=Ue,Ce=Ue);return Be&&Ss(U,ge),he}for(fe=l(fe);!Ue.done;ge++,Ue=H.next())Ue=X(fe,U,ge,Ue.value,J),Ue!==null&&(t&&Ue.alternate!==null&&fe.delete(Ue.key===null?ge:Ue.key),x=d(Ue,x,ge),Ce===null?he=Ue:Ce.sibling=Ue,Ce=Ue);return t&&fe.forEach(function(sA){return r(U,sA)}),Be&&Ss(U,ge),he}function Xe(U,x,H,J){if(typeof H=="object"&&H!==null&&H.type===I&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var he=H.key;x!==null;){if(x.key===he){if(he=H.type,he===I){if(x.tag===7){a(U,x.sibling),J=f(x,H.props.children),J.return=U,U=J;break e}}else if(x.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===A&&jy(he)===x.type){a(U,x.sibling),J=f(x,H.props),cl(J,H),J.return=U,U=J;break e}a(U,x);break}else r(U,x);x=x.sibling}H.type===I?(J=ws(H.props.children,U.mode,J,H.key),J.return=U,U=J):(J=ju(H.type,H.key,H.props,null,U.mode,J),cl(J,H),J.return=U,U=J)}return E(U);case C:e:{for(he=H.key;x!==null;){if(x.key===he)if(x.tag===4&&x.stateNode.containerInfo===H.containerInfo&&x.stateNode.implementation===H.implementation){a(U,x.sibling),J=f(x,H.children||[]),J.return=U,U=J;break e}else{a(U,x);break}else r(U,x);x=x.sibling}J=Cf(H,U.mode,J),J.return=U,U=J}return E(U);case A:return he=H._init,H=he(H._payload),Xe(U,x,H,J)}if(rt(H))return ve(U,x,H,J);if(L(H)){if(he=L(H),typeof he!="function")throw Error(s(150));return H=he.call(H),pe(U,x,H,J)}if(typeof H.then=="function")return Xe(U,x,rc(H),J);if(H.$$typeof===$)return Xe(U,x,Gu(U,H),J);sc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,x!==null&&x.tag===6?(a(U,x.sibling),J=f(x,H),J.return=U,U=J):(a(U,x),J=Rf(H,U.mode,J),J.return=U,U=J),E(U)):a(U,x)}return function(U,x,H,J){try{ul=0;var he=Xe(U,x,H,J);return Da=null,he}catch(fe){if(fe===el||fe===Yu)throw fe;var Ce=fn(29,fe,null,U.mode);return Ce.lanes=J,Ce.return=U,Ce}finally{}}}var Na=Hy(!0),qy=Hy(!1),Dn=ie(null),ii=null;function gr(t){var r=t.alternate;se(bt,bt.current&1),se(Dn,t),ii===null&&(r===null||Ra.current!==null||r.memoizedState!==null)&&(ii=t)}function Fy(t){if(t.tag===22){if(se(bt,bt.current),se(Dn,t),ii===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ii=t)}}else yr()}function yr(){se(bt,bt.current),se(Dn,Dn.current)}function zi(t){le(Dn),ii===t&&(ii=null),le(bt)}var bt=ie(0);function ac(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$d(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ad(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var od={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=gn(),f=dr(l);f.payload=r,a!=null&&(f.callback=a),r=mr(t,f,l),r!==null&&(yn(r,t,l),nl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=gn(),f=dr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=mr(t,f,l),r!==null&&(yn(r,t,l),nl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=gn(),l=dr(a);l.tag=2,r!=null&&(l.callback=r),r=mr(t,l,a),r!==null&&(yn(r,t,a),nl(r,t,a))}};function Gy(t,r,a,l,f,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Ko(a,l)||!Ko(f,d):!0}function Ky(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&od.enqueueReplaceState(r,r.state,null)}function Ns(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Yy(t){oc(t)}function Xy(t){console.error(t)}function $y(t){oc(t)}function lc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Qy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ld(t,r,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){lc(t,r)},a}function Zy(t){return t=dr(t),t.tag=3,t}function Wy(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Qy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Qy(r,a,l),typeof f!="function"&&(br===null?br=new Set([this]):br.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function sS(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Zo(r,a,f,!0),a=Dn.current,a!==null){switch(a.tag){case 13:return ii===null?kd():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Lf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),xd(t,l,f)),!1;case 22:return a.flags|=65536,l===Lf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),xd(t,l,f)),!1}throw Error(s(435,a.tag))}return xd(t,l,f),kd(),!1}if(Be)return r=Dn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Df&&(t=Error(s(422),{cause:l}),Qo(Rn(t,a)))):(l!==Df&&(r=Error(s(423),{cause:l}),Qo(Rn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Rn(l,a),f=ld(t.stateNode,l,f),Bf(t,f),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),yl===null?yl=[d]:yl.push(d),ot!==4&&(ot=2),r===null)return!0;l=Rn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=ld(a.stateNode,l,t),Bf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Zy(f),Wy(f,t,a,l),Bf(a,f),!1}a=a.return}while(a!==null);return!1}var Jy=Error(s(461)),Ot=!1;function Lt(t,r,a,l){r.child=t===null?qy(r,null,a,l):Na(r,t.child,a,l)}function ev(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Is(r),l=Gf(t,r,a,E,d,f),b=Kf(),t!==null&&!Ot?(Yf(t,r,f),Bi(t,r,f)):(Be&&b&&If(r),r.flags|=1,Lt(t,r,l,f),r.child)}function tv(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Af(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,nv(t,r,d,l,f)):(t=ju(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!gd(t,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(E,l)&&t.ref===r.ref)return Bi(t,r,f)}return r.flags|=1,t=Mi(d,l),t.ref=r.ref,t.return=r,r.child=t}function nv(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=l=d,gd(t,f))(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,Bi(t,r,f)}return ud(t,r,a,l,f)}function iv(t,r,a){var l=r.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return rv(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ku(r,d!==null?d.cachePool:null),d!==null?ny(r,d):Hf(),Fy(r);else return r.lanes=r.childLanes=536870912,rv(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ku(r,d.cachePool),ny(r,d),yr(),r.memoizedState=null):(t!==null&&Ku(r,null),Hf(),yr());return Lt(t,r,f,a),r.child}function rv(t,r,a,l){var f=Vf();return f=f===null?null:{parent:wt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&Ku(r,null),Hf(),Fy(r),t!==null&&Zo(t,r,l,!0),null}function uc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ud(t,r,a,l,f){return Is(r),a=Gf(t,r,a,l,void 0,f),l=Kf(),t!==null&&!Ot?(Yf(t,r,f),Bi(t,r,f)):(Be&&l&&If(r),r.flags|=1,Lt(t,r,a,f),r.child)}function sv(t,r,a,l,f,d){return Is(r),r.updateQueue=null,a=ry(r,l,a,f),iy(t),l=Kf(),t!==null&&!Ot?(Yf(t,r,d),Bi(t,r,d)):(Be&&l&&If(r),r.flags|=1,Lt(t,r,a,d),r.child)}function av(t,r,a,l,f){if(Is(r),r.stateNode===null){var d=Ta,E=a.contextType;typeof E=="object"&&E!==null&&(d=Ft(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=od,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Uf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Ft(E):Ta,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ad(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&od.enqueueReplaceState(d,d.state,null),rl(r,l,d,f),il(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,D=Ns(a,b);d.props=D;var F=d.context,W=a.contextType;E=Ta,typeof W=="object"&&W!==null&&(E=Ft(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==E)&&Ky(r,d,l,E),fr=!1;var K=r.memoizedState;d.state=K,rl(r,l,d,f),il(),F=r.memoizedState,b||K!==F||fr?(typeof te=="function"&&(ad(r,a,te,l),F=r.memoizedState),(D=fr||Gy(r,a,D,l,K,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=E,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,zf(t,r),E=r.memoizedProps,W=Ns(a,E),d.props=W,te=r.pendingProps,K=d.context,F=a.contextType,D=Ta,typeof F=="object"&&F!==null&&(D=Ft(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||K!==D)&&Ky(r,d,l,D),fr=!1,K=r.memoizedState,d.state=K,rl(r,l,d,f),il();var X=r.memoizedState;E!==te||K!==X||fr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof b=="function"&&(ad(r,a,b,l),X=r.memoizedState),(W=fr||Gy(r,a,W,l,K,X,D)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,uc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Na(r,t.child,null,f),r.child=Na(r,null,a,f)):Lt(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Bi(t,r,f),t}function ov(t,r,a,l){return $o(),r.flags|=256,Lt(t,r,a,l),r.child}var cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hd(t){return{baseLanes:t,cachePool:Xg()}}function fd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Nn),t}function lv(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(f?gr(r):yr(),Be){var b=at,D;if(D=b){e:{for(D=b,b=ni;D.nodeType!==8;){if(!b){b=null;break e}if(D=Bn(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:bs!==null?{id:xi,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},D=fn(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,en=r,at=null,D=!0):D=!1}D||Rs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return $d(b)?r.lanes=32:r.lanes=536870912,null;zi(r)}return b=l.children,l=l.fallback,f?(yr(),f=r.mode,b=cc({mode:"hidden",children:b},f),l=ws(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=hd(a),f.childLanes=fd(t,E,a),r.memoizedState=cd,l):(gr(r),dd(r,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(gr(r),r.flags&=-257,r=md(t,r,a)):r.memoizedState!==null?(yr(),r.child=t.child,r.flags|=128,r=null):(yr(),f=l.fallback,b=r.mode,l=cc({mode:"visible",children:l.children},b),f=ws(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Na(r,t.child,null,a),l=r.child,l.memoizedState=hd(a),l.childLanes=fd(t,E,a),r.memoizedState=cd,r=f);else if(gr(r),$d(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,Qo({value:l,source:null,stack:null}),r=md(t,r,a)}else if(Ot||Zo(t,r,a,!1),E=(a&t.childLanes)!==0,Ot||E){if(E=Ze,E!==null&&(l=a&-a,l=(l&42)!==0?1:rr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ea(t,l),yn(E,t,l),Jy;b.data==="$?"||kd(),r=md(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,at=Bn(b.nextSibling),en=r,Be=!0,As=null,ni=!1,t!==null&&(In[On++]=xi,In[On++]=Pi,In[On++]=bs,xi=t.id,Pi=t.overflow,bs=r),r=dd(r,l.children),r.flags|=4096);return r}return f?(yr(),f=l.fallback,b=r.mode,D=t.child,F=D.sibling,l=Mi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?f=Mi(F,f):(f=ws(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=t.child.memoizedState,b===null?b=hd(a):(D=b.cachePool,D!==null?(F=wt._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Xg(),b={baseLanes:b.baseLanes|a,cachePool:D}),f.memoizedState=b,f.childLanes=fd(t,E,a),r.memoizedState=cd,l):(gr(r),a=t.child,t=a.sibling,a=Mi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function dd(t,r){return r=cc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function cc(t,r){return t=fn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function md(t,r,a){return Na(r,t.child,null,a),t=dd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function uv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),kf(t.return,r,a)}function pd(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function cv(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Lt(t,r,l.children,a),l=bt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uv(t,a,r);else if(t.tag===19)uv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(bt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),pd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&ac(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}pd(r,!0,a,null,d);break;case"together":pd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Bi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),wr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Zo(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Mi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Mi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function gd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function aS(t,r,a){switch(r.tag){case 3:Qe(r,r.stateNode.containerInfo),hr(r,wt,t.memoizedState.cache),$o();break;case 27:case 5:ir(r);break;case 4:Qe(r,r.stateNode.containerInfo);break;case 10:hr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(gr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?lv(t,r,a):(gr(r),t=Bi(t,r,a),t!==null?t.sibling:null);gr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Zo(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return cv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(bt,bt.current),l)break;return null;case 22:case 23:return r.lanes=0,iv(t,r,a);case 24:hr(r,wt,t.memoizedState.cache)}return Bi(t,r,a)}function hv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ot=!0;else{if(!gd(t,a)&&(r.flags&128)===0)return Ot=!1,aS(t,r,a);Ot=(t.flags&131072)!==0}else Ot=!1,Be&&(r.flags&1048576)!==0&&jg(r,qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Af(l)?(t=Ns(l,t),r.tag=1,r=av(null,r,l,t,a)):(r.tag=0,r=ud(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===Y){r.tag=11,r=ev(null,r,l,t,a);break e}else if(f===O){r.tag=14,r=tv(null,r,l,t,a);break e}}throw r=xt(l)||l,Error(s(306,r,""))}}return r;case 0:return ud(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Ns(l,r.pendingProps),av(t,r,l,f,a);case 3:e:{if(Qe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,zf(t,r),rl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,hr(r,wt,l),l!==d.cache&&Mf(r,[wt],a,!0),il(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=ov(t,r,l,a);break e}else if(l!==f){f=Rn(Error(s(424)),r),Qo(f),r=ov(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Bn(t.firstChild),en=r,Be=!0,As=null,ni=!0,a=qy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($o(),l===f){r=Bi(t,r,a);break e}Lt(t,r,l,a)}r=r.child}return r;case 26:return uc(t,r),t===null?(a=p_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Sc(Te.current).createElement(a),l[_t]=r,l[mt]=t,zt(l,a,t),ut(l),r.stateNode=l):r.memoizedState=p_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ir(r),t===null&&Be&&(l=r.stateNode=f_(r.type,r.pendingProps,Te.current),en=r,ni=!0,f=at,Rr(r.type)?(Qd=f,at=Bn(l.firstChild)):at=f),Lt(t,r,r.pendingProps.children,a),uc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((f=l=at)&&(l=xS(l,r.type,r.pendingProps,ni),l!==null?(r.stateNode=l,en=r,at=Bn(l.firstChild),ni=!1,f=!0):f=!1),f||Rs(r)),ir(r),f=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Kd(f,d)?l=null:E!==null&&Kd(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=Gf(t,r,Wb,null,null,a),Rl._currentValue=f),uc(t,r),Lt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=at)&&(a=PS(a,r.pendingProps,ni),a!==null?(r.stateNode=a,en=r,at=null,t=!0):t=!1),t||Rs(r)),null;case 13:return lv(t,r,a);case 4:return Qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Na(r,null,l,a):Lt(t,r,l,a),r.child;case 11:return ev(t,r,r.type,r.pendingProps,a);case 7:return Lt(t,r,r.pendingProps,a),r.child;case 8:return Lt(t,r,r.pendingProps.children,a),r.child;case 12:return Lt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,hr(r,r.type,l.value),Lt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Is(r),f=Ft(f),l=l(f),r.flags|=1,Lt(t,r,l,a),r.child;case 14:return tv(t,r,r.type,r.pendingProps,a);case 15:return nv(t,r,r.type,r.pendingProps,a);case 19:return cv(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=cc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Mi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return iv(t,r,a);case 24:return Is(r),l=Ft(wt),t===null?(f=Vf(),f===null&&(f=Ze,d=xf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Uf(r),hr(r,wt,f)):((t.lanes&a)!==0&&(zf(t,r),rl(r,null,null,a),il()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),hr(r,wt,l)):(l=d.cache,hr(r,wt,l),l!==f.cache&&Mf(r,[wt],a,!0))),Lt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ji(t){t.flags|=4}function fv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(r)){if(r=Dn.current,r!==null&&((xe&4194048)===xe?ii!==null:(xe&62914560)!==xe&&(xe&536870912)===0||r!==ii))throw tl=Lf,$g;t.flags|=8192}}function hc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Io():536870912,t.lanes|=r,Pa|=r)}function hl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function oS(t,r,a){var l=r.pendingProps;switch(Of(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return tt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Li(wt),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Xo(r)?ji(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fg())),tt(r),null;case 26:return a=r.memoizedState,t===null?(ji(r),a!==null?(tt(r),fv(r,a)):(tt(r),r.flags&=-16777217)):a?a!==t.memoizedState?(ji(r),tt(r),fv(r,a)):(tt(r),r.flags&=-16777217):(t.memoizedProps!==l&&ji(r),tt(r),r.flags&=-16777217),null;case 27:Ei(r),a=Te.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}t=me.current,Xo(r)?Hg(r):(t=f_(f,l,a),r.stateNode=t,ji(r))}return tt(r),null;case 5:if(Ei(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(t=me.current,Xo(r))Hg(r);else{switch(f=Sc(Te.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[_t]=r,t[mt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ji(r)}}return tt(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Te.current,Xo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=en,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[_t]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||s_(t.nodeValue,a)),t||Rs(r)}else t=Sc(t).createTextNode(l),t[_t]=r,r.stateNode=t}return tt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Xo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_t]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),f=!1}else f=Fg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(zi(r),r):(zi(r),null)}if(zi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),hc(r,r.updateQueue),tt(r),null;case 4:return Fn(),t===null&&jd(r.stateNode.containerInfo),tt(r),null;case 10:return Li(r.type),tt(r),null;case 19:if(le(bt),f=r.memoizedState,f===null)return tt(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)hl(f,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=ac(t),d!==null){for(r.flags|=128,hl(f,!1),t=d.updateQueue,r.updateQueue=t,hc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Bg(a,t),a=a.sibling;return se(bt,bt.current&1|2),r.child}t=t.sibling}f.tail!==null&&En()>mc&&(r.flags|=128,l=!0,hl(f,!1),r.lanes=4194304)}else{if(!l)if(t=ac(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,hc(r,t),hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Be)return tt(r),null}else 2*En()-f.renderingStartTime>mc&&a!==536870912&&(r.flags|=128,l=!0,hl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=En(),r.sibling=null,t=bt.current,se(bt,l?t&1|2:t&1),r):(tt(r),null);case 22:case 23:return zi(r),qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),a=r.updateQueue,a!==null&&hc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&le(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Li(wt),tt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function lS(t,r){switch(Of(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Li(wt),Fn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ei(r),null;case 13:if(zi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));$o()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return le(bt),null;case 4:return Fn(),null;case 10:return Li(r.type),null;case 22:case 23:return zi(r),qf(),t!==null&&le(Os),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Li(wt),null;case 25:return null;default:return null}}function dv(t,r){switch(Of(r),r.tag){case 3:Li(wt),Fn();break;case 26:case 27:case 5:Ei(r);break;case 4:Fn();break;case 13:zi(r);break;case 19:le(bt);break;case 10:Li(r.type);break;case 22:case 23:zi(r),qf(),t!==null&&le(Os);break;case 24:Li(wt)}}function fl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){$e(r,r.return,b)}}function vr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var D=a,F=b;try{F()}catch(W){$e(f,D,W)}}}l=l.next}while(l!==d)}}catch(W){$e(r,r.return,W)}}function mv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ty(r,a)}catch(l){$e(t,t.return,l)}}}function pv(t,r,a){a.props=Ns(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,r,l)}}function dl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,r,f)}}function ri(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,r,f)}else a.current=null}function gv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function yd(t,r,a){try{var l=t.stateNode;OS(l,t.type,a,r),l[mt]=r}catch(f){$e(t,t.return,f)}}function yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rr(t.type)||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _d(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=bc));else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(_d(t,r,a),t=t.sibling;t!==null;)_d(t,r,a),t=t.sibling}function fc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(fc(t,r,a),t=t.sibling;t!==null;)fc(t,r,a),t=t.sibling}function vv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);zt(r,l,a),r[_t]=t,r[mt]=a}catch(d){$e(t,t.return,d)}}var Hi=!1,ht=!1,Ed=!1,_v=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function uS(t,r){if(t=t.containerInfo,Fd=Dc,t=Dg(t),vf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,D=-1,F=0,W=0,te=t,K=null;t:for(;;){for(var X;te!==a||f!==0&&te.nodeType!==3||(b=E+f),te!==d||l!==0&&te.nodeType!==3||(D=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(X=te.firstChild)!==null;)K=te,te=X;for(;;){if(te===t)break t;if(K===a&&++F===f&&(b=E),K===d&&++W===l&&(D=E),(X=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=X}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Dc=!1,Dt=r;Dt!==null;)if(r=Dt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Dt=t;else for(;Dt!==null;){switch(r=Dt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ve=Ns(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ve,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){$e(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Xd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Dt=t;break}Dt=r.return}}function Ev(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(t,a),l&4&&fl(5,a);break;case 1:if(_r(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){$e(a,a.return,E)}else{var f=Ns(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){$e(a,a.return,E)}}l&64&&mv(a),l&512&&dl(a,a.return);break;case 3:if(_r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ty(t,r)}catch(E){$e(a,a.return,E)}}break;case 27:r===null&&l&4&&vv(a);case 26:case 5:_r(t,a),r===null&&l&4&&gv(a),l&512&&dl(a,a.return);break;case 12:_r(t,a);break;case 13:_r(t,a),l&4&&bv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vS.bind(null,a),VS(t,a))));break;case 22:if(l=a.memoizedState!==null||Hi,!l){r=r!==null&&r.memoizedState!==null||ht,f=Hi;var d=ht;Hi=l,(ht=r)&&!d?Er(t,a,(a.subtreeFlags&8772)!==0):_r(t,a),Hi=f,ht=d}break;case 30:break;default:_r(t,a)}}function Tv(t){var r=t.alternate;r!==null&&(t.alternate=null,Tv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&or(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,rn=!1;function qi(t,r,a){for(a=a.child;a!==null;)wv(t,r,a),a=a.sibling}function wv(t,r,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(st,a)}catch{}switch(a.tag){case 26:ht||ri(a,r),qi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||ri(a,r);var l=Je,f=rn;Rr(a.type)&&(Je=a.stateNode,rn=!1),qi(t,r,a),wl(a.stateNode),Je=l,rn=f;break;case 5:ht||ri(a,r);case 6:if(l=Je,f=rn,Je=null,qi(t,r,a),Je=l,rn=f,Je!==null)if(rn)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(d){$e(a,r,d)}else try{Je.removeChild(a.stateNode)}catch(d){$e(a,r,d)}break;case 18:Je!==null&&(rn?(t=Je,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Dl(t)):c_(Je,a.stateNode));break;case 4:l=Je,f=rn,Je=a.stateNode.containerInfo,rn=!0,qi(t,r,a),Je=l,rn=f;break;case 0:case 11:case 14:case 15:ht||vr(2,a,r),ht||vr(4,a,r),qi(t,r,a);break;case 1:ht||(ri(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&pv(a,r,l)),qi(t,r,a);break;case 21:qi(t,r,a);break;case 22:ht=(l=ht)||a.memoizedState!==null,qi(t,r,a),ht=l;break;default:qi(t,r,a)}}function bv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(a){$e(r,r.return,a)}}function cS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new _v),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new _v),r;default:throw Error(s(435,t.tag))}}function Td(t,r){var a=cS(t);r.forEach(function(l){var f=_S.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function dn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Rr(b.type)){Je=b.stateNode,rn=!1;break e}break;case 5:Je=b.stateNode,rn=!1;break e;case 3:case 4:Je=b.stateNode.containerInfo,rn=!0;break e}b=b.return}if(Je===null)throw Error(s(160));wv(d,E,f),Je=null,rn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Sv(r,t),r=r.sibling}var zn=null;function Sv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(r,t),mn(t),l&4&&(vr(3,t,t.return),fl(3,t),vr(5,t,t.return));break;case 1:dn(r,t),mn(t),l&512&&(ht||a===null||ri(a,a.return)),l&64&&Hi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=zn;if(dn(r,t),mn(t),l&512&&(ht||a===null||ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[as]||d[_t]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),zt(d,l,a),d[_t]=t,ut(d),l=d;break e;case"link":var E=v_("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=v_("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(l),zt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[_t]=t,ut(d),l=d}t.stateNode=l}else __(f,t.type,t.stateNode);else t.stateNode=y_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?__(f,t.type,t.stateNode):y_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(r,t),mn(t),l&512&&(ht||a===null||ri(a,a.return)),a!==null&&l&4&&yd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(r,t),mn(t),l&512&&(ht||a===null||ri(a,a.return)),t.flags&32){f=t.stateNode;try{wn(f,"")}catch(X){$e(t,t.return,X)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,yd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Ed=!0);break;case 6:if(dn(r,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(X){$e(t,t.return,X)}}break;case 3:if(Cc=null,f=zn,zn=Ac(r.containerInfo),dn(r,t),zn=f,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(r.containerInfo)}catch(X){$e(t,t.return,X)}Ed&&(Ed=!1,Av(t));break;case 4:l=zn,zn=Ac(t.stateNode.containerInfo),dn(r,t),mn(t),zn=l;break;case 12:dn(r,t),mn(t);break;case 13:dn(r,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cd=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Hi,W=ht;if(Hi=F||f,ht=W||D,dn(r,t),ht=W,Hi=F,mn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||Hi||ht||ks(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=D.stateNode;var te=D.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){$e(D,D.return,X)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(X){$e(D,D.return,X)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Td(t,a))));break;case 19:dn(r,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Td(t,l)));break;case 30:break;case 21:break;default:dn(r,t),mn(t)}}function mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(yv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=vd(t);fc(t,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(wn(E,""),a.flags&=-33);var b=vd(t);fc(t,b,E);break;case 3:case 4:var D=a.stateNode.containerInfo,F=vd(t);_d(t,F,D);break;default:throw Error(s(161))}}catch(W){$e(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Av(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Av(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function _r(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ev(t,r.alternate,r),r=r.sibling}function ks(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:vr(4,r,r.return),ks(r);break;case 1:ri(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&pv(r,r.return,a),ks(r);break;case 27:wl(r.stateNode);case 26:case 5:ri(r,r.return),ks(r);break;case 22:r.memoizedState===null&&ks(r);break;case 30:ks(r);break;default:ks(r)}t=t.sibling}}function Er(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Er(f,d,a),fl(4,d);break;case 1:if(Er(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){$e(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ey(D[f],b)}catch(F){$e(l,l.return,F)}}a&&E&64&&mv(d),dl(d,d.return);break;case 27:vv(d);case 26:case 5:Er(f,d,a),a&&l===null&&E&4&&gv(d),dl(d,d.return);break;case 12:Er(f,d,a);break;case 13:Er(f,d,a),a&&E&4&&bv(f,d);break;case 22:d.memoizedState===null&&Er(f,d,a),dl(d,d.return);break;case 30:break;default:Er(f,d,a)}r=r.sibling}}function wd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function si(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Rv(t,r,a,l),r=r.sibling}function Rv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:si(t,r,a,l),f&2048&&fl(9,r);break;case 1:si(t,r,a,l);break;case 3:si(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(f&2048){si(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){$e(r,r.return,D)}}else si(t,r,a,l);break;case 13:si(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?si(t,r,a,l):ml(t,r):d._visibility&2?si(t,r,a,l):(d._visibility|=2,ka(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&wd(E,r);break;case 24:si(t,r,a,l),f&2048&&bd(r.alternate,r);break;default:si(t,r,a,l)}}function ka(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,b=a,D=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:ka(d,E,b,D,f),fl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?ka(d,E,b,D,f):ml(d,E):(W._visibility|=2,ka(d,E,b,D,f)),f&&F&2048&&wd(E.alternate,E);break;case 24:ka(d,E,b,D,f),f&&F&2048&&bd(E.alternate,E);break;default:ka(d,E,b,D,f)}r=r.sibling}}function ml(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:ml(a,l),f&2048&&wd(l.alternate,l);break;case 24:ml(a,l),f&2048&&bd(l.alternate,l);break;default:ml(a,l)}r=r.sibling}}var pl=8192;function Ma(t){if(t.subtreeFlags&pl)for(t=t.child;t!==null;)Cv(t),t=t.sibling}function Cv(t){switch(t.tag){case 26:Ma(t),t.flags&pl&&t.memoizedState!==null&&$S(zn,t.memoizedState,t.memoizedProps);break;case 5:Ma(t);break;case 3:case 4:var r=zn;zn=Ac(t.stateNode.containerInfo),Ma(t),zn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=pl,pl=16777216,Ma(t),pl=r):Ma(t));break;default:Ma(t)}}function Iv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function gl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,Dv(l,t)}Iv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ov(t),t=t.sibling}function Ov(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&vr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,dc(t)):gl(t);break;default:gl(t)}}function dc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Dt=l,Dv(l,t)}Iv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:vr(8,r,r.return),dc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,dc(r));break;default:dc(r)}t=t.sibling}}function Dv(t,r){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:vr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=t;Dt!==null;){l=Dt;var f=l.sibling,d=l.return;if(Tv(l),l===a){Dt=null;break e}if(f!==null){f.return=d,Dt=f;break e}Dt=d}}}var hS={getCacheForType:function(t){var r=Ft(wt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},fS=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ze=null,Oe=null,xe=0,Fe=0,pn=null,Tr=!1,xa=!1,Sd=!1,Fi=0,ot=0,wr=0,Ms=0,Ad=0,Nn=0,Pa=0,yl=null,sn=null,Rd=!1,Cd=0,mc=1/0,pc=null,br=null,Ut=0,Sr=null,Va=null,La=0,Id=0,Od=null,Nv=null,vl=0,Dd=null;function gn(){if((qe&2)!==0&&xe!==0)return xe&-xe;if(Z.T!==null){var t=Sa;return t!==0?t:Ld()}return sr()}function kv(){Nn===0&&(Nn=(xe&536870912)===0||Be?Co():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Nn}function yn(t,r,a){(t===Ze&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Ar(t,xe,Nn,!1)),wi(t,a),((qe&2)===0||t!==Ze)&&(t===Ze&&((qe&2)===0&&(Ms|=a),ot===4&&Ar(t,xe,Nn,!1)),ai(t))}function Mv(t,r,a){if((qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ss(t,r),f=l?pS(t,r):Md(t,r,!0),d=l;do{if(f===0){xa&&!l&&Ar(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!dS(a)){f=Md(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=t;f=yl;var D=b.current.memoizedState.isDehydrated;if(D&&(Ua(b,E).flags|=256),E=Md(b,E,!1),E!==2){if(Sd&&!D){b.errorRecoveryDisabledLanes|=d,Ms|=d,f=4;break e}d=sn,sn=f,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Ua(t,0),Ar(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ar(l,r,Nn,!Tr);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Cd+300-En(),10<f)){if(Ar(l,r,Nn,!Tr),ta(l,0,!0)!==0)break e;l.timeoutHandle=l_(xv.bind(null,l,a,sn,pc,Rd,r,Nn,Ms,Pa,Tr,d,2,-0,0),f);break e}xv(l,a,sn,pc,Rd,r,Nn,Ms,Pa,Tr,d,0,-0,0)}}break}while(!0);ai(t)}function xv(t,r,a,l,f,d,E,b,D,F,W,te,K,X){if(t.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:XS},Cv(r),te=QS(),te!==null)){t.cancelPendingCommit=te(jv.bind(null,t,r,d,a,l,f,E,b,D,W,1,K,X)),Ar(t,d,E,!F);return}jv(t,r,d,a,l,f,E,b,D)}function dS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!hn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ar(t,r,a,l){r&=~Ad,r&=~Ms,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-qt(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&Gn(t,a,r)}function gc(){return(qe&6)===0?(_l(0),!1):!0}function Nd(){if(Oe!==null){if(Fe===0)var t=Oe.return;else t=Oe,Vi=Cs=null,Xf(t),Da=null,ul=0,t=Oe;for(;t!==null;)dv(t.alternate,t),t=t.return;Oe=null}}function Ua(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,NS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Nd(),Ze=t,Oe=a=Mi(t.current,null),xe=r,Fe=0,pn=null,Tr=!1,xa=ss(t,r),Sd=!1,Pa=Nn=Ad=Ms=wr=ot=0,sn=yl=null,Rd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-qt(l),d=1<<f;r|=t[f],l&=~d}return Fi=r,Uu(),a}function Pv(t,r){Ae=null,Z.H=ic,r===el||r===Yu?(r=Wg(),Fe=3):r===$g?(r=Wg(),Fe=4):Fe=r===Jy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,pn=r,Oe===null&&(ot=1,lc(t,Rn(r,t.current)))}function Vv(){var t=Z.H;return Z.H=ic,t===null?ic:t}function Lv(){var t=Z.A;return Z.A=hS,t}function kd(){ot=4,Tr||(xe&4194048)!==xe&&Dn.current!==null||(xa=!0),(wr&134217727)===0&&(Ms&134217727)===0||Ze===null||Ar(Ze,xe,Nn,!1)}function Md(t,r,a){var l=qe;qe|=2;var f=Vv(),d=Lv();(Ze!==t||xe!==r)&&(pc=null,Ua(t,r)),r=!1;var E=ot;e:do try{if(Fe!==0&&Oe!==null){var b=Oe,D=pn;switch(Fe){case 8:Nd(),E=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(r=!0);var F=Fe;if(Fe=0,pn=null,za(t,b,D,F),a&&xa){E=0;break e}break;default:F=Fe,Fe=0,pn=null,za(t,b,D,F)}}mS(),E=ot;break}catch(W){Pv(t,W)}while(!0);return r&&t.shellSuspendCounter++,Vi=Cs=null,qe=l,Z.H=f,Z.A=d,Oe===null&&(Ze=null,xe=0,Uu()),E}function mS(){for(;Oe!==null;)Uv(Oe)}function pS(t,r){var a=qe;qe|=2;var l=Vv(),f=Lv();Ze!==t||xe!==r?(pc=null,mc=En()+500,Ua(t,r)):xa=ss(t,r);e:do try{if(Fe!==0&&Oe!==null){r=Oe;var d=pn;t:switch(Fe){case 1:Fe=0,pn=null,za(t,r,d,1);break;case 2:case 9:if(Qg(d)){Fe=0,pn=null,zv(r);break}r=function(){Fe!==2&&Fe!==9||Ze!==t||(Fe=7),ai(t)},d.then(r,r);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Qg(d)?(Fe=0,pn=null,zv(r)):(Fe=0,pn=null,za(t,r,d,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var b=Oe;if(!E||E_(E)){Fe=0,pn=null;var D=b.sibling;if(D!==null)Oe=D;else{var F=b.return;F!==null?(Oe=F,yc(F)):Oe=null}break t}}Fe=0,pn=null,za(t,r,d,5);break;case 6:Fe=0,pn=null,za(t,r,d,6);break;case 8:Nd(),ot=6;break e;default:throw Error(s(462))}}gS();break}catch(W){Pv(t,W)}while(!0);return Vi=Cs=null,Z.H=l,Z.A=f,qe=a,Oe!==null?0:(Ze=null,xe=0,Uu(),ot)}function gS(){for(;Oe!==null&&!bo();)Uv(Oe)}function Uv(t){var r=hv(t.alternate,t,Fi);t.memoizedProps=t.pendingProps,r===null?yc(t):Oe=r}function zv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=sv(a,r,r.pendingProps,r.type,void 0,xe);break;case 11:r=sv(a,r,r.pendingProps,r.type.render,r.ref,xe);break;case 5:Xf(r);default:dv(a,r),r=Oe=Bg(r,Fi),r=hv(a,r,Fi)}t.memoizedProps=t.pendingProps,r===null?yc(t):Oe=r}function za(t,r,a,l){Vi=Cs=null,Xf(r),Da=null,ul=0;var f=r.return;try{if(sS(t,f,r,a,xe)){ot=1,lc(t,Rn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;ot=1,lc(t,Rn(a,t.current)),Oe=null;return}r.flags&32768?(Be||l===1?t=!0:xa||(xe&536870912)!==0?t=!1:(Tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bv(r,t)):yc(r)}function yc(t){var r=t;do{if((r.flags&32768)!==0){Bv(r,Tr);return}t=r.return;var a=oS(r.alternate,r,Fi);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);ot===0&&(ot=5)}function Bv(t,r){do{var a=lS(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ot=6,Oe=null}function jv(t,r,a,l,f,d,E,b,D){t.cancelPendingCommit=null;do vc();while(Ut!==0);if((qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=bf,Oo(t,a,d,E,b,D),t===Ze&&(Oe=Ze=null,xe=0),Va=r,Sr=t,La=a,Id=d,Od=f,Nv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,ES(ts,function(){return Kv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null,f=oe.p,oe.p=2,E=qe,qe|=4;try{uS(t,r,a)}finally{qe=E,oe.p=f,Z.T=l}}Ut=1,Hv(),qv(),Fv()}}function Hv(){if(Ut===1){Ut=0;var t=Sr,r=Va,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Z.T,Z.T=null;var l=oe.p;oe.p=2;var f=qe;qe|=4;try{Sv(r,t);var d=Gd,E=Dg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Og(b.ownerDocument.documentElement,b)){if(D!==null&&vf(b)){var F=D.start,W=D.end;if(W===void 0&&(W=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(W,b.value.length);else{var te=b.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var X=K.getSelection(),ve=b.textContent.length,pe=Math.min(D.start,ve),Xe=D.end===void 0?pe:Math.min(D.end,ve);!X.extend&&pe>Xe&&(E=Xe,Xe=pe,pe=E);var U=Ig(b,pe),x=Ig(b,Xe);if(U&&x&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==x.node||X.focusOffset!==x.offset)){var H=te.createRange();H.setStart(U.node,U.offset),X.removeAllRanges(),pe>Xe?(X.addRange(H),X.extend(x.node,x.offset)):(H.setEnd(x.node,x.offset),X.addRange(H))}}}}for(te=[],X=b;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var J=te[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Dc=!!Fd,Gd=Fd=null}finally{qe=f,oe.p=l,Z.T=a}}t.current=r,Ut=2}}function qv(){if(Ut===2){Ut=0;var t=Sr,r=Va,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Z.T,Z.T=null;var l=oe.p;oe.p=2;var f=qe;qe|=4;try{Ev(t,r.alternate,r)}finally{qe=f,oe.p=l,Z.T=a}}Ut=3}}function Fv(){if(Ut===4||Ut===3){Ut=0,du();var t=Sr,r=Va,a=La,l=Nv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Va=Sr=null,Gv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(br=null),na(a),r=r.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(st,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Z.T,f=oe.p,oe.p=2,Z.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{Z.T=r,oe.p=f}}(La&3)!==0&&vc(),ai(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Dd?vl++:(vl=0,Dd=t):vl=0,_l(0)}}function Gv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function vc(t){return Hv(),qv(),Fv(),Kv()}function Kv(){if(Ut!==5)return!1;var t=Sr,r=Id;Id=0;var a=na(La),l=Z.T,f=oe.p;try{oe.p=32>a?32:a,Z.T=null,a=Od,Od=null;var d=Sr,E=La;if(Ut=0,Va=Sr=null,La=0,(qe&6)!==0)throw Error(s(331));var b=qe;if(qe|=4,Ov(d.current),Rv(d,d.current,E,a),qe=b,_l(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(st,d)}catch{}return!0}finally{oe.p=f,Z.T=l,Gv(t,r)}}function Yv(t,r,a){r=Rn(a,r),r=ld(t.stateNode,r,2),t=mr(t,r,2),t!==null&&(wi(t,2),ai(t))}function $e(t,r,a){if(t.tag===3)Yv(t,t,a);else for(;r!==null;){if(r.tag===3){Yv(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){t=Rn(a,t),a=Zy(2),l=mr(r,a,2),l!==null&&(Wy(a,l,r,t),wi(l,2),ai(l));break}}r=r.return}}function xd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new fS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Sd=!0,f.add(a),t=yS.bind(null,t,r,a),r.then(t,t))}function yS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ze===t&&(xe&a)===a&&(ot===4||ot===3&&(xe&62914560)===xe&&300>En()-Cd?(qe&2)===0&&Ua(t,0):Ad|=a,Pa===xe&&(Pa=0)),ai(t)}function Xv(t,r){r===0&&(r=Io()),t=Ea(t,r),t!==null&&(wi(t,r),ai(t))}function vS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Xv(t,a)}function _S(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Xv(t,a)}function ES(t,r){return Jr(t,r)}var _c=null,Ba=null,Pd=!1,Ec=!1,Vd=!1,xs=0;function ai(t){t!==Ba&&t.next===null&&(Ba===null?_c=Ba=t:Ba=Ba.next=t),Ec=!0,Pd||(Pd=!0,wS())}function _l(t,r){if(!Vd&&Ec){Vd=!0;do for(var a=!1,l=_c;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-qt(42|t)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Wv(l,d))}else d=xe,d=ta(l,l===Ze?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ss(l,d)||(a=!0,Wv(l,d));l=l.next}while(a);Vd=!1}}function TS(){$v()}function $v(){Ec=Pd=!1;var t=0;xs!==0&&(DS()&&(t=xs),xs=0);for(var r=En(),a=null,l=_c;l!==null;){var f=l.next,d=Qv(l,r);d===0?(l.next=null,a===null?_c=f:a.next=f,f===null&&(Ba=a)):(a=l,(t!==0||(d&3)!==0)&&(Ec=!0)),l=f}_l(t)}function Qv(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-qt(d),b=1<<E,D=f[E];D===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Ro(b,r)):D<=r&&(t.expiredLanes|=b),d&=~b}if(r=Ze,a=xe,a=ta(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&es(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ss(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&es(l),na(a)){case 2:case 8:a=Js;break;case 32:a=ts;break;case 268435456:a=ea;break;default:a=ts}return l=Zv.bind(null,t),a=Jr(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&es(l),t.callbackPriority=2,t.callbackNode=null,2}function Zv(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=xe;return l=ta(t,t===Ze?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Mv(t,l,r),Qv(t,En()),t.callbackNode!=null&&t.callbackNode===a?Zv.bind(null,t):null)}function Wv(t,r){if(vc())return null;Mv(t,r,!0)}function wS(){kS(function(){(qe&6)!==0?Jr(So,TS):$v()})}function Ld(){return xs===0&&(xs=Co()),xs}function Jv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function e_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function bS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=Jv((f[mt]||null).action),E=l.submitter;E&&(r=(r=E[mt]||null)?Jv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new ua("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xs!==0){var D=E?e_(f,E):new FormData(f);id(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=E?e_(f,E):new FormData(f),id(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Ud=0;Ud<wf.length;Ud++){var zd=wf[Ud],SS=zd.toLowerCase(),AS=zd[0].toUpperCase()+zd.slice(1);Un(SS,"on"+AS)}Un(Mg,"onAnimationEnd"),Un(xg,"onAnimationIteration"),Un(Pg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(Hb,"onTransitionRun"),Un(qb,"onTransitionStart"),Un(Fb,"onTransitionCancel"),Un(Vg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function t_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],D=b.instance,F=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){oc(W)}f.currentTarget=null,d=D}else for(E=0;E<l.length;E++){if(b=l[E],D=b.instance,F=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){oc(W)}f.currentTarget=null,d=D}}}}function De(t,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var l=t+"__bubble";a.has(l)||(n_(r,t,2,!1),a.add(l))}function Bd(t,r,a){var l=0;r&&(l|=4),n_(a,t,l,r)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Tc]){t[Tc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Tc]||(r[Tc]=!0,Bd("selectionchange",!1,r))}}function n_(t,r,a,l){switch(R_(r)){case 2:var f=JS;break;case 8:f=eA;break;default:f=tm}a=f.bind(null,r,a,t),f=void 0,!Sn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function Hd(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=bi(b),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=d=E;continue e}b=b.parentNode}}l=l.return}bu(function(){var F=d,W=bn(a),te=[];e:{var K=Lg.get(t);if(K!==void 0){var X=ua,ve=t;switch(t){case"keypress":if(Zn(a)===0)break e;case"keydown":case"keyup":X=pa;break;case"focusin":ve="focus",X=fa;break;case"focusout":ve="blur",X=fa;break;case"beforeblur":case"afterblur":X=fa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Nu;break;case Mg:case xg:case Pg:X=da;break;case Vg:X=Mu;break;case"scroll":case"scrollend":X=Su;break;case"wheel":X=ga;break;case"copy":case"cut":case"paste":X=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Fo;break;case"toggle":case"beforetoggle":X=Pu}var pe=(r&4)!==0,Xe=!pe&&(t==="scroll"||t==="scrollend"),U=pe?K!==null?K+"Capture":null:K;pe=[];for(var x=F,H;x!==null;){var J=x;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||U===null||(J=ds(x,U),J!=null&&pe.push(Tl(x,J,H))),Xe)break;x=x.return}0<pe.length&&(K=new X(K,ve,null,a,W),te.push({event:K,listeners:pe}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==Ci&&(ve=a.relatedTarget||a.fromElement)&&(bi(ve)||ve[Tn]))break e;if((X||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,X?(ve=a.relatedTarget||a.toElement,X=F,ve=ve?bi(ve):null,ve!==null&&(Xe=u(ve),pe=ve.tag,ve!==Xe||pe!==5&&pe!==27&&pe!==6)&&(ve=null)):(X=null,ve=F),X!==ve)){if(pe=An,J="onMouseLeave",U="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Fo,J="onPointerLeave",U="onPointerEnter",x="pointer"),Xe=X==null?K:Yn(X),H=ve==null?K:Yn(ve),K=new pe(J,x+"leave",X,a,W),K.target=Xe,K.relatedTarget=H,J=null,bi(W)===F&&(pe=new pe(U,x+"enter",ve,a,W),pe.target=H,pe.relatedTarget=Xe,J=pe),Xe=J,X&&ve)t:{for(pe=X,U=ve,x=0,H=pe;H;H=ja(H))x++;for(H=0,J=U;J;J=ja(J))H++;for(;0<x-H;)pe=ja(pe),x--;for(;0<H-x;)U=ja(U),H--;for(;x--;){if(pe===U||U!==null&&pe===U.alternate)break t;pe=ja(pe),U=ja(U)}pe=null}else pe=null;X!==null&&i_(te,K,X,pe,!1),ve!==null&&Xe!==null&&i_(te,Xe,ve,pe,!0)}}e:{if(K=F?Yn(F):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var he=wg;else if(Tt(K))if(bg)he=zb;else{he=Lb;var Ce=Vb}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?F&&Lo(F.elementType)&&(he=wg):he=Ub;if(he&&(he=he(t,F))){ki(te,he,a,W);break e}Ce&&Ce(t,K,F),t==="focusout"&&F&&K.type==="number"&&F.memoizedProps.value!=null&&ur(K,"number",K.value)}switch(Ce=F?Yn(F):window,t){case"focusin":(Tt(Ce)||Ce.contentEditable==="true")&&(ya=Ce,_f=F,Yo=null);break;case"focusout":Yo=_f=ya=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,Ng(te,a,W);break;case"selectionchange":if(jb)break;case"keydown":case"keyup":Ng(te,a,W)}var fe;if(ei)e:{switch(t){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else ke?Q(t,a)&&(ge="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(_&&a.locale!=="ko"&&(ke||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&ke&&(fe=zo()):(Qn=W,cr="value"in Qn?Qn.value:Qn.textContent,ke=!0)),Ce=wc(F,ge),0<Ce.length&&(ge=new Ho(ge,t,null,a,W),te.push({event:ge,listeners:Ce}),fe?ge.data=fe:(fe=ae(a),fe!==null&&(ge.data=fe)))),(fe=y?Et(t,a):Me(t,a))&&(ge=wc(F,"onBeforeInput"),0<ge.length&&(Ce=new Ho("onBeforeInput","beforeinput",null,a,W),te.push({event:Ce,listeners:ge}),Ce.data=fe)),bS(te,t,F,a,W)}t_(te,r)})}function Tl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function wc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ds(t,a),f!=null&&l.unshift(Tl(t,f,d)),f=ds(t,r),f!=null&&l.push(Tl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function i_(t,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,D=b.alternate,F=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||F===null||(D=F,f?(F=ds(a,d),F!=null&&E.unshift(Tl(a,F,D))):f||(F=ds(a,d),F!=null&&E.push(Tl(a,F,D)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var CS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function r_(t){return(typeof t=="string"?t:""+t).replace(CS,`
`).replace(IS,"")}function s_(t,r){return r=r_(r),r_(t)===r}function bc(){}function Ye(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(t,""+l);break;case"className":Xn(t,"class",l);break;case"tabIndex":Xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(r!=="object"){Xn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(t,r,"name",f.name,f,null),Ye(t,r,"formEncType",f.formEncType,f,null),Ye(t,r,"formMethod",f.formMethod,f,null),Ye(t,r,"formTarget",f.formTarget,f,null)):(Ye(t,r,"encType",f.encType,f,null),Ye(t,r,"method",f.method,f,null),Ye(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=bc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),lr(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ff.get(a)||a,lr(t,a,l))}}function qd(t,r,a,l,f,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):lr(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,d,E,a,null)}}f&&Ye(t,r,"srcSet",a.srcSet,a,null),l&&Ye(t,r,"src",a.src,a,null);return;case"input":De("invalid",t);var b=d=E=f=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":D=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Ye(t,r,l,W,a,null)}}cs(t,d,b,D,F,E,f,!1),oa(t);return;case"select":De("invalid",t),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Ye(t,r,f,b,a,null)}r=d,a=E,t.multiple=!!l,r!=null?Ri(t,!!l,r,!1):a!=null&&Ri(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ye(t,r,E,b,a,null)}hs(t,l,f,d),oa(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,D,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)De(El[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,F,l,a,null)}return;default:if(Lo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&qd(t,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ye(t,r,b,l,a,null))}function OS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,D=null,F=null,W=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(X)||Ye(t,r,X,null,l,te)}}for(var K in l){var X=l[K];if(te=a[K],l.hasOwnProperty(K)&&(X!=null||te!=null))switch(K){case"type":d=X;break;case"name":f=X;break;case"checked":F=X;break;case"defaultChecked":W=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==te&&Ye(t,r,K,X,l,te)}}cn(t,E,b,D,F,W,d,f);return;case"select":X=E=b=K=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(d)||Ye(t,r,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==D&&Ye(t,r,f,d,l,D)}r=b,a=E,l=X,K!=null?Ri(t,!!a,K,!1):!!l!=!!a&&(r!=null?Ri(t,!!a,r,!0):Ri(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(t,r,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ye(t,r,E,f,l,d)}Ge(t,K,X);return;case"option":for(var ve in a)if(K=a[ve],a.hasOwnProperty(ve)&&K!=null&&!l.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:Ye(t,r,ve,null,l,K)}for(D in l)if(K=l[D],X=a[D],l.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ye(t,r,D,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)K=a[pe],a.hasOwnProperty(pe)&&K!=null&&!l.hasOwnProperty(pe)&&Ye(t,r,pe,null,l,K);for(F in l)if(K=l[F],X=a[F],l.hasOwnProperty(F)&&K!==X&&(K!=null||X!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Ye(t,r,F,K,l,X)}return;default:if(Lo(r)){for(var Xe in a)K=a[Xe],a.hasOwnProperty(Xe)&&K!==void 0&&!l.hasOwnProperty(Xe)&&qd(t,r,Xe,void 0,l,K);for(W in l)K=l[W],X=a[W],!l.hasOwnProperty(W)||K===X||K===void 0&&X===void 0||qd(t,r,W,K,l,X);return}}for(var U in a)K=a[U],a.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&Ye(t,r,U,null,l,K);for(te in l)K=l[te],X=a[te],!l.hasOwnProperty(te)||K===X||K==null&&X==null||Ye(t,r,te,K,l,X)}var Fd=null,Gd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Kd(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Yd=null;function DS(){var t=window.event;return t&&t.type==="popstate"?t===Yd?!1:(Yd=t,!0):(Yd=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(MS)}:l_;function MS(t){setTimeout(function(){throw t})}function Rr(t){return t==="head"}function c_(t,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&wl(E.documentElement),a&2&&wl(E.body),a&4)for(a=E.head,wl(a),E=a.firstChild;E;){var b=E.nextSibling,D=E.nodeName;E[as]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){t.removeChild(d),Dl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Dl(r)}function Xd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xd(a),or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[as])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function PS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function $d(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function VS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Qd=null;function h_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function f_(t,r,a){switch(r=Sc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);or(t)}var kn=new Map,d_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=oe.d;oe.d={f:LS,r:US,D:zS,C:BS,L:jS,m:HS,X:FS,S:qS,M:GS};function LS(){var t=Gi.f(),r=gc();return t||r}function US(t){var r=Kn(t);r!==null&&r.tag===5&&r.type==="form"?My(r):Gi.r(t)}var Ha=typeof document>"u"?null:document;function m_(t,r,a){var l=Ha;if(l&&typeof r=="string"&&r){var f=pt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),d_.has(f)||(d_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),zt(r,"link",t),ut(r),l.head.appendChild(r)))}}function zS(t){Gi.D(t),m_("dns-prefetch",t,null)}function BS(t,r){Gi.C(t,r),m_("preconnect",t,r)}function jS(t,r,a){Gi.L(t,r,a);var l=Ha;if(l&&t&&r){var f='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+pt(a.imageSizes)+'"]')):f+='[href="'+pt(t)+'"]';var d=f;switch(r){case"style":d=qa(t);break;case"script":d=Fa(t)}kn.has(d)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),kn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(Sl(d))||(r=l.createElement("link"),zt(r,"link",t),ut(r),l.head.appendChild(r)))}}function HS(t,r){Gi.m(t,r);var a=Ha;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fa(t)}if(!kn.has(d)&&(t=v({rel:"modulepreload",href:t},r),kn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Sl(d)))return}l=a.createElement("link"),zt(l,"link",t),ut(l),a.head.appendChild(l)}}}function qS(t,r,a){Gi.S(t,r,a);var l=Ha;if(l&&t){var f=Zt(l).hoistableStyles,d=qa(t);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(bl(d)))b.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=kn.get(d))&&Zd(t,a);var D=E=l.createElement("link");ut(D),zt(D,"link",t),D._p=new Promise(function(F,W){D.onload=F,D.onerror=W}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Rc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function FS(t,r){Gi.X(t,r);var a=Ha;if(a&&t){var l=Zt(a).hoistableScripts,f=Fa(t),d=l.get(f);d||(d=a.querySelector(Sl(f)),d||(t=v({src:t,async:!0},r),(r=kn.get(f))&&Wd(t,r),d=a.createElement("script"),ut(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function GS(t,r){Gi.M(t,r);var a=Ha;if(a&&t){var l=Zt(a).hoistableScripts,f=Fa(t),d=l.get(f);d||(d=a.querySelector(Sl(f)),d||(t=v({src:t,async:!0,type:"module"},r),(r=kn.get(f))&&Wd(t,r),d=a.createElement("script"),ut(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function p_(t,r,a,l){var f=(f=Te.current)?Ac(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=qa(a.href),a=Zt(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=Zt(f).hoistableStyles,E=d.get(t);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=f.querySelector(bl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},kn.set(t,a),d||KS(f,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Fa(a),a=Zt(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+pt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function KS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ut(r),t.head.appendChild(r))}function Fa(t){return'[src="'+pt(t)+'"]'}function Sl(t){return"script[async]"+t}function y_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return r.instance=l,ut(l),l;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),zt(l,"style",f),Rc(l,a.precedence,t),r.instance=l;case"stylesheet":f=qa(a.href);var d=t.querySelector(bl(f));if(d)return r.state.loading|=4,r.instance=d,ut(d),d;l=g_(a),(f=kn.get(f))&&Zd(l,f),d=(t.ownerDocument||t).createElement("link"),ut(d);var E=d;return E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),zt(d,"link",l),r.state.loading|=4,Rc(d,a.precedence,t),r.instance=d;case"script":return d=Fa(a.src),(f=t.querySelector(Sl(d)))?(r.instance=f,ut(f),f):(l=a,(f=kn.get(d))&&(l=v({},a),Wd(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),ut(f),zt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Rc(l,a.precedence,t));return r.instance}function Rc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Zd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Wd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Cc=null;function v_(t,r,a){if(Cc===null){var l=new Map,f=Cc=new Map;f.set(a,l)}else f=Cc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[as]||d[_t]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function __(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function YS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function XS(){}function $S(t,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=qa(a.href),d=t.querySelector(bl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ic.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ut(d);return}d=t.ownerDocument||t,a=g_(a),(f=kn.get(f))&&Zd(a,f),d=d.createElement("link"),ut(d);var E=d;E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Ic.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function QS(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Jd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Jd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ic(){if(this.count--,this.count===0){if(this.stylesheets)Jd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Jd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,r.forEach(ZS,t),Oc=null,Ic.call(t))}function ZS(t,r){if(!(r.state.loading&4)){var a=Oc.get(t);if(a)var l=a.get(null);else{a=new Map,Oc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Ic.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Rl={$$typeof:$,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function WS(t,r,a,l,f,d,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function T_(t,r,a,l,f,d,E,b,D,F,W,te){return t=new WS(t,r,a,E,b,D,F,te),r=1,d===!0&&(r|=24),d=fn(3,null,null,r),t.current=d,d.stateNode=t,r=xf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Uf(d),t}function w_(t){return t?(t=Ta,t):Ta}function b_(t,r,a,l,f,d){f=w_(f),l.context===null?l.context=f:l.pendingContext=f,l=dr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=mr(t,l,r),a!==null&&(yn(a,t,r),nl(a,t,r))}function S_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function em(t,r){S_(t,r),(t=t.alternate)&&S_(t,r)}function A_(t){if(t.tag===13){var r=Ea(t,67108864);r!==null&&yn(r,t,67108864),em(t,67108864)}}var Dc=!0;function JS(t,r,a,l){var f=Z.T;Z.T=null;var d=oe.p;try{oe.p=2,tm(t,r,a,l)}finally{oe.p=d,Z.T=f}}function eA(t,r,a,l){var f=Z.T;Z.T=null;var d=oe.p;try{oe.p=8,tm(t,r,a,l)}finally{oe.p=d,Z.T=f}}function tm(t,r,a,l){if(Dc){var f=nm(l);if(f===null)Hd(t,r,l,Nc,a),C_(t,l);else if(nA(f,t,r,a,l))l.stopPropagation();else if(C_(t,l),r&4&&-1<tA.indexOf(t)){for(;f!==null;){var d=Kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Pn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var D=1<<31-qt(E);b.entanglements[1]|=D,E&=~D}ai(d),(qe&6)===0&&(mc=En()+500,_l(0))}}break;case 13:b=Ea(d,2),b!==null&&yn(b,d,2),gc(),em(d,2)}if(d=nm(l),d===null&&Hd(t,r,l,Nc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Hd(t,r,l,null,a)}}function nm(t){return t=bn(t),im(t)}var Nc=null;function im(t){if(Nc=null,t=bi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Nc=t,null}function R_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(af()){case So:return 2;case Js:return 8;case ts:case of:return 32;case ea:return 268435456;default:return 32}default:return 32}}var rm=!1,Cr=null,Ir=null,Or=null,Cl=new Map,Il=new Map,Dr=[],tA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(t,r){switch(t){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(r.pointerId)}}function Ol(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Kn(r),r!==null&&A_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function nA(t,r,a,l,f){switch(r){case"focusin":return Cr=Ol(Cr,t,r,a,l,f),!0;case"dragenter":return Ir=Ol(Ir,t,r,a,l,f),!0;case"mouseover":return Or=Ol(Or,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Cl.set(d,Ol(Cl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Il.set(d,Ol(Il.get(d)||null,t,r,a,l,f)),!0}return!1}function I_(t){var r=bi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,gu(t.priority,function(){if(a.tag===13){var l=gn();l=rr(l);var f=Ea(a,l);f!==null&&yn(f,a,l),em(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=nm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ci=l,a.target.dispatchEvent(l),Ci=null}else return r=Kn(a),r!==null&&A_(r),t.blockedOn=a,!1;r.shift()}return!0}function O_(t,r,a){kc(t)&&a.delete(r)}function iA(){rm=!1,Cr!==null&&kc(Cr)&&(Cr=null),Ir!==null&&kc(Ir)&&(Ir=null),Or!==null&&kc(Or)&&(Or=null),Cl.forEach(O_),Il.forEach(O_)}function Mc(t,r){t.blockedOn===r&&(t.blockedOn=null,rm||(rm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,iA)))}var xc=null;function D_(t){xc!==t&&(xc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(im(l||a)===null)continue;break}var d=Kn(a);d!==null&&(t.splice(r,3),r-=3,id(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Dl(t){function r(D){return Mc(D,t)}Cr!==null&&Mc(Cr,t),Ir!==null&&Mc(Ir,t),Or!==null&&Mc(Or,t),Cl.forEach(r),Il.forEach(r);for(var a=0;a<Dr.length;a++){var l=Dr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&Dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[mt]||null;if(typeof d=="function")E||D_(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[mt]||null)b=E.formAction;else if(im(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),D_(a)}}}function sm(t){this._internalRoot=t}Pc.prototype.render=sm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=gn();b_(a,l,t,r,null,null)},Pc.prototype.unmount=sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;b_(t.current,2,null,t,null,null),gc(),r[Tn]=null}};function Pc(t){this._internalRoot=t}Pc.prototype.unstable_scheduleHydration=function(t){if(t){var r=sr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Dr.length&&r!==0&&r<Dr[a].priority;a++);Dr.splice(a,0,t),a===0&&I_(t)}};var N_=e.version;if(N_!=="19.1.0")throw Error(s(527,N_,"19.1.0"));oe.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var rA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{st=Vc.inject(rA),He=Vc}catch{}}return kl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Yy,d=Xy,E=$y,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=T_(t,1,!1,null,null,a,l,f,d,E,b,null),t[Tn]=r.current,jd(t),new sm(r)},kl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=Yy,E=Xy,b=$y,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=T_(t,1,!0,r,a??null,l,f,d,E,b,D,F),r.context=w_(null),a=r.current,l=gn(),l=rr(l),f=dr(l),f.callback=null,mr(a,f,l),a=l,r.current.lanes=a,wi(r,a),ai(r),t[Tn]=r.current,jd(t),new Pc(r)},kl.version="19.1.0",kl}var j_;function pA(){if(j_)return om.exports;j_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),om.exports=mA(),om.exports}var gA=pA(),q=kh();const GE=aA(q);var Um=function(i,e){return Um=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},Um(i,e)};function yA(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Um(i,e);function n(){this.constructor=i}i.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var kt=function(){return kt=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},kt.apply(this,arguments)};function vA(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function Ga(i,e,n,s){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(v){try{g(s.next(v))}catch(T){h(T)}}function p(v){try{g(s.throw(v))}catch(T){h(T)}}function g(v){v.done?u(v.value):o(v.value).then(m,p)}g((s=s.apply(i,[])).next())})}function Ka(i,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,o,u,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=m(0),h.throw=m(1),h.return=m(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function m(g){return function(v){return p([g,v])}}function p(g){if(s)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(s=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,o=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){n.label=g[1];break}if(g[0]===6&&n.label<u[1]){n.label=u[1],u=g;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(g);break}u[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(i,n)}catch(v){g=[6,v],o=0}finally{s=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function li(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]])}return n}var Us=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Ap(i,e){return i(e={exports:{}},e.exports),e.exports}var Ps=Ap(function(i,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function s(){var o=this;this.locked=new Map,this.addToLocked=function(u,h){var m=o.locked.get(u);m===void 0?h===void 0?o.locked.set(u,[]):o.locked.set(u,[h]):h!==void 0&&(m.unshift(h),o.locked.set(u,m))},this.isLocked=function(u){return o.locked.has(u)},this.lock=function(u){return new Promise(function(h,m){o.isLocked(u)?o.addToLocked(u,h):(o.addToLocked(u),h())})},this.unlock=function(u){var h=o.locked.get(u);if(h!==void 0&&h.length!==0){var m=h.pop();o.locked.set(u,h),m!==void 0&&setTimeout(m,0)}else o.locked.delete(u)}}return s.getInstance=function(){return s.instance===void 0&&(s.instance=new s),s.instance},s}();e.default=function(){return n.getInstance()}});Sp(Ps);var _A=Sp(Ap(function(i,e){var n=Us&&Us.__awaiter||function(v,T,w,C){return new(w||(w=Promise))(function(I,z){function V($){try{B(C.next($))}catch(Y){z(Y)}}function G($){try{B(C.throw($))}catch(Y){z(Y)}}function B($){$.done?I($.value):new w(function(Y){Y($.value)}).then(V,G)}B((C=C.apply(v,T||[])).next())})},s=Us&&Us.__generator||function(v,T){var w,C,I,z,V={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return z={next:G(0),throw:G(1),return:G(2)},typeof Symbol=="function"&&(z[Symbol.iterator]=function(){return this}),z;function G(B){return function($){return function(Y){if(w)throw new TypeError("Generator is already executing.");for(;V;)try{if(w=1,C&&(I=2&Y[0]?C.return:Y[0]?C.throw||((I=C.return)&&I.call(C),0):C.next)&&!(I=I.call(C,Y[1])).done)return I;switch(C=0,I&&(Y=[2&Y[0],I.value]),Y[0]){case 0:case 1:I=Y;break;case 4:return V.label++,{value:Y[1],done:!1};case 5:V.label++,C=Y[1],Y=[0];continue;case 7:Y=V.ops.pop(),V.trys.pop();continue;default:if(I=V.trys,!((I=I.length>0&&I[I.length-1])||Y[0]!==6&&Y[0]!==2)){V=0;continue}if(Y[0]===3&&(!I||Y[1]>I[0]&&Y[1]<I[3])){V.label=Y[1];break}if(Y[0]===6&&V.label<I[1]){V.label=I[1],I=Y;break}if(I&&V.label<I[2]){V.label=I[2],V.ops.push(Y);break}I[2]&&V.ops.pop(),V.trys.pop();continue}Y=T.call(v,V)}catch(ee){Y=[6,ee],C=0}finally{w=I=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([B,$])}}},o=Us;Object.defineProperty(e,"__esModule",{value:!0});var u="browser-tabs-lock-key",h={key:function(v){return n(o,void 0,void 0,function(){return s(this,function(T){throw new Error("Unsupported")})})},getItem:function(v){return n(o,void 0,void 0,function(){return s(this,function(T){throw new Error("Unsupported")})})},clear:function(){return n(o,void 0,void 0,function(){return s(this,function(v){return[2,window.localStorage.clear()]})})},removeItem:function(v){return n(o,void 0,void 0,function(){return s(this,function(T){throw new Error("Unsupported")})})},setItem:function(v,T){return n(o,void 0,void 0,function(){return s(this,function(w){throw new Error("Unsupported")})})},keySync:function(v){return window.localStorage.key(v)},getItemSync:function(v){return window.localStorage.getItem(v)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(v){return window.localStorage.removeItem(v)},setItemSync:function(v,T){return window.localStorage.setItem(v,T)}};function m(v){return new Promise(function(T){return setTimeout(T,v)})}function p(v){for(var T="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",w="",C=0;C<v;C++)w+=T[Math.floor(Math.random()*T.length)];return w}var g=function(){function v(T){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+p(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=T,v.waiters===void 0&&(v.waiters=[])}return v.prototype.acquireLock=function(T,w){return w===void 0&&(w=5e3),n(this,void 0,void 0,function(){var C,I,z,V,G,B,$;return s(this,function(Y){switch(Y.label){case 0:C=Date.now()+p(4),I=Date.now()+w,z=u+"-"+T,V=this.storageHandler===void 0?h:this.storageHandler,Y.label=1;case 1:return Date.now()<I?[4,m(30)]:[3,8];case 2:return Y.sent(),V.getItemSync(z)!==null?[3,5]:(G=this.id+"-"+T+"-"+C,[4,m(Math.floor(25*Math.random()))]);case 3:return Y.sent(),V.setItemSync(z,JSON.stringify({id:this.id,iat:C,timeoutKey:G,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,m(30)];case 4:return Y.sent(),(B=V.getItemSync(z))!==null&&($=JSON.parse(B)).id===this.id&&$.iat===C?(this.acquiredIatSet.add(C),this.refreshLockWhileAcquired(z,C),[2,!0]):[3,7];case 5:return v.lockCorrector(this.storageHandler===void 0?h:this.storageHandler),[4,this.waitForSomethingToChange(I)];case 6:Y.sent(),Y.label=7;case 7:return C=Date.now()+p(4),[3,1];case 8:return[2,!1]}})})},v.prototype.refreshLockWhileAcquired=function(T,w){return n(this,void 0,void 0,function(){var C=this;return s(this,function(I){return setTimeout(function(){return n(C,void 0,void 0,function(){var z,V,G;return s(this,function(B){switch(B.label){case 0:return[4,Ps.default().lock(w)];case 1:return B.sent(),this.acquiredIatSet.has(w)?(z=this.storageHandler===void 0?h:this.storageHandler,(V=z.getItemSync(T))===null?(Ps.default().unlock(w),[2]):((G=JSON.parse(V)).timeRefreshed=Date.now(),z.setItemSync(T,JSON.stringify(G)),Ps.default().unlock(w),this.refreshLockWhileAcquired(T,w),[2])):(Ps.default().unlock(w),[2])}})})},1e3),[2]})})},v.prototype.waitForSomethingToChange=function(T){return n(this,void 0,void 0,function(){return s(this,function(w){switch(w.label){case 0:return[4,new Promise(function(C){var I=!1,z=Date.now(),V=!1;function G(){if(V||(window.removeEventListener("storage",G),v.removeFromWaiting(G),clearTimeout(B),V=!0),!I){I=!0;var $=50-(Date.now()-z);$>0?setTimeout(C,$):C(null)}}window.addEventListener("storage",G),v.addToWaiting(G);var B=setTimeout(G,Math.max(0,T-Date.now()))})];case 1:return w.sent(),[2]}})})},v.addToWaiting=function(T){this.removeFromWaiting(T),v.waiters!==void 0&&v.waiters.push(T)},v.removeFromWaiting=function(T){v.waiters!==void 0&&(v.waiters=v.waiters.filter(function(w){return w!==T}))},v.notifyWaiters=function(){v.waiters!==void 0&&v.waiters.slice().forEach(function(T){return T()})},v.prototype.releaseLock=function(T){return n(this,void 0,void 0,function(){return s(this,function(w){switch(w.label){case 0:return[4,this.releaseLock__private__(T)];case 1:return[2,w.sent()]}})})},v.prototype.releaseLock__private__=function(T){return n(this,void 0,void 0,function(){var w,C,I,z;return s(this,function(V){switch(V.label){case 0:return w=this.storageHandler===void 0?h:this.storageHandler,C=u+"-"+T,(I=w.getItemSync(C))===null?[2]:(z=JSON.parse(I)).id!==this.id?[3,2]:[4,Ps.default().lock(z.iat)];case 1:V.sent(),this.acquiredIatSet.delete(z.iat),w.removeItemSync(C),Ps.default().unlock(z.iat),v.notifyWaiters(),V.label=2;case 2:return[2]}})})},v.lockCorrector=function(T){for(var w=Date.now()-5e3,C=T,I=[],z=0;;){var V=C.keySync(z);if(V===null)break;I.push(V),z++}for(var G=!1,B=0;B<I.length;B++){var $=I[B];if($.includes(u)){var Y=C.getItemSync($);if(Y!==null){var ee=JSON.parse(Y);(ee.timeRefreshed===void 0&&ee.timeAcquired<w||ee.timeRefreshed!==void 0&&ee.timeRefreshed<w)&&(C.removeItemSync($),G=!0)}}}G&&v.notifyWaiters()},v.waiters=void 0,v}();e.default=g}));const EA={timeoutInSeconds:60},KE={name:"auth0-spa-js",version:"2.1.3"},YE=()=>Date.now();class Xt extends Error{constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,Xt.prototype)}static fromPayload({error:e,error_description:n}){return new Xt(e,n)}}class Rp extends Xt{constructor(e,n,s,o=null){super(e,n),this.state=s,this.appState=o,Object.setPrototypeOf(this,Rp.prototype)}}class Kl extends Xt{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,Kl.prototype)}}class Cp extends Kl{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,Cp.prototype)}}class Ip extends Xt{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,Ip.prototype)}}class Op extends Xt{constructor(e,n,s){super(e,n),this.mfa_token=s,Object.setPrototypeOf(this,Op.prototype)}}class Mh extends Xt{constructor(e,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${H_(e,["default"])}', scope: '${H_(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,Mh.prototype)}}function H_(i,e=[]){return i&&!e.includes(i)?i:""}const Qc=()=>window.crypto,fm=()=>{const i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(Qc().getRandomValues(new Uint8Array(43))).forEach(n=>e+=i[n%i.length]),e},q_=i=>btoa(i),zm=i=>{var{clientId:e}=i,n=li(i,["clientId"]);return new URLSearchParams((s=>Object.keys(s).filter(o=>s[o]!==void 0).reduce((o,u)=>Object.assign(Object.assign({},o),{[u]:s[u]}),{}))(Object.assign({client_id:e},n))).toString()},F_=i=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(i.replace(/_/g,"/").replace(/-/g,"+")),TA=async(i,e)=>{const n=await fetch(i,e);return{ok:n.ok,json:await n.json()}},wA=async(i,e,n)=>{const s=new AbortController;let o;return e.signal=s.signal,Promise.race([TA(i,e),new Promise((u,h)=>{o=setTimeout(()=>{s.abort(),h(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(o)})},bA=async(i,e,n,s,o,u,h)=>{return m={auth:{audience:e,scope:n},timeout:o,fetchUrl:i,fetchOptions:s,useFormData:h},p=u,new Promise(function(g,v){const T=new MessageChannel;T.port1.onmessage=function(w){w.data.error?v(new Error(w.data.error)):g(w.data),T.port1.close()},p.postMessage(m,[T.port2])});var m,p},SA=async(i,e,n,s,o,u,h=1e4)=>o?bA(i,e,n,s,h,o,u):wA(i,s,h);async function AA(i,e){var{baseUrl:n,timeout:s,audience:o,scope:u,auth0Client:h,useFormData:m}=i,p=li(i,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const g=m?zm(p):JSON.stringify(p);return await async function(v,T,w,C,I,z,V){let G,B=null;for(let A=0;A<3;A++)try{G=await SA(v,w,C,I,z,V,T),B=null;break}catch(R){B=R}if(B)throw B;const $=G.json,{error:Y,error_description:ee}=$,re=li($,["error","error_description"]),{ok:O}=G;if(!O){const A=ee||`HTTP error. Unable to fetch ${v}`;throw Y==="mfa_required"?new Op(Y,A,re.mfa_token):Y==="missing_refresh_token"?new Mh(w,C):new Xt(Y||"request_error",A)}return re}(`${n}/oauth/token`,s,o||"default",u,{method:"POST",body:g,headers:{"Content-Type":m?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(h||KE))}},e,m)}const Lc=(...i)=>{return(e=i.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};class ci{constructor(e,n="@@auth0spajs@@",s){this.prefix=n,this.suffix=s,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[n,s,o,u]=e.split("::");return new ci({clientId:s,scope:u,audience:o},n)}static fromCacheEntry(e){const{scope:n,audience:s,client_id:o}=e;return new ci({scope:n,audience:s,clientId:o})}}let RA=class{set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){const n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}};class XE{constructor(){this.enclosedCache=function(){let e={};return{set(n,s){e[n]=s},get(n){const s=e[n];if(s)return s},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}}()}}let CA=class{constructor(e,n,s){this.cache=e,this.keyManifest=n,this.nowProvider=s||YE}async setIdToken(e,n,s){var o;const u=this.getIdTokenCacheKey(e);await this.cache.set(u,{id_token:n,decodedToken:s}),await((o=this.keyManifest)===null||o===void 0?void 0:o.add(u))}async getIdToken(e){const n=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){const s=await this.get(e);return!s||!s.id_token||!s.decodedToken?void 0:{id_token:s.id_token,decodedToken:s.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(e,n=0){var s;let o=await this.cache.get(e.toKey());if(!o){const m=await this.getCacheKeys();if(!m)return;const p=this.matchExistingCacheKey(e,m);p&&(o=await this.cache.get(p))}if(!o)return;const u=await this.nowProvider(),h=Math.floor(u/1e3);return o.expiresAt-n<h?o.body.refresh_token?(o.body={refresh_token:o.body.refresh_token},await this.cache.set(e.toKey(),o),o.body):(await this.cache.remove(e.toKey()),void await((s=this.keyManifest)===null||s===void 0?void 0:s.remove(e.toKey()))):o.body}async set(e){var n;const s=new ci({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(s.toKey(),o),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(s.toKey()))}async clear(e){var n;const s=await this.getCacheKeys();s&&(await s.filter(o=>!e||o.includes(e)).reduce(async(o,u)=>{await o,await this.cache.remove(u)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(e){const n=await this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new ci({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(s=>{var o;const u=ci.fromKey(s),h=new Set(u.scope&&u.scope.split(" ")),m=((o=e.scope)===null||o===void 0?void 0:o.split(" "))||[],p=u.scope&&m.reduce((g,v)=>g&&h.has(v),!0);return u.prefix==="@@auth0spajs@@"&&u.clientId===e.clientId&&u.audience===e.audience&&p})[0]}};class IA{constructor(e,n,s){this.storage=e,this.clientId=n,this.cookieDomain=s,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const Ml=i=>typeof i=="number",OA=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],DA=i=>{if(!i.id_token)throw new Error("ID token is required but missing");const e=(u=>{const h=u.split("."),[m,p,g]=h;if(h.length!==3||!m||!p||!g)throw new Error("ID token could not be decoded");const v=JSON.parse(F_(p)),T={__raw:u},w={};return Object.keys(v).forEach(C=>{T[C]=v[C],OA.includes(C)||(w[C]=v[C])}),{encoded:{header:m,payload:p,signature:g},header:JSON.parse(F_(m)),claims:T,user:w}})(i.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==i.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${i.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(i.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${i.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==i.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${i.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==i.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${i.aud}" but found "${e.claims.aud}"`);if(i.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==i.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${i.nonce}", found "${e.claims.nonce}"`)}if(i.max_age&&!Ml(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Ml(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Ml(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=i.leeway||60,s=new Date(i.now||Date.now()),o=new Date(0);if(o.setUTCSeconds(e.claims.exp+n),s>o)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${s}) is after expiration time (${o})`);if(e.claims.nbf!=null&&Ml(e.claims.nbf)){const u=new Date(0);if(u.setUTCSeconds(e.claims.nbf-n),s<u)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${s}) is before ${u}`)}if(e.claims.auth_time!=null&&Ml(e.claims.auth_time)){const u=new Date(0);if(u.setUTCSeconds(parseInt(e.claims.auth_time)+i.max_age+n),s>u)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${s}) is after last auth at ${u}`)}if(i.organization){const u=i.organization.trim();if(u.startsWith("org_")){const h=u;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(h!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${h}", found "${e.claims.org_id}"`)}else{const h=u.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(h!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${h}", found "${e.claims.org_name}"`)}}return e};var zs=Ap(function(i,e){var n=Us&&Us.__assign||function(){return n=Object.assign||function(p){for(var g,v=1,T=arguments.length;v<T;v++)for(var w in g=arguments[v])Object.prototype.hasOwnProperty.call(g,w)&&(p[w]=g[w]);return p},n.apply(this,arguments)};function s(p,g){if(!g)return"";var v="; "+p;return g===!0?v:v+"="+g}function o(p,g,v){return encodeURIComponent(p).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(g).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(T){if(typeof T.expires=="number"){var w=new Date;w.setMilliseconds(w.getMilliseconds()+864e5*T.expires),T.expires=w}return s("Expires",T.expires?T.expires.toUTCString():"")+s("Domain",T.domain)+s("Path",T.path)+s("Secure",T.secure)+s("SameSite",T.sameSite)}(v)}function u(p){for(var g={},v=p?p.split("; "):[],T=/(%[\dA-F]{2})+/gi,w=0;w<v.length;w++){var C=v[w].split("="),I=C.slice(1).join("=");I.charAt(0)==='"'&&(I=I.slice(1,-1));try{g[C[0].replace(T,decodeURIComponent)]=I.replace(T,decodeURIComponent)}catch{}}return g}function h(){return u(document.cookie)}function m(p,g,v){document.cookie=o(p,g,n({path:"/"},v))}e.__esModule=!0,e.encode=o,e.parse=u,e.getAll=h,e.get=function(p){return h()[p]},e.set=m,e.remove=function(p,g){m(p,"",n(n({},g),{expires:-1}))}});Sp(zs),zs.encode,zs.parse,zs.getAll;var NA=zs.get,$E=zs.set,QE=zs.remove;const Ya={get(i){const e=NA(i);if(e!==void 0)return JSON.parse(e)},save(i,e,n){let s={};window.location.protocol==="https:"&&(s={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(s.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(s.domain=n.cookieDomain),$E(i,JSON.stringify(e),s)},remove(i,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),QE(i,n)}},kA={get(i){return Ya.get(i)||Ya.get(`_legacy_${i}`)},save(i,e,n){let s={};window.location.protocol==="https:"&&(s={secure:!0}),n!=null&&n.daysUntilExpire&&(s.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(s.domain=n.cookieDomain),$E(`_legacy_${i}`,JSON.stringify(e),s),Ya.save(i,e,n)},remove(i,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),QE(i,n),Ya.remove(i,e),Ya.remove(`_legacy_${i}`,e)}},MA={get(i){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(i);return e!=null?JSON.parse(e):void 0},save(i,e){sessionStorage.setItem(i,JSON.stringify(e))},remove(i){sessionStorage.removeItem(i)}};function xA(i,e,n){var s=e===void 0?null:e,o=function(p,g){var v=atob(p);if(g){for(var T=new Uint8Array(v.length),w=0,C=v.length;w<C;++w)T[w]=v.charCodeAt(w);return String.fromCharCode.apply(null,new Uint16Array(T.buffer))}return v}(i,n!==void 0&&n),u=o.indexOf(`
`,10)+1,h=o.substring(u)+(s?"//# sourceMappingURL="+s:""),m=new Blob([h],{type:"application/javascript"});return URL.createObjectURL(m)}var G_,K_,Y_,dm,PA=(G_="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",K_=null,Y_=!1,function(i){return dm=dm||xA(G_,K_,Y_),new Worker(dm,i)});const mm={};let VA=class{constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var n;const s=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);s.add(e),await this.cache.set(this.manifestKey,{keys:[...s]})}async remove(e){const n=await this.cache.get(this.manifestKey);if(n){const s=new Set(n.keys);return s.delete(e),s.size>0?await this.cache.set(this.manifestKey,{keys:[...s]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}};const LA={memory:()=>new XE().enclosedCache,localstorage:()=>new RA},X_=i=>LA[i],$_=i=>{const{openUrl:e,onRedirect:n}=i,s=li(i,["openUrl","onRedirect"]);return Object.assign(Object.assign({},s),{openUrl:e===!1||e?e:n})},pm=new _A;class UA{constructor(e){let n,s;if(this.userCache=new XE().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await pm.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!Qc())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Qc().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)s=e.cache;else{if(n=e.cacheLocation||"memory",!X_(n))throw new Error(`Invalid cache location "${n}"`);s=X_(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?Ya:kA,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(h=>`auth0.${h}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const o=e.useCookiesForTransactions?this.cookieStorage:MA;var u;this.scope=Lc("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new IA(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||YE,this.cacheManager=new CA(s,s.allKeys?void 0:new VA(s,this.options.clientId),this.nowProvider),this.domainUrl=(u=this.options.domain,/^https?:\/\//.test(u)?u:`https://${u}`),this.tokenIssuer=((h,m)=>h?h.startsWith("https://")?h:`https://${h}/`:`${m}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new PA)}_url(e){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||KE)));return`${this.domainUrl}${e}&auth0Client=${n}`}_authorizeUrl(e){return this._url(`/authorize?${zm(e)}`)}async _verifyIdToken(e,n,s){const o=await this.nowProvider();return DA({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:s,leeway:this.options.leeway,max_age:(u=this.options.authorizationParams.max_age,typeof u!="string"?u:parseInt(u,10)||void 0),now:o});var u}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,n,s){const o=q_(fm()),u=q_(fm()),h=fm(),m=(v=>{const T=new Uint8Array(v);return(w=>{const C={"+":"-","/":"_","=":""};return w.replace(/[+/=]/g,I=>C[I])})(window.btoa(String.fromCharCode(...Array.from(T))))})(await(async v=>await Qc().subtle.digest({name:"SHA-256"},new TextEncoder().encode(v)))(h)),p=((v,T,w,C,I,z,V,G)=>Object.assign(Object.assign(Object.assign({client_id:v.clientId},v.authorizationParams),w),{scope:Lc(T,w.scope),response_type:"code",response_mode:G||"query",state:C,nonce:I,redirect_uri:V||v.authorizationParams.redirect_uri,code_challenge:z,code_challenge_method:"S256"}))(this.options,this.scope,e,o,u,m,e.redirect_uri||this.options.authorizationParams.redirect_uri||s,n==null?void 0:n.response_mode),g=this._authorizeUrl(p);return{nonce:u,code_verifier:h,scope:p.scope,audience:p.audience||"default",redirect_uri:p.redirect_uri,state:o,url:g}}async loginWithPopup(e,n){var s;if(e=e||{},!(n=n||{}).popup&&(n.popup=(m=>{const p=window.screenX+(window.innerWidth-400)/2,g=window.screenY+(window.innerHeight-600)/2;return window.open(m,"auth0:authorize:popup",`left=${p},top=${g},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=o.url;const u=await(m=>new Promise((p,g)=>{let v;const T=setInterval(()=>{m.popup&&m.popup.closed&&(clearInterval(T),clearTimeout(w),window.removeEventListener("message",v,!1),g(new Ip(m.popup)))},1e3),w=setTimeout(()=>{clearInterval(T),g(new Cp(m.popup)),window.removeEventListener("message",v,!1)},1e3*(m.timeoutInSeconds||60));v=function(C){if(C.data&&C.data.type==="authorization_response"){if(clearTimeout(w),clearInterval(T),window.removeEventListener("message",v,!1),m.popup.close(),C.data.response.error)return g(Xt.fromPayload(C.data.response));p(C.data.response)}},window.addEventListener("message",v)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==u.state)throw new Xt("state_mismatch","Invalid state");const h=((s=e.authorizationParams)===null||s===void 0?void 0:s.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:u.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:h})}async getUser(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var n;const s=$_(e),{openUrl:o,fragment:u,appState:h}=s,m=li(s,["openUrl","fragment","appState"]),p=((n=m.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,g=await this._prepareAuthorizeUrl(m.authorizationParams||{}),{url:v}=g,T=li(g,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},T),{appState:h}),p&&{organization:p}));const w=u?`${v}#${u}`:v;o?await o(w):window.location.assign(w)}async handleRedirectCallback(e=window.location.href){const n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:s,code:o,error:u,error_description:h}=(T=>{T.indexOf("#")>-1&&(T=T.substring(0,T.indexOf("#")));const w=new URLSearchParams(T);return{state:w.get("state"),code:w.get("code")||void 0,error:w.get("error")||void 0,error_description:w.get("error_description")||void 0}})(n.join("")),m=this.transactionManager.get();if(!m)throw new Xt("missing_transaction","Invalid state");if(this.transactionManager.remove(),u)throw new Rp(u,h||u,s,m.appState);if(!m.code_verifier||m.state&&m.state!==s)throw new Xt("state_mismatch","Invalid state");const p=m.organization,g=m.nonce,v=m.redirect_uri;return await this._requestToken(Object.assign({audience:m.audience,scope:m.scope,code_verifier:m.code_verifier,grant_type:"authorization_code",code:o},v?{redirect_uri:v}:{}),{nonceIn:g,organization:p}),{appState:m.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var n;const s=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Lc(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope)})}),o=await((u,h)=>{let m=mm[h];return m||(m=u().finally(()=>{delete mm[h],m=null}),mm[h]=m),m})(()=>this._getTokenSilently(s),`${this.options.clientId}::${s.authorizationParams.audience}::${s.authorizationParams.scope}`);return e.detailedResponse?o:o==null?void 0:o.access_token}async _getTokenSilently(e){const{cacheMode:n}=e,s=li(e,["cacheMode"]);if(n!=="off"){const o=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(o)return o}if(n!=="cache-only"){if(!await(async(o,u=3)=>{for(let h=0;h<u;h++)if(await o())return!0;return!1})(()=>pm.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new Kl;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const g=await this._getEntryFromCache({scope:s.authorizationParams.scope,audience:s.authorizationParams.audience||"default",clientId:this.options.clientId});if(g)return g}const o=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(s):await this._getTokenFromIFrame(s),{id_token:u,access_token:h,oauthTokenScope:m,expires_in:p}=o;return Object.assign(Object.assign({id_token:u,access_token:h},m?{scope:m}:null),{expires_in:p})}finally{await pm.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},n={}){var s;const o=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Lc(this.scope,(s=e.authorizationParams)===null||s===void 0?void 0:s.scope)})});return n=Object.assign(Object.assign({},EA),n),await this.loginWithPopup(o,n),(await this.cacheManager.get(new ci({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const n=e.logoutParams||{},{federated:s}=n,o=li(n,["federated"]),u=s?"&federated":"";return this._url(`/v2/logout?${zm(Object.assign({clientId:e.clientId},o))}`)+u}async logout(e={}){const n=$_(e),{openUrl:s}=n,o=li(n,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const u=this._buildLogoutUrl(o);s?await s(u):s!==!1&&window.location.assign(u)}async _getTokenFromIFrame(e){const n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),s=this.cookieStorage.get(this.orgHintCookieName);s&&!n.organization&&(n.organization=s);const{url:o,state:u,nonce:h,code_verifier:m,redirect_uri:p,scope:g,audience:v}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Xt("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const T=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,w=await((I,z,V=60)=>new Promise((G,B)=>{const $=window.document.createElement("iframe");$.setAttribute("width","0"),$.setAttribute("height","0"),$.style.display="none";const Y=()=>{window.document.body.contains($)&&(window.document.body.removeChild($),window.removeEventListener("message",ee,!1))};let ee;const re=setTimeout(()=>{B(new Kl),Y()},1e3*V);ee=function(O){if(O.origin!=z||!O.data||O.data.type!=="authorization_response")return;const A=O.source;A&&A.close(),O.data.response.error?B(Xt.fromPayload(O.data.response)):G(O.data.response),clearTimeout(re),window.removeEventListener("message",ee,!1),setTimeout(Y,2e3)},window.addEventListener("message",ee,!1),window.document.body.appendChild($),$.setAttribute("src",I)}))(o,this.domainUrl,T);if(u!==w.state)throw new Xt("state_mismatch","Invalid state");const C=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:m,code:w.code,grant_type:"authorization_code",redirect_uri:p,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:h,organization:n.organization});return Object.assign(Object.assign({},C),{scope:g,oauthTokenScope:C.scope,audience:v})}catch(T){throw T.error==="login_required"&&this.logout({openUrl:!1}),T}}async _getTokenUsingRefreshToken(e){const n=await this.cacheManager.get(new ci({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new Mh(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const s=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const u=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:s}),o&&{timeout:o}));return Object.assign(Object.assign({},u),{scope:e.authorizationParams.scope,oauthTokenScope:u.scope,audience:e.authorizationParams.audience||"default"})}catch(u){if((u.message.indexOf("Missing Refresh Token")>-1||u.message&&u.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw u}}async _saveEntryInCache(e){const{id_token:n,decodedToken:s}=e,o=li(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:s}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(o)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new ci({clientId:this.options.clientId,audience:e,scope:this.scope})),s=this.userCache.get("@@user@@");return n&&n.id_token===(s==null?void 0:s.id_token)?s:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:e,audience:n,clientId:s}){const o=await this.cacheManager.get(new ci({scope:e,audience:n,clientId:s}),60);if(o&&o.access_token){const{access_token:u,oauthTokenScope:h,expires_in:m}=o,p=await this._getIdTokenFromCache();return p&&Object.assign(Object.assign({id_token:p.id_token,access_token:u},h?{scope:h}:null),{expires_in:m})}}async _requestToken(e,n){const{nonceIn:s,organization:o}=n||{},u=await AA(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),h=await this._verifyIdToken(u.id_token,s,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},u),{decodedToken:h,scope:e.scope,audience:e.audience||"default"}),u.scope?{oauthTokenScope:u.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||h.claims.org_id),Object.assign(Object.assign({},u),{decodedToken:h})}}var ZE={isAuthenticated:!1,isLoading:!0},Ki=function(){throw new Error("You forgot to wrap your component in <Auth0Provider>.")},zA=kt(kt({},ZE),{buildAuthorizeUrl:Ki,buildLogoutUrl:Ki,getAccessTokenSilently:Ki,getAccessTokenWithPopup:Ki,getIdTokenClaims:Ki,loginWithRedirect:Ki,loginWithPopup:Ki,logout:Ki,handleRedirectCallback:Ki}),WE=q.createContext(zA),Q_=function(i){yA(e,i);function e(n,s){var o=i.call(this,s||n)||this;return o.error=n,o.error_description=s,Object.setPrototypeOf(o,e.prototype),o}return e}(Error),BA=/[?&]code=[^&]+/,jA=/[?&]state=[^&]+/,HA=/[?&]error=[^&]+/,qA=function(i){return i===void 0&&(i=window.location.search),(BA.test(i)||HA.test(i))&&jA.test(i)},JE=function(i){return function(e){return e instanceof Error?e:e!==null&&typeof e=="object"&&"error"in e&&typeof e.error=="string"?"error_description"in e&&typeof e.error_description=="string"?new Q_(e.error,e.error_description):new Q_(e.error):new Error(i)}},Z_=JE("Login failed"),gm=JE("Get access token failed"),eT=function(i){var e;i!=null&&i.redirectUri&&(console.warn("Using `redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),i.authorizationParams=i.authorizationParams||{},i.authorizationParams.redirect_uri=i.redirectUri,delete i.redirectUri),!((e=i==null?void 0:i.authorizationParams)===null||e===void 0)&&e.redirectUri&&(console.warn("Using `authorizationParams.redirectUri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `authorizationParams.redirectUri` will be removed in a future version"),i.authorizationParams.redirect_uri=i.authorizationParams.redirectUri,delete i.authorizationParams.redirectUri)},FA=function(i,e){switch(e.type){case"LOGIN_POPUP_STARTED":return kt(kt({},i),{isLoading:!0});case"LOGIN_POPUP_COMPLETE":case"INITIALISED":return kt(kt({},i),{isAuthenticated:!!e.user,user:e.user,isLoading:!1,error:void 0});case"HANDLE_REDIRECT_COMPLETE":case"GET_ACCESS_TOKEN_COMPLETE":return i.user===e.user?i:kt(kt({},i),{isAuthenticated:!!e.user,user:e.user});case"LOGOUT":return kt(kt({},i),{isAuthenticated:!1,user:void 0});case"ERROR":return kt(kt({},i),{isLoading:!1,error:e.error})}},GA=function(i){return eT(i),kt(kt({},i),{auth0Client:{name:"auth0-react",version:"2.3.0"}})},KA=function(i){window.history.replaceState({},document.title,(i==null?void 0:i.returnTo)||window.location.pathname)},YA=function(i){var e=i.children,n=i.skipRedirectCallback,s=i.onRedirectCallback,o=s===void 0?KA:s,u=i.context,h=u===void 0?WE:u,m=vA(i,["children","skipRedirectCallback","onRedirectCallback","context"]),p=q.useState(function(){return new UA(GA(m))})[0],g=q.useReducer(FA,ZE),v=g[0],T=g[1],w=q.useRef(!1),C=q.useCallback(function(re){return T({type:"ERROR",error:re}),re},[]);q.useEffect(function(){w.current||(w.current=!0,function(){return Ga(void 0,void 0,void 0,function(){var re,O,A;return Ka(this,function(R){switch(R.label){case 0:return R.trys.push([0,7,,8]),re=void 0,qA()&&!n?[4,p.handleRedirectCallback()]:[3,3];case 1:return O=R.sent().appState,[4,p.getUser()];case 2:return re=R.sent(),o(O,re),[3,6];case 3:return[4,p.checkSession()];case 4:return R.sent(),[4,p.getUser()];case 5:re=R.sent(),R.label=6;case 6:return T({type:"INITIALISED",user:re}),[3,8];case 7:return A=R.sent(),C(Z_(A)),[3,8];case 8:return[2]}})})}())},[p,o,n,C]);var I=q.useCallback(function(re){return eT(re),p.loginWithRedirect(re)},[p]),z=q.useCallback(function(re,O){return Ga(void 0,void 0,void 0,function(){var A,R;return Ka(this,function(N){switch(N.label){case 0:T({type:"LOGIN_POPUP_STARTED"}),N.label=1;case 1:return N.trys.push([1,3,,4]),[4,p.loginWithPopup(re,O)];case 2:return N.sent(),[3,4];case 3:return A=N.sent(),C(Z_(A)),[2];case 4:return[4,p.getUser()];case 5:return R=N.sent(),T({type:"LOGIN_POPUP_COMPLETE",user:R}),[2]}})})},[p]),V=q.useCallback(function(re){return re===void 0&&(re={}),Ga(void 0,void 0,void 0,function(){return Ka(this,function(O){switch(O.label){case 0:return[4,p.logout(re)];case 1:return O.sent(),(re.openUrl||re.openUrl===!1)&&T({type:"LOGOUT"}),[2]}})})},[p]),G=q.useCallback(function(re){return Ga(void 0,void 0,void 0,function(){var O,A,R,N;return Ka(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,3,5]),[4,p.getTokenSilently(re)];case 1:return O=P.sent(),[3,5];case 2:throw A=P.sent(),gm(A);case 3:return R=T,N={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,p.getUser()];case 4:return R.apply(void 0,[(N.user=P.sent(),N)]),[7];case 5:return[2,O]}})})},[p]),B=q.useCallback(function(re,O){return Ga(void 0,void 0,void 0,function(){var A,R,N,P;return Ka(this,function(L){switch(L.label){case 0:return L.trys.push([0,2,3,5]),[4,p.getTokenWithPopup(re,O)];case 1:return A=L.sent(),[3,5];case 2:throw R=L.sent(),gm(R);case 3:return N=T,P={type:"GET_ACCESS_TOKEN_COMPLETE"},[4,p.getUser()];case 4:return N.apply(void 0,[(P.user=L.sent(),P)]),[7];case 5:return[2,A]}})})},[p]),$=q.useCallback(function(){return p.getIdTokenClaims()},[p]),Y=q.useCallback(function(re){return Ga(void 0,void 0,void 0,function(){var O,A,R;return Ka(this,function(N){switch(N.label){case 0:return N.trys.push([0,2,3,5]),[4,p.handleRedirectCallback(re)];case 1:return[2,N.sent()];case 2:throw O=N.sent(),gm(O);case 3:return A=T,R={type:"HANDLE_REDIRECT_COMPLETE"},[4,p.getUser()];case 4:return A.apply(void 0,[(R.user=N.sent(),R)]),[7];case 5:return[2]}})})},[p]),ee=q.useMemo(function(){return kt(kt({},v),{getAccessTokenSilently:G,getAccessTokenWithPopup:B,getIdTokenClaims:$,loginWithRedirect:I,loginWithPopup:z,logout:V,handleRedirectCallback:Y})},[v,G,B,$,I,z,V,Y]);return GE.createElement(h.Provider,{value:ee},e)},xh=function(i){return i===void 0&&(i=WE),q.useContext(i)},xl={},W_;function XA(){if(W_)return xl;W_=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=h,xl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,C){const I=new u,z=w.length;if(z<2)return I;const V=(C==null?void 0:C.decode)||v;let G=0;do{const B=w.indexOf("=",G);if(B===-1)break;const $=w.indexOf(";",G),Y=$===-1?z:$;if(B>Y){G=w.lastIndexOf(";",B-1)+1;continue}const ee=m(w,G,B),re=p(w,B,ee),O=w.slice(ee,re);if(I[O]===void 0){let A=m(w,B+1,Y),R=p(w,Y,A);const N=V(w.slice(A,R));I[O]=N}G=Y+1}while(G<z);return I}function m(w,C,I){do{const z=w.charCodeAt(C);if(z!==32&&z!==9)return C}while(++C<I);return I}function p(w,C,I){for(;C>I;){const z=w.charCodeAt(--C);if(z!==32&&z!==9)return C+1}return I}function g(w,C,I){const z=(I==null?void 0:I.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=z(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let G=w+"="+V;if(!I)return G;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);G+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);G+="; Domain="+I.domain}if(I.path){if(!s.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);G+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);G+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(G+="; HttpOnly"),I.secure&&(G+="; Secure"),I.partitioned&&(G+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return G}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return xl}XA();var J_="popstate";function $A(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Qs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Bm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Yl(u))}function s(o,u){xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return ZA(e,n,s,i)}function et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function xn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QA(){return Math.random().toString(36).substring(2,10)}function e0(i,e){return{usr:i.state,key:i.key,idx:e}}function Bm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Qs(e):e,state:n,key:e&&e.key||s||QA()}}function Yl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Qs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function ZA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=v();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function v(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=v(),G=V==null?null:V-g;g=V,p&&p({action:m,location:z.location,delta:G})}function w(V,G){m="PUSH";let B=Bm(z.location,V,G);n&&n(B,V),g=v()+1;let $=e0(B,g),Y=z.createHref(B);try{h.pushState($,"",Y)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(Y)}u&&p&&p({action:m,location:z.location,delta:1})}function C(V,G){m="REPLACE";let B=Bm(z.location,V,G);n&&n(B,V),g=v();let $=e0(B,g),Y=z.createHref(B);h.replaceState($,"",Y),u&&p&&p({action:m,location:z.location,delta:0})}function I(V){return WA(V)}let z={get action(){return m},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(J_,T),p=V,()=>{o.removeEventListener(J_,T),p=null}},createHref(V){return e(o,V)},createURL:I,encodeLocation(V){let G=I(V);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:C,go(V){return h.go(V)}};return z}function WA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Yl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function tT(i,e,n="/"){return JA(i,e,n,!1)}function JA(i,e,n,s){let o=typeof e=="string"?Qs(e):e,u=Zi(o.pathname||"/",n);if(u==null)return null;let h=nT(i);e1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=h1(u);m=u1(h[p],g,s)}return m}function nT(i,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=$i([s,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),nT(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:o1(g,u.index),routesMeta:v})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of iT(u.path))o(u,h,p)}),e}function iT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=iT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function e1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:l1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var t1=/^:[\w-]+$/,n1=3,i1=2,r1=1,s1=10,a1=-2,t0=i=>i==="*";function o1(i,e){let n=i.split("/"),s=n.length;return n.some(t0)&&(s+=a1),e&&(s+=i1),n.filter(o=>!t0(o)).reduce((o,u)=>o+(t1.test(u)?n1:u===""?r1:s1),s)}function l1(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function u1(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",T=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=lh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:$i([u,T.pathname]),pathnameBase:p1($i([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=$i([u,T.pathnameBase]))}return h}function lh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=c1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},w)=>{if(v==="*"){let I=m[w]||"";h=u.slice(0,u.length-I.length).replace(/(.)\/+$/,"$1")}const C=m[w];return T&&!C?g[v]=void 0:g[v]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function c1(i,e=!1,n=!0){xn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function h1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Zi(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function f1(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Qs(i):i;return{pathname:n?n.startsWith("/")?n:d1(n,e):e,search:g1(s),hash:y1(o)}}function d1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Dp(i){let e=m1(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Np(i,e,n,s=!1){let o;typeof i=="string"?o=Qs(i):(o={...i},et(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=f1(o,m),g=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var $i=i=>i.join("/").replace(/\/\/+/g,"/"),p1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),g1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,y1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function v1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var rT=["POST","PUT","PATCH","DELETE"];new Set(rT);var _1=["GET",...rT];new Set(_1);var po=q.createContext(null);po.displayName="DataRouter";var Ph=q.createContext(null);Ph.displayName="DataRouterState";var sT=q.createContext({isTransitioning:!1});sT.displayName="ViewTransition";var E1=q.createContext(new Map);E1.displayName="Fetchers";var T1=q.createContext(null);T1.displayName="Await";var qn=q.createContext(null);qn.displayName="Navigation";var nu=q.createContext(null);nu.displayName="Location";var yi=q.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var kp=q.createContext(null);kp.displayName="RouteError";function w1(i,{relative:e}={}){et(go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(qn),{hash:o,pathname:u,search:h}=iu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$i([n,u])),s.createHref({pathname:m,search:h,hash:o})}function go(){return q.useContext(nu)!=null}function Zr(){return et(go(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(nu).location}var aT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oT(i){q.useContext(qn).static||q.useLayoutEffect(i)}function lT(){let{isDataRoute:i}=q.useContext(yi);return i?P1():b1()}function b1(){et(go(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(po),{basename:e,navigator:n}=q.useContext(qn),{matches:s}=q.useContext(yi),{pathname:o}=Zr(),u=JSON.stringify(Dp(s)),h=q.useRef(!1);return oT(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(xn(h.current,aT),!h.current)return;if(typeof p=="number"){n.go(p);return}let v=Np(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:$i([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}q.createContext(null);function iu(i,{relative:e}={}){let{matches:n}=q.useContext(yi),{pathname:s}=Zr(),o=JSON.stringify(Dp(n));return q.useMemo(()=>Np(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function S1(i,e){return uT(i,e)}function uT(i,e,n,s){var G;et(go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(qn),{matches:u}=q.useContext(yi),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";cT(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let T=Zr(),w;if(e){let B=typeof e=="string"?Qs(e):e;et(g==="/"||((G=B.pathname)==null?void 0:G.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=T;let C=w.pathname||"/",I=C;if(g!=="/"){let B=g.replace(/^\//,"").split("/");I="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let z=tT(i,{pathname:I});xn(v||z!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),xn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=O1(z&&z.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:$i([g,o.encodeLocation?o.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:$i([g,o.encodeLocation?o.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,n,s);return e&&V?q.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},V):V}function A1(){let i=x1(),e=v1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var R1=q.createElement(A1,null),C1=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(yi.Provider,{value:this.props.routeContext},q.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I1({routeContext:i,match:e,children:n}){let s=q.useContext(po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(yi.Provider,{value:i},n)}function O1(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:T}=n,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let T,w=!1,C=null,I=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||R1,h&&(m<0&&v===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,I=null):m===v&&(w=!0,I=g.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,v+1)),V=()=>{let G;return T?G=C:w?G=I:g.route.Component?G=q.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,q.createElement(I1,{match:g,routeContext:{outlet:p,matches:z,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?q.createElement(C1,{location:n.location,revalidation:n.revalidation,component:C,error:T,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):V()},null)}function Mp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D1(i){let e=q.useContext(po);return et(e,Mp(i)),e}function N1(i){let e=q.useContext(Ph);return et(e,Mp(i)),e}function k1(i){let e=q.useContext(yi);return et(e,Mp(i)),e}function xp(i){let e=k1(i),n=e.matches[e.matches.length-1];return et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function M1(){return xp("useRouteId")}function x1(){var s;let i=q.useContext(kp),e=N1("useRouteError"),n=xp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function P1(){let{router:i}=D1("useNavigate"),e=xp("useNavigate"),n=q.useRef(!1);return oT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{xn(n.current,aT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var n0={};function cT(i,e,n){!e&&!n0[i]&&(n0[i]=!0,xn(!1,n))}q.memo(V1);function V1({routes:i,future:e,state:n}){return uT(i,void 0,n,e)}function hT({to:i,replace:e,state:n,relative:s}){et(go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=q.useContext(qn);xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(yi),{pathname:h}=Zr(),m=lT(),p=Np(i,Dp(u),h,s==="path"),g=JSON.stringify(p);return q.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function jm(i){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){et(!go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Qs(n));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:w="default"}=n,C=q.useMemo(()=>{let I=Zi(p,h);return I==null?null:{location:{pathname:I,search:g,hash:v,state:T,key:w},navigationType:s}},[h,p,g,v,T,w,s]);return xn(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:q.createElement(qn.Provider,{value:m},q.createElement(nu.Provider,{children:e,value:C}))}function U1({children:i,location:e}){return S1(Hm(i),e)}function Hm(i,e=[]){let n=[];return q.Children.forEach(i,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,Hm(s.props.children,u));return}et(s.type===jm,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Hm(s.props.children,u)),n.push(h)}),n}var Zc="get",Wc="application/x-www-form-urlencoded";function Vh(i){return i!=null&&typeof i.tagName=="string"}function z1(i){return Vh(i)&&i.tagName.toLowerCase()==="button"}function B1(i){return Vh(i)&&i.tagName.toLowerCase()==="form"}function j1(i){return Vh(i)&&i.tagName.toLowerCase()==="input"}function H1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function q1(i,e){return i.button===0&&(!e||e==="_self")&&!H1(i)}var Uc=null;function F1(){if(Uc===null)try{new FormData(document.createElement("form"),0),Uc=!1}catch{Uc=!0}return Uc}var G1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(i){return i!=null&&!G1.has(i)?(xn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):i}function K1(i,e){let n,s,o,u,h;if(B1(i)){let m=i.getAttribute("action");s=m?Zi(m,e):null,n=i.getAttribute("method")||Zc,o=vm(i.getAttribute("enctype"))||Wc,u=new FormData(i)}else if(z1(i)||j1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Zi(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Zc,o=vm(i.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||Wc,u=new FormData(m,i),!F1()){let{name:g,type:v,value:T}=i;if(v==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Vh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zc,s=null,o=Wc,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Pp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function Y1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function X1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await Y1(u,n);return h.links?h.links():[]}return[]}));return J1(s.flat(1).filter(X1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function i0(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Q1(i,e,{includeHydrateFallback:n}={}){return Z1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Z1(i){return[...new Set(i)]}function W1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function J1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(W1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eR=new Set([100,101,204,205]);function tR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&Zi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function fT(){let i=q.useContext(po);return Pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nR(){let i=q.useContext(Ph);return Pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vp=q.createContext(void 0);Vp.displayName="FrameworkContext";function dT(){let i=q.useContext(Vp);return Pp(i,"You must render this element inside a <HydratedRouter> element"),i}function iR(i,e){let n=q.useContext(Vp),[s,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,w=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=G=>{G.forEach(B=>{h(B.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[i]),q.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let C=()=>{o(!0)},I=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Pl(m,C),onBlur:Pl(p,I),onMouseEnter:Pl(g,C),onMouseLeave:Pl(v,I),onTouchStart:Pl(T,C)}]:[!1,w,{}]}function Pl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function rR({page:i,...e}){let{router:n}=fT(),s=q.useMemo(()=>tT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(aR,{page:i,matches:s,...e}):null}function sR(i){let{manifest:e,routeModules:n}=dT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return $1(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function aR({page:i,matches:e,...n}){let s=Zr(),{manifest:o,routeModules:u}=dT(),{basename:h}=fT(),{loaderData:m,matches:p}=nR(),g=q.useMemo(()=>i0(i,e,p,o,s,"data"),[i,e,p,o,s]),v=q.useMemo(()=>i0(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let I=new Set,z=!1;if(e.forEach(G=>{var $;let B=o.routes[G.route.id];!B||!B.hasLoader||(!g.some(Y=>Y.route.id===G.route.id)&&G.route.id in m&&(($=u[G.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?z=!0:I.add(G.route.id))}),I.size===0)return[];let V=tR(i,h);return z&&I.size>0&&V.searchParams.set("_routes",e.filter(G=>I.has(G.route.id)).map(G=>G.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,g,e,i,u]),w=q.useMemo(()=>Q1(v,o),[v,o]),C=sR(v);return q.createElement(q.Fragment,null,T.map(I=>q.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...n})),w.map(I=>q.createElement("link",{key:I,rel:"modulepreload",href:I,...n})),C.map(({key:I,link:z})=>q.createElement("link",{key:I,...z})))}function oR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mT&&(window.__reactRouterVersion="7.6.2")}catch{}function lR({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=$A({window:n,v5Compat:!0}));let o=s.current,[u,h]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>h(p))},[h]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(L1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var pT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gT=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:v,viewTransition:T,...w},C){let{basename:I}=q.useContext(qn),z=typeof g=="string"&&pT.test(g),V,G=!1;if(typeof g=="string"&&z&&(V=g,mT))try{let R=new URL(window.location.href),N=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=Zi(N.pathname,I);N.origin===R.origin&&P!=null?g=P+N.search+N.hash:G=!0}catch{xn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=w1(g,{relative:o}),[$,Y,ee]=iR(s,w),re=fR(g,{replace:h,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:T});function O(R){e&&e(R),R.defaultPrevented||re(R)}let A=q.createElement("a",{...w,...ee,href:V||B,onClick:G||u?e:O,ref:oR(C,Y),target:p,"data-discover":!z&&n==="render"?"true":void 0});return $&&!z?q.createElement(q.Fragment,null,A,q.createElement(rR,{page:B})):A});gT.displayName="Link";var uR=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},v){let T=iu(h,{relative:g.relative}),w=Zr(),C=q.useContext(Ph),{navigator:I,basename:z}=q.useContext(qn),V=C!=null&&yR(T)&&m===!0,G=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,B=w.pathname,$=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(B=B.toLowerCase(),$=$?$.toLowerCase():null,G=G.toLowerCase()),$&&z&&($=Zi($,z)||$);const Y=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ee=B===G||!o&&B.startsWith(G)&&B.charAt(Y)==="/",re=$!=null&&($===G||!o&&$.startsWith(G)&&$.charAt(G.length)==="/"),O={isActive:ee,isPending:re,isTransitioning:V},A=ee?e:void 0,R;typeof s=="function"?R=s(O):R=[s,ee?"active":null,re?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(O):u;return q.createElement(gT,{...g,"aria-current":A,className:R,ref:v,style:N,to:h,viewTransition:m},typeof p=="function"?p(O):p)});uR.displayName="NavLink";var cR=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Zc,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...w},C)=>{let I=pR(),z=gR(m,{relative:g}),V=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&pT.test(m),B=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let Y=$.nativeEvent.submitter,ee=(Y==null?void 0:Y.getAttribute("formmethod"))||h;I(Y||$.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:T})};return q.createElement("form",{ref:C,method:V,action:z,onSubmit:s?p:B,...w,"data-discover":!G&&i==="render"?"true":void 0})});cR.displayName="Form";function hR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yT(i){let e=q.useContext(po);return et(e,hR(i)),e}function fR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=lT(),p=Zr(),g=iu(i,{relative:u});return q.useCallback(v=>{if(q1(v,e)){v.preventDefault();let T=n!==void 0?n:Yl(p)===Yl(g);m(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var dR=0,mR=()=>`__${String(++dR)}__`;function pR(){let{router:i}=yT("useSubmit"),{basename:e}=q.useContext(qn),n=M1();return q.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=K1(s,e);if(o.navigate===!1){let v=o.fetcherKey||mR();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function gR(i,{relative:e}={}){let{basename:n}=q.useContext(qn),s=q.useContext(yi);et(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(i||".",{relative:e})},h=Zr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$i([n,u.pathname])),Yl(u)}function yR(i,e={}){let n=q.useContext(sT);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=yT("useViewTransitionState"),o=iu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Zi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Zi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return lh(o.pathname,h)!=null||lh(o.pathname,u)!=null}[...eR];const vR=()=>{};var r0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_R=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_T={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,C=g&63;p||(C=64,h||(w=64)),s.push(n[v],n[T],n[w],n[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(vT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):_R(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new ER;const w=u<<2|m>>4;if(s.push(w),g!==64){const C=m<<4&240|g>>2;if(s.push(C),T!==64){const I=g<<6&192|T;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ER extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(i){const e=vT(i);return _T.encodeByteArray(e,!0)},uh=function(i){return TR(i).replace(/\./g,"")},ET=function(i){try{return _T.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>wR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof r0>"u")return;const i=r0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ET(i[1]);return e&&JSON.parse(e)},Lh=()=>{try{return vR()||bR()||SR()||AR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},TT=i=>{var e,n;return(n=(e=Lh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},wT=i=>{const e=TT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},bT=()=>{var i;return(i=Lh())===null||i===void 0?void 0:i.config},ST=i=>{var e;return(e=Lh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(i){return i.endsWith(".cloudworkstations.dev")}async function Lp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[uh(JSON.stringify(n)),uh(JSON.stringify(h)),""].join(".")}const Bl={};function IR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Bl))Bl[e]?i.emulator.push(e):i.prod.push(e);return i}function OR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let s0=!1;function Up(i,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||Bl[i]===e||Bl[i]||s0)return;Bl[i]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=IR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,C){w.setAttribute("width","24"),w.setAttribute("id",C),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{s0=!0,h()},w}function v(w,C){w.setAttribute("id",C),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=OR(s),C=n("text"),I=document.getElementById(C)||document.createElement("span"),z=n("learnmore"),V=document.getElementById(z)||document.createElement("a"),G=n("preprendIcon"),B=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;m($),v(V,z);const Y=g();p(B,G),$.append(B,I,V,Y),document.body.appendChild($)}u?(I.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function NR(){var i;const e=(i=Lh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function xR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PR(){const i=Qt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function VR(){return!NR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LR(){try{return typeof indexedDB=="object"}catch{return!1}}function UR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="FirebaseError";class vi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zR,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?BR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new vi(o,m,s)}}function BR(i,e){return i.replace(jR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jR=/\{\$([^}]+)}/g;function HR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(a0(u)&&a0(h)){if(!qs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function a0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qR(i,e){const n=new FR(i,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=_m),o.error===void 0&&(o.error=_m),o.complete===void 0&&(o.complete=_m);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(i){return i&&i._delegate?i._delegate:i}class qr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KR=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XR(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YR(i){return i===Vs?void 0:i}function XR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ne||(Ne={}));const QR={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},ZR=Ne.INFO,WR={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},JR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=WR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zp{constructor(e){this.name=e,this._logLevel=ZR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const eC=(i,e)=>e.some(n=>i instanceof n);let o0,l0;function tC(){return o0||(o0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nC(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,qm=new WeakMap,RT=new WeakMap,Em=new WeakMap,Bp=new WeakMap;function iC(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(zr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&AT.set(n,i)}).catch(()=>{}),Bp.set(e,i),e}function rC(i){if(qm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});qm.set(i,e)}let Fm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||RT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function sC(i){Fm=i(Fm)}function aC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Tm(this),e,...n);return RT.set(s,e.sort?e.sort():[e]),zr(s)}:nC().includes(i)?function(...e){return i.apply(Tm(this),e),zr(AT.get(this))}:function(...e){return zr(i.apply(Tm(this),e))}}function oC(i){return typeof i=="function"?aC(i):(i instanceof IDBTransaction&&rC(i),eC(i,tC())?new Proxy(i,Fm):i)}function zr(i){if(i instanceof IDBRequest)return iC(i);if(Em.has(i))return Em.get(i);const e=oC(i);return e!==i&&(Em.set(i,e),Bp.set(e,i)),e}const Tm=i=>Bp.get(i);function lC(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=zr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(zr(h.result),p.oldVersion,p.newVersion,zr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const uC=["get","getKey","getAll","getAllKeys","count"],cC=["put","add","delete","clear"],wm=new Map;function u0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=cC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||uC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return wm.set(e,u),u}sC(i=>({...i,get:(e,n,s)=>u0(e,n)||i.get(e,n,s),has:(e,n)=>!!u0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function fC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gm="@firebase/app",c0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new zp("@firebase/app"),dC="@firebase/app-compat",mC="@firebase/analytics-compat",pC="@firebase/analytics",gC="@firebase/app-check-compat",yC="@firebase/app-check",vC="@firebase/auth",_C="@firebase/auth-compat",EC="@firebase/database",TC="@firebase/data-connect",wC="@firebase/database-compat",bC="@firebase/functions",SC="@firebase/functions-compat",AC="@firebase/installations",RC="@firebase/installations-compat",CC="@firebase/messaging",IC="@firebase/messaging-compat",OC="@firebase/performance",DC="@firebase/performance-compat",NC="@firebase/remote-config",kC="@firebase/remote-config-compat",MC="@firebase/storage",xC="@firebase/storage-compat",PC="@firebase/firestore",VC="@firebase/ai",LC="@firebase/firestore-compat",UC="firebase",zC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="[DEFAULT]",BC={[Gm]:"fire-core",[dC]:"fire-core-compat",[pC]:"fire-analytics",[mC]:"fire-analytics-compat",[yC]:"fire-app-check",[gC]:"fire-app-check-compat",[vC]:"fire-auth",[_C]:"fire-auth-compat",[EC]:"fire-rtdb",[TC]:"fire-data-connect",[wC]:"fire-rtdb-compat",[bC]:"fire-fn",[SC]:"fire-fn-compat",[AC]:"fire-iid",[RC]:"fire-iid-compat",[CC]:"fire-fcm",[IC]:"fire-fcm-compat",[OC]:"fire-perf",[DC]:"fire-perf-compat",[NC]:"fire-rc",[kC]:"fire-rc-compat",[MC]:"fire-gcs",[xC]:"fire-gcs-compat",[PC]:"fire-fst",[LC]:"fire-fst-compat",[VC]:"fire-vertex","fire-js":"fire-js",[UC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,jC=new Map,Ym=new Map;function h0(i,e){try{i.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Fs(i){const e=i.name;if(Ym.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,i);for(const n of ch.values())h0(n,i);for(const n of jC.values())h0(n,i);return!0}function Uh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Mn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new ru("app","Firebase",HC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=zC;function CT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Km,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Br.create("bad-app-name",{appName:String(o)});if(n||(n=bT()),!n)throw Br.create("no-options");const u=ch.get(o);if(u){if(qs(n,u.options)&&qs(s,u.config))return u;throw Br.create("duplicate-app",{appName:o})}const h=new $R(o);for(const p of Ym.values())h.addComponent(p);const m=new qC(n,s,h);return ch.set(o,m),m}function jp(i=Km){const e=ch.get(i);if(!e&&i===Km&&bT())return CT();if(!e)throw Br.create("no-app",{appName:i});return e}function hi(i,e,n){var s;let o=(s=BC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(m.join(" "));return}Fs(new qr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebase-heartbeat-database",GC=1,Xl="firebase-heartbeat-store";let bm=null;function IT(){return bm||(bm=lC(FC,GC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Xl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Br.create("idb-open",{originalErrorMessage:i.message})})),bm}async function KC(i){try{const n=(await IT()).transaction(Xl),s=await n.objectStore(Xl).get(OT(i));return await n.done,s}catch(e){if(e instanceof vi)Wi.warn(e.message);else{const n=Br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function f0(i,e){try{const s=(await IT()).transaction(Xl,"readwrite");await s.objectStore(Xl).put(e,OT(i)),await s.done}catch(n){if(n instanceof vi)Wi.warn(n.message);else{const s=Br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(s.message)}}}function OT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=1024,XC=30;class $C{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=d0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>XC){const h=WC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=d0(),{heartbeatsToSend:s,unsentEntries:o}=QC(this._heartbeatsCache.heartbeats),u=uh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Wi.warn(n),""}}}function d0(){return new Date().toISOString().substring(0,10)}function QC(i,e=YC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),m0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),m0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LR()?UR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return f0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function m0(i){return uh(JSON.stringify({version:2,heartbeats:i})).length}function WC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i){Fs(new qr("platform-logger",e=>new hC(e),"PRIVATE")),Fs(new qr("heartbeat",e=>new $C(e),"PRIVATE")),hi(Gm,c0,i),hi(Gm,c0,"esm2017"),hi("fire-js","")}JC("");var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,DT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function R(){}R.prototype=A.prototype,O.D=A.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(N,P,L){for(var k=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)k[xt-2]=arguments[xt];return A.prototype[P].apply(N,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,R){R||(R=0);var N=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)N[P]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(P=0;16>P;++P)N[P]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=O.g[0],R=O.g[1],P=O.g[2];var L=O.g[3],k=A+(L^R&(P^L))+N[0]+3614090360&4294967295;A=R+(k<<7&4294967295|k>>>25),k=L+(P^A&(R^P))+N[1]+3905402710&4294967295,L=A+(k<<12&4294967295|k>>>20),k=P+(R^L&(A^R))+N[2]+606105819&4294967295,P=L+(k<<17&4294967295|k>>>15),k=R+(A^P&(L^A))+N[3]+3250441966&4294967295,R=P+(k<<22&4294967295|k>>>10),k=A+(L^R&(P^L))+N[4]+4118548399&4294967295,A=R+(k<<7&4294967295|k>>>25),k=L+(P^A&(R^P))+N[5]+1200080426&4294967295,L=A+(k<<12&4294967295|k>>>20),k=P+(R^L&(A^R))+N[6]+2821735955&4294967295,P=L+(k<<17&4294967295|k>>>15),k=R+(A^P&(L^A))+N[7]+4249261313&4294967295,R=P+(k<<22&4294967295|k>>>10),k=A+(L^R&(P^L))+N[8]+1770035416&4294967295,A=R+(k<<7&4294967295|k>>>25),k=L+(P^A&(R^P))+N[9]+2336552879&4294967295,L=A+(k<<12&4294967295|k>>>20),k=P+(R^L&(A^R))+N[10]+4294925233&4294967295,P=L+(k<<17&4294967295|k>>>15),k=R+(A^P&(L^A))+N[11]+2304563134&4294967295,R=P+(k<<22&4294967295|k>>>10),k=A+(L^R&(P^L))+N[12]+1804603682&4294967295,A=R+(k<<7&4294967295|k>>>25),k=L+(P^A&(R^P))+N[13]+4254626195&4294967295,L=A+(k<<12&4294967295|k>>>20),k=P+(R^L&(A^R))+N[14]+2792965006&4294967295,P=L+(k<<17&4294967295|k>>>15),k=R+(A^P&(L^A))+N[15]+1236535329&4294967295,R=P+(k<<22&4294967295|k>>>10),k=A+(P^L&(R^P))+N[1]+4129170786&4294967295,A=R+(k<<5&4294967295|k>>>27),k=L+(R^P&(A^R))+N[6]+3225465664&4294967295,L=A+(k<<9&4294967295|k>>>23),k=P+(A^R&(L^A))+N[11]+643717713&4294967295,P=L+(k<<14&4294967295|k>>>18),k=R+(L^A&(P^L))+N[0]+3921069994&4294967295,R=P+(k<<20&4294967295|k>>>12),k=A+(P^L&(R^P))+N[5]+3593408605&4294967295,A=R+(k<<5&4294967295|k>>>27),k=L+(R^P&(A^R))+N[10]+38016083&4294967295,L=A+(k<<9&4294967295|k>>>23),k=P+(A^R&(L^A))+N[15]+3634488961&4294967295,P=L+(k<<14&4294967295|k>>>18),k=R+(L^A&(P^L))+N[4]+3889429448&4294967295,R=P+(k<<20&4294967295|k>>>12),k=A+(P^L&(R^P))+N[9]+568446438&4294967295,A=R+(k<<5&4294967295|k>>>27),k=L+(R^P&(A^R))+N[14]+3275163606&4294967295,L=A+(k<<9&4294967295|k>>>23),k=P+(A^R&(L^A))+N[3]+4107603335&4294967295,P=L+(k<<14&4294967295|k>>>18),k=R+(L^A&(P^L))+N[8]+1163531501&4294967295,R=P+(k<<20&4294967295|k>>>12),k=A+(P^L&(R^P))+N[13]+2850285829&4294967295,A=R+(k<<5&4294967295|k>>>27),k=L+(R^P&(A^R))+N[2]+4243563512&4294967295,L=A+(k<<9&4294967295|k>>>23),k=P+(A^R&(L^A))+N[7]+1735328473&4294967295,P=L+(k<<14&4294967295|k>>>18),k=R+(L^A&(P^L))+N[12]+2368359562&4294967295,R=P+(k<<20&4294967295|k>>>12),k=A+(R^P^L)+N[5]+4294588738&4294967295,A=R+(k<<4&4294967295|k>>>28),k=L+(A^R^P)+N[8]+2272392833&4294967295,L=A+(k<<11&4294967295|k>>>21),k=P+(L^A^R)+N[11]+1839030562&4294967295,P=L+(k<<16&4294967295|k>>>16),k=R+(P^L^A)+N[14]+4259657740&4294967295,R=P+(k<<23&4294967295|k>>>9),k=A+(R^P^L)+N[1]+2763975236&4294967295,A=R+(k<<4&4294967295|k>>>28),k=L+(A^R^P)+N[4]+1272893353&4294967295,L=A+(k<<11&4294967295|k>>>21),k=P+(L^A^R)+N[7]+4139469664&4294967295,P=L+(k<<16&4294967295|k>>>16),k=R+(P^L^A)+N[10]+3200236656&4294967295,R=P+(k<<23&4294967295|k>>>9),k=A+(R^P^L)+N[13]+681279174&4294967295,A=R+(k<<4&4294967295|k>>>28),k=L+(A^R^P)+N[0]+3936430074&4294967295,L=A+(k<<11&4294967295|k>>>21),k=P+(L^A^R)+N[3]+3572445317&4294967295,P=L+(k<<16&4294967295|k>>>16),k=R+(P^L^A)+N[6]+76029189&4294967295,R=P+(k<<23&4294967295|k>>>9),k=A+(R^P^L)+N[9]+3654602809&4294967295,A=R+(k<<4&4294967295|k>>>28),k=L+(A^R^P)+N[12]+3873151461&4294967295,L=A+(k<<11&4294967295|k>>>21),k=P+(L^A^R)+N[15]+530742520&4294967295,P=L+(k<<16&4294967295|k>>>16),k=R+(P^L^A)+N[2]+3299628645&4294967295,R=P+(k<<23&4294967295|k>>>9),k=A+(P^(R|~L))+N[0]+4096336452&4294967295,A=R+(k<<6&4294967295|k>>>26),k=L+(R^(A|~P))+N[7]+1126891415&4294967295,L=A+(k<<10&4294967295|k>>>22),k=P+(A^(L|~R))+N[14]+2878612391&4294967295,P=L+(k<<15&4294967295|k>>>17),k=R+(L^(P|~A))+N[5]+4237533241&4294967295,R=P+(k<<21&4294967295|k>>>11),k=A+(P^(R|~L))+N[12]+1700485571&4294967295,A=R+(k<<6&4294967295|k>>>26),k=L+(R^(A|~P))+N[3]+2399980690&4294967295,L=A+(k<<10&4294967295|k>>>22),k=P+(A^(L|~R))+N[10]+4293915773&4294967295,P=L+(k<<15&4294967295|k>>>17),k=R+(L^(P|~A))+N[1]+2240044497&4294967295,R=P+(k<<21&4294967295|k>>>11),k=A+(P^(R|~L))+N[8]+1873313359&4294967295,A=R+(k<<6&4294967295|k>>>26),k=L+(R^(A|~P))+N[15]+4264355552&4294967295,L=A+(k<<10&4294967295|k>>>22),k=P+(A^(L|~R))+N[6]+2734768916&4294967295,P=L+(k<<15&4294967295|k>>>17),k=R+(L^(P|~A))+N[13]+1309151649&4294967295,R=P+(k<<21&4294967295|k>>>11),k=A+(P^(R|~L))+N[4]+4149444226&4294967295,A=R+(k<<6&4294967295|k>>>26),k=L+(R^(A|~P))+N[11]+3174756917&4294967295,L=A+(k<<10&4294967295|k>>>22),k=P+(A^(L|~R))+N[2]+718787259&4294967295,P=L+(k<<15&4294967295|k>>>17),k=R+(L^(P|~A))+N[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+P&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var R=A-this.blockSize,N=this.B,P=this.h,L=0;L<A;){if(P==0)for(;L<=R;)o(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<A;)if(N[P++]=O.charCodeAt(L++),P==this.blockSize){o(this,N),P=0;break}}else for(;L<A;)if(N[P++]=O[L++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var R=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=R&255,R/=256;for(this.u(O),O=Array(16),A=R=0;4>A;++A)for(var N=0;32>N;N+=8)O[R++]=this.g[A]>>>N&255;return O};function u(O,A){var R=m;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=A(O)}function h(O,A){this.h=A;for(var R=[],N=!0,P=O.length-1;0<=P;P--){var L=O[P]|0;N&&L==A||(R[P]=L,N=!1)}this.g=R}var m={};function p(O){return-128<=O&&128>O?u(O,function(A){return new h([A|0],0>A?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return T;if(0>O)return V(g(-O));for(var A=[],R=1,N=0;O>=R;N++)A[N]=O/R|0,R*=4294967296;return new h(A,0)}function v(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return V(v(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(A,8)),N=T,P=0;P<O.length;P+=8){var L=Math.min(8,O.length-P),k=parseInt(O.substring(P,P+L),A);8>L?(L=g(Math.pow(A,L)),N=N.j(L).add(g(k))):(N=N.j(R),N=N.add(g(k)))}return N}var T=p(0),w=p(1),C=p(16777216);i=h.prototype,i.m=function(){if(z(this))return-V(this).m();for(var O=0,A=1,R=0;R<this.g.length;R++){var N=this.i(R);O+=(0<=N?N:4294967296+N)*A,A*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(I(this))return"0";if(z(this))return"-"+V(this).toString(O);for(var A=g(Math.pow(O,6)),R=this,N="";;){var P=Y(R,A).g;R=G(R,P.j(A));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=P,I(R))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function I(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function z(O){return O.h==-1}i.l=function(O){return O=G(this,O),z(O)?-1:I(O)?0:1};function V(O){for(var A=O.g.length,R=[],N=0;N<A;N++)R[N]=~O.g[N];return new h(R,~O.h).add(w)}i.abs=function(){return z(this)?V(this):this},i.add=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0,P=0;P<=A;P++){var L=N+(this.i(P)&65535)+(O.i(P)&65535),k=(L>>>16)+(this.i(P)>>>16)+(O.i(P)>>>16);N=k>>>16,L&=65535,k&=65535,R[P]=k<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function G(O,A){return O.add(V(A))}i.j=function(O){if(I(this)||I(O))return T;if(z(this))return z(O)?V(this).j(V(O)):V(V(this).j(O));if(z(O))return V(this.j(V(O)));if(0>this.l(C)&&0>O.l(C))return g(this.m()*O.m());for(var A=this.g.length+O.g.length,R=[],N=0;N<2*A;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<O.g.length;P++){var L=this.i(N)>>>16,k=this.i(N)&65535,xt=O.i(P)>>>16,rt=O.i(P)&65535;R[2*N+2*P]+=k*rt,B(R,2*N+2*P),R[2*N+2*P+1]+=L*rt,B(R,2*N+2*P+1),R[2*N+2*P+1]+=k*xt,B(R,2*N+2*P+1),R[2*N+2*P+2]+=L*xt,B(R,2*N+2*P+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new h(R,0)};function B(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function $(O,A){this.g=O,this.h=A}function Y(O,A){if(I(A))throw Error("division by zero");if(I(O))return new $(T,T);if(z(O))return A=Y(V(O),A),new $(V(A.g),V(A.h));if(z(A))return A=Y(O,V(A)),new $(V(A.g),A.h);if(30<O.g.length){if(z(O)||z(A))throw Error("slowDivide_ only works with positive integers.");for(var R=w,N=A;0>=N.l(O);)R=ee(R),N=ee(N);var P=re(R,1),L=re(N,1);for(N=re(N,2),R=re(R,2);!I(N);){var k=L.add(N);0>=k.l(O)&&(P=P.add(R),L=k),N=re(N,1),R=re(R,1)}return A=G(O,P.j(A)),new $(P,A)}for(P=T;0<=O.l(A);){for(R=Math.max(1,Math.floor(O.m()/A.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=g(R),k=L.j(A);z(k)||0<k.l(O);)R-=N,L=g(R),k=L.j(A);I(L)&&(L=w),P=P.add(L),O=G(O,k)}return new $(P,O)}i.A=function(O){return Y(this,O).h},i.and=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)&O.i(N);return new h(R,this.h&O.h)},i.or=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)|O.i(N);return new h(R,this.h|O.h)},i.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),R=[],N=0;N<A;N++)R[N]=this.i(N)^O.i(N);return new h(R,this.h^O.h)};function ee(O){for(var A=O.g.length+1,R=[],N=0;N<A;N++)R[N]=O.i(N)<<1|O.i(N-1)>>>31;return new h(R,O.h)}function re(O,A){var R=A>>5;A%=32;for(var N=O.g.length-R,P=[],L=0;L<N;L++)P[L]=0<A?O.i(L+R)>>>A|O.i(L+R+1)<<32-A:O.i(L+R);return new h(P,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,DT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=v,jr=h}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var NT,Vl,kT,Jc,Xm,MT,xT,PT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof zc=="object"&&zc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in _))break e;_=_[j]}c=c[c.length-1],S=_[c],y=y(S),y!=S&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,S=!1,j={next:function(){if(!S&&_<c.length){var Q=_++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function T(c,y,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function w(c,y,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,w.apply(null,arguments)}function C(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function I(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,j,Q){for(var ae=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ae[ke-2]=arguments[ke];return y.prototype[j].apply(S,ae)}}function z(c){const y=c.length;if(0<y){const _=Array(y);for(let S=0;S<y;S++)_[S]=c[S];return _}return[]}function V(c,y){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const j=c.length||0,Q=S.length||0;c.length=j+Q;for(let ae=0;ae<Q;ae++)c[j+ae]=S[ae]}else c.push(S)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function B(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var ee=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function re(c,y,_){for(const S in c)y.call(_,c[S],S,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)c[_]=S[_];for(let Q=0;Q<R.length;Q++)_=R[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function k(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class xt{constructor(){this.h=this.g=null}add(y,_){const S=rt.get();S.set(y,_),this.h?this.h.next=S:this.g=S,this.h=S}}var rt=new G(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,de=!1,ze=new xt,M=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(ie)}};var ie=()=>{for(var c;c=k();){try{c.h.call(c.g)}catch(_){L(_)}var y=rt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Re(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ee){e:{try{Y(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}I(Re,se);var Te={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),Qe=0;function Fn(c,y,_,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!S,this.ha=j,this.key=++Qe,this.da=this.fa=!1}function ir(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ei(c){this.src=c,this.g={},this.h=0}Ei.prototype.add=function(c,y,_,S,j){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=Jr(c,y,S,j);return-1<ae?(y=c[ae],_||(y.fa=!1)):(y=new Fn(y,this.src,Q,!!S,j),y.fa=_,c.push(y)),y};function Wr(c,y){var _=y.type;if(_ in c.g){var S=c.g[_],j=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=j)&&Array.prototype.splice.call(S,j,1),Q&&(ir(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Jr(c,y,_,S){for(var j=0;j<c.length;++j){var Q=c[j];if(!Q.da&&Q.listener==y&&Q.capture==!!_&&Q.ha==S)return j}return-1}var es="closure_lm_"+(1e6*Math.random()|0),bo={};function du(c,y,_,S,j){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)du(c,y[Q],_,S,j);return null}return _=mu(_),c&&c[Rt]?c.K(y,_,g(S)?!!S.capture:!1,j):En(c,y,_,!1,S,j)}function En(c,y,_,S,j,Q){if(!y)throw Error("Invalid event type");var ae=g(j)?!!j.capture:!!j,ke=ea(c);if(ke||(c[es]=ke=new Ei(c)),_=ke.add(y,_,S,ae,Q),_.proxy)return _;if(S=af(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)me||(j=ae),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(ts(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function af(){function c(_){return y.call(c.src,c.listener,_)}const y=of;return c}function So(c,y,_,S,j){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)So(c,y[Q],_,S,j);else S=g(S)?!!S.capture:!!S,_=mu(_),c&&c[Rt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],_=Jr(Q,_,S,j),-1<_&&(ir(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ea(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Jr(y,_,S,j)),(_=-1<c?y[c]:null)&&Js(_))}function Js(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Rt])Wr(y.i,c);else{var _=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(_,S,c.capture):y.detachEvent?y.detachEvent(ts(_),S):y.addListener&&y.removeListener&&y.removeListener(S),(_=ea(y))?(Wr(_,c),_.h==0&&(_.src=null,y[es]=null)):ir(c)}}}function ts(c){return c in bo?bo[c]:bo[c]="on"+c}function of(c,y){if(c.da)c=!0;else{y=new Re(y,this);var _=c.listener,S=c.ha||c.src;c.fa&&Js(c),c=_.call(S,y)}return c}function ea(c){return c=c[es],c instanceof Ei?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function mu(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(y){return c.handleEvent(y)}),c[Ao])}function st(){le.call(this),this.i=new Ei(this),this.M=this,this.F=null}I(st,le),st.prototype[Rt]=!0,st.prototype.removeEventListener=function(c,y,_,S){So(this,c,y,_,S)};function He(c,y){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var j=y;y=new se(S,c),N(y,j)}if(j=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ae=y.g=_[Q];j=un(ae,S,!0,y)&&j}if(ae=y.g=c,j=un(ae,S,!0,y)&&j,j=un(ae,S,!1,y)&&j,_)for(Q=0;Q<_.length;Q++)ae=y.g=_[Q],j=un(ae,S,!1,y)&&j}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],S=0;S<_.length;S++)ir(_[S]);delete c.g[y],c.h--}}this.F=null},st.prototype.K=function(c,y,_,S){return this.i.add(String(c),y,!1,_,S)},st.prototype.L=function(c,y,_,S){return this.i.add(String(c),y,!0,_,S)};function un(c,y,_,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==_){var ke=ae.listener,Et=ae.ha||ae.src;ae.fa&&Wr(c.i,ae),j=ke.call(Et,S)!==!1&&j}}return j&&!S.defaultPrevented}function qt(c,y,_){if(typeof c=="function")_&&(c=w(c,_));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function pu(c){c.g=qt(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class lf extends le{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(c){le.call(this),this.h=c,this.g={}}I(ns,le);var is=[];function rs(c){re(c.g,function(y,_){this.g.hasOwnProperty(_)&&Js(y)},c),c.g={}}ns.prototype.N=function(){ns.aa.N.call(this),rs(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,ta=m.JSON.parse,ss=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ro(){}Ro.prototype.h=null;function Co(c){return c.h||(c.h=c.i())}function Io(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){se.call(this,"d")}I(wi,se);function Oo(){se.call(this,"c")}I(Oo,se);var Gn={},Do=null;function rr(){return Do=Do||new st}Gn.La="serverreachability";function na(c){se.call(this,Gn.La,c)}I(na,se);function sr(c){const y=rr();He(y,new na(y))}Gn.STAT_EVENT="statevent";function gu(c,y){se.call(this,Gn.STAT_EVENT,c),this.stat=y}I(gu,se);function We(c){const y=rr();He(y,new gu(y,c))}Gn.Ma="timingevent";function _t(c,y){se.call(this,Gn.Ma,c),this.size=y}I(_t,se);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function No(c,y,_,S,j,Q){c.info(function(){if(c.g)if(Q)for(var ae="",ke=Q.split("&"),Et=0;Et<ke.length;Et++){var Me=ke[Et].split("=");if(1<Me.length){var It=Me[0];Me=Me[1];var Tt=It.split("_");ae=2<=Tt.length&&Tt[1]=="type"?ae+(It+"="+Me+"&"):ae+(It+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+_+`
`+ae})}function uf(c,y,_,S,j,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+_+`
`+Q+" "+ae})}function ar(c,y,_,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+as(c,_)+(S?" "+S:"")})}function yu(c,y){c.info(function(){return"TIMEOUT: "+y})}Tn.prototype.info=function(){};function as(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var Q=j[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<j.length;ae++)j[ae]=""}}}}return Pn(_)}catch{return y}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Yn(){}I(Yn,Ro),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Kn=new Yn;function Zt(c,y,_,S){this.j=c,this.i=y,this.l=_,this.R=S||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ut}function ut(){this.i=null,this.g="",this.h=!1}var ko={},ia={};function Vn(c,y,_){c.L=1,c.v=hs(cn(y)),c.m=_,c.P=!0,Si(c,null)}function Si(c,y){c.F=Date.now(),os(c),c.A=cn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Uo(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ut,c.g=Mu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new lf(w(c.Y,c,c.g),c.O)),y=c.U,_=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(is[0]=j.toString()),j=is);for(var Q=0;Q<j.length;Q++){var ae=du(_,j[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),sr(),No(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&An(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=An(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Au(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=ki?sr(3):sr(2)),lr(this);var _=this.g.Z();this.X=_;t:if(vu(this)){var S=Au(this.g);c="";var j=S.length,Q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Xn(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==j-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,uf(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,Et=this.g;if((ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(ke)){var Me=ke;break t}}Me=null}if(_=Me)ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ls(this,_);else{this.o=!1,this.s=3,We(12),Pt(this),Xn(this);break e}}if(this.P){_=!0;let Vt;for(;!this.J&&this.C<ae.length;)if(Vt=_u(this,ae),Vt==ia){Tt==4&&(this.s=4,We(14),_=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==ko){this.s=4,We(15),ar(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else ar(this.i,this.l,Vt,null),ls(this,Vt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||ae.length!=0||this.h.h||(this.s=1,We(16),_=!1),this.o=this.o&&_,!_)ar(this.i,this.l,ae,"[Invalid Chunked Response]"),Pt(this),Xn(this);else if(0<ae.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),_s(It),It.M=!0,We(11))}}else ar(this.i,this.l,ae,null),ls(this,ae);Tt==4&&Pt(this),this.o&&!this.J&&(Tt==4?Du(this.j,this):(this.o=!1,os(this)))}else mf(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),Pt(this),Xn(this)}}}catch{}finally{}};function vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _u(c,y){var _=c.C,S=y.indexOf(`
`,_);return S==-1?ia:(_=Number(y.substring(_,S)),isNaN(_)?ko:(S+=1,S+_>y.length?ia:(y=y.slice(S,S+_),c.C=S+_,y)))}Zt.prototype.cancel=function(){this.J=!0,Pt(this)};function os(c){c.S=Date.now()+c.I,Eu(c,c.I)}function Eu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(w(c.ba,c),y)}function lr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(yu(this.i,this.A),this.L!=2&&(sr(),We(17)),Pt(this),this.s=2,Xn(this)):Eu(this,this.S-c)};function Xn(c){c.j.G==0||c.J||Du(c.j,c)}function Pt(c){lr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,rs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ls(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Mo(_.h,c))){if(!c.K&&Mo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)pa(_),da(_);else break e;qo(_),We(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(w(_.Za,_),6e3));if(1>=sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ni(_,11)}else if((c.K||_.g==c)&&pa(_),!B(y))for(j=_.Da.g.parse(y),y=0;y<j.length;y++){let Me=j[y];if(_.T=Me[0],Me=Me[1],_.G==2)if(Me[0]=="c"){_.K=Me[1],_.ia=Me[2];const It=Me[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const Tt=Me[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const ki=Me[5];ki!=null&&typeof ki=="number"&&0<ki&&(S=1.5*ki,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Vt=c.g;if(Vt){const ti=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ti){var Q=S.h;Q.g||ti.indexOf("spdy")==-1&&ti.indexOf("quic")==-1&&ti.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(aa(Q,Q.h),Q.h=null))}if(S.D){const Go=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(S.ya=Go,Ge(S.I,S.D,Go))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=ku(S,S.J?S.ia:null,S.W),ae.K){Wt(S.h,ae);var ke=ae,Et=S.L;Et&&(ke.I=Et),ke.B&&(lr(ke),os(ke)),S.g=ae}else Iu(S);0<_.i.length&&ma(_)}else Me[0]!="stop"&&Me[0]!="close"||Ni(_,7);else _.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Ni(_,7):jo(_):Me[0]!="noop"&&_.l&&_.l.ta(Me),_.v=0)}}sr(4)}catch{}}var Tu=class{constructor(c,y){this.g=c,this.map=y}};function Ai(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sa(c){return c.h?1:c.g?c.g.size:0}function Mo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function aa(c,y){c.g?c.g.add(y):c.h=y}function Wt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ai.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return z(c.i)}function cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,S=0;S<_;S++)y.push(c[S]);return y}y=[],_=0;for(S in c)y[_++]=c[S];return y}function oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const S in c)y[_++]=S;return y}}}function Po(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=oa(c),S=cf(c),j=S.length,Q=0;Q<j;Q++)y.call(void 0,S[Q],_&&_[Q],c)}var us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),j=null;if(0<=S){var Q=c[_].substring(0,S);j=c[_].substring(S+1)}else Q=c[_];y(Q,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,cs(this,c.j),this.o=c.o,this.g=c.g,ur(this,c.s),this.l=c.l;var y=c.i,_=new Ci;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ri(this,_),this.m=c.m}else c&&(y=String(c).match(us))?(this.h=!1,cs(this,y[1]||"",!0),this.o=wn(y[2]||""),this.g=wn(y[3]||"",!0),ur(this,y[4]),this.l=wn(y[5]||"",!0),Ri(this,y[6]||"",!0),this.m=wn(y[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(fs(y,Vo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(fs(y,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(fs(_,_.charAt(0)=="/"?ff:Lo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",fs(_,la)),c.join("")};function cn(c){return new pt(c)}function cs(c,y,_){c.j=_?wn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ur(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ri(c,y,_){y instanceof Ci?(c.i=y,bu(c.i,c.h)):(_||(y=fs(y,df)),c.i=new Ci(y,c.h))}function Ge(c,y,_){c.i.set(y,_)}function hs(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,wu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Lo=/[#\?:]/g,ff=/[#\?]/g,df=/[#\?@]/g,la=/#/g;function Ci(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&hf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Ci.prototype,i.add=function(c,y){bn(this),this.i=null,c=$n(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ii(c,y){bn(c),y=$n(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Oi(c,y){return bn(c),y=$n(c,y),c.g.has(y)}i.forEach=function(c,y){bn(this),this.g.forEach(function(_,S){_.forEach(function(j){c.call(y,j,S,this)},this)},this)},i.na=function(){bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let S=0;S<y.length;S++){const j=c[S];for(let Q=0;Q<j.length;Q++)_.push(y[S])}return _},i.V=function(c){bn(this);let y=[];if(typeof c=="string")Oi(this,c)&&(y=y.concat(this.g.get($n(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return bn(this),this.i=null,c=$n(this,c),Oi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Uo(c,y,_){Ii(c,y),0<_.length&&(c.i=null,c.g.set($n(c,y),z(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var S=y[_];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var j=Q;ae[S]!==""&&(j+="="+encodeURIComponent(String(ae[S]))),c.push(j)}}return this.i=c.join("&")};function $n(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function bu(c,y){y&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(Ii(this,S),Uo(this,j,_))},c)),c.j=y}function ds(c,y){const _=new Tn;if(m.Image){const S=new Image;S.onload=C(Sn,_,"TestLoadImage: loaded",!0,y,S),S.onerror=C(Sn,_,"TestLoadImage: error",!1,y,S),S.onabort=C(Sn,_,"TestLoadImage: abort",!1,y,S),S.ontimeout=C(Sn,_,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Ln(c,y){const _=new Tn,S=new AbortController,j=setTimeout(()=>{S.abort(),Sn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(j),Q.ok?Sn(_,"TestPingServer: ok",!0,y):Sn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Sn(_,"TestPingServer: error",!1,y)})}function Sn(c,y,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function ms(){this.g=new ss}function Qn(c,y,_){const S=_||"";try{Po(c,function(j,Q){let ae=j;g(j)&&(ae=Pn(j)),y.push(S+Q+"="+encodeURIComponent(ae))})}catch(j){throw y.push(S+"type="+encodeURIComponent("_badmap")),j}}function cr(c){this.l=c.Ub||null,this.j=c.eb||!1}I(cr,Ro),cr.prototype.g=function(){return new Di(this.l,this.j)},cr.prototype.i=function(c){return function(){return c}}({});function Di(c,y){st.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Di,st),i=Di.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Wn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Zn(this):Wn(this),this.readyState==3&&zo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},i.Qa=function(c){this.g&&(this.response=c,Zn(this))},i.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let y="";return re(c,function(_,S){y+=S,y+=":",y+=_,y+=`\r
`}),y}function Ct(c,y,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ge(c,y,_))}function je(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(je,st);var ua=/^https?$/i,ps=["POST","PUT"];i=je.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?Co(this.o):Co(Kn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Su(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ps,y,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Su(this,Q)}};function Su(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ca(c),Jn(c)}function ca(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),Jn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),je.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},i.bb=function(){ha(this)};function ha(c){if(c.h&&typeof h<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)qt(c.Ea,0,c);else if(He(c,"readystatechange"),An(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var S;if(S=ae===0){var j=String(c.D).match(us)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!ua.test(j?j.toLowerCase():"")}_=S}if(_)He(c,"complete"),He(c,"success");else{c.m=6;try{var Q=2<An(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ca(c)}}finally{Jn(c)}}}}function Jn(c,y){if(c.g){gs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||He(c,"ready");try{_.onreadystatechange=S}catch{}}}function gs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ta(y)}};function Au(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(c){const y={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(B(c[S]))continue;var _=P(c[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=y[j]||[];y[j]=Q,Q.push(_)}O(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ys(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function fa(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ys("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ys("baseRetryDelayMs",5e3,c),this.cb=ys("retryDelaySeedMs",1e4,c),this.Wa=ys("forwardChannelMaxRetries",2,c),this.wa=ys("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ai(c&&c.concurrentRequestLimit),this.Da=new ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=fa.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,S){We(0),this.W=c,this.H=y||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=ku(this,null,this.W),ma(this)};function jo(c){if(Ru(c),c.G==3){var y=c.U++,_=cn(c.I);if(Ge(_,"SID",c.K),Ge(_,"RID",y),Ge(_,"TYPE","terminate"),vs(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=hs(cn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Mu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),os(y)}Nu(c)}function da(c){c.g&&(_s(c),c.g.cancel(),c.g=null)}function Ru(c){da(c),c.u&&(m.clearTimeout(c.u),c.u=null),pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ma(c){if(!ra(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||M(),de||(oe(),de=!0),ze.add(y,c),c.B=0}}function pf(c,y){return sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(w(c.Ga,c,y),Fo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Zt(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=A(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(j.H=Q,Q=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Cu(this,j,y),_=cn(this.I),Ge(_,"RID",c),Ge(_,"CVER",22),this.D&&Ge(_,"X-HTTP-Session-Id",this.D),vs(this,_),Q&&(this.O?y="headers="+encodeURIComponent(String(Bo(Q)))+"&"+y:this.m&&Ct(_,this.m,Q)),aa(this.h,j),this.Ua&&Ge(_,"TYPE","init"),this.P?(Ge(_,"$req",y),Ge(_,"SID","null"),j.T=!0,Vn(j,_,null)):Vn(j,_,y),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||ra(this.h)||Ho(this))};function Ho(c,y){var _;y?_=y.l:_=c.U++;const S=cn(c.I);Ge(S,"SID",c.K),Ge(S,"RID",_),Ge(S,"AID",c.T),vs(c,S),c.m&&c.o&&Ct(S,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Cu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,_),Vn(_,S,y)}function vs(c,y){c.H&&re(c.H,function(_,S){Ge(y,S,_)}),c.l&&Po({},function(_,S){Ge(y,S,_)})}function Cu(c,y,_){_=Math.min(c.i.length,_);var S=c.l?w(c.l.Na,c.l,c):null;e:{var j=c.i;let Q=-1;for(;;){const ae=["count="+_];Q==-1?0<_?(Q=j[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let ke=!0;for(let Et=0;Et<_;Et++){let Me=j[Et].g;const It=j[Et].map;if(Me-=Q,0>Me)Q=Math.max(0,j[Et].g-100),ke=!1;else try{Qn(It,ae,"req"+Me+"_")}catch{S&&S(It)}}if(ke){S=ae.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,S}function Iu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||M(),de||(oe(),de=!0),ze.add(y,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(w(c.Fa,c),Fo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),da(this),Ou(this))};function _s(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=cn(c.qa);Ge(y,"RID","rpc"),Ge(y,"SID",c.K),Ge(y,"AID",c.T),Ge(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(y,"TO",c.ja),Ge(y,"TYPE","xmlhttp"),vs(c,y),c.m&&c.o&&Ct(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=hs(cn(y)),_.m=null,_.P=!0,Si(_,c)}i.Za=function(){this.C!=null&&(this.C=null,da(this),qo(this),We(19))};function pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,y){var _=null;if(c.g==y){pa(c),_s(c),c.g=null;var S=2}else if(Mo(c.h,y))_=y.D,Wt(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;S=rr(),He(S,new _t(S,_)),ma(c)}else Iu(c);else if(j=y.s,j==3||j==0&&0<y.X||!(S==1&&pf(c,y)||S==2&&qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),j){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Fo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var _=w(c.fb,c),S=c.Xa;const j=!S;S=new pt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||cs(S,"https"),hs(S),j?ds(S.toString(),_):Ln(S.toString(),_)}else We(2);c.G=0,c.l&&c.l.sa(y),Nu(c),Ru(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function Nu(c){if(c.G=0,c.ka=[],c.l){const y=xo(c.h);(y.length!=0||c.i.length!=0)&&(V(c.ka,y),V(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,_){var S=_ instanceof pt?cn(_):new pt(_);if(S.g!="")y&&(S.g=y+"."+S.g),ur(S,S.s);else{var j=m.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var Q=new pt(null);S&&cs(Q,S),y&&(Q.g=y),j&&ur(Q,j),_&&(Q.l=_),S=Q}return _=c.D,y=c.ya,_&&y&&Ge(S,_,y),Ge(S,"VER",c.la),vs(c,S),S}function Mu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new je(new cr({eb:_})):new je(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}i=xu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ga(){}ga.prototype.g=function(c,y){return new Jt(c,y)};function Jt(c,y){st.call(this),this.g=new fa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!B(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!B(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ei(this)}I(Jt,st),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){jo(this.g)},Jt.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);y.i.push(new Tu(y.Ya++,c)),y.G==3&&ma(y)},Jt.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,Jt.aa.N.call(this)};function Pu(c){wi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}I(Pu,wi);function Vu(){Oo.call(this),this.status=1}I(Vu,Oo);function ei(c){this.g=c}I(ei,xu),ei.prototype.ua=function(){He(this.g,"a")},ei.prototype.ta=function(c){He(this.g,new Pu(c))},ei.prototype.sa=function(c){He(this.g,new Vu)},ei.prototype.ra=function(){He(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,PT=function(){return new ga},xT=function(){return rr()},MT=Gn,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Jc=or,bi.COMPLETE="complete",kT=bi,Io.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",st.prototype.listen=st.prototype.K,Vl=Io,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,NT=je}).apply(typeof zc<"u"?zc:typeof self<"u"?self:typeof window<"u"?window:{});const g0="@firebase/firestore",y0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new zp("@firebase/firestore");function Xa(){return Gs.logLevel}function ce(i,...e){if(Gs.logLevel<=Ne.DEBUG){const n=e.map(Hp);Gs.debug(`Firestore (${vo}): ${i}`,...n)}}function Ji(i,...e){if(Gs.logLevel<=Ne.ERROR){const n=e.map(Hp);Gs.error(`Firestore (${vo}): ${i}`,...n)}}function so(i,...e){if(Gs.logLevel<=Ne.WARN){const n=e.map(Hp);Gs.warn(`Firestore (${vo}): ${i}`,...n)}}function Hp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,VT(i,s,n)}function VT(i,e,n){let s=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ji(s),new Error(s)}function it(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||VT(e,o,s)}function Ve(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends vi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class tI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nI{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new js;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new js,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new js)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new LT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class iI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class rI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new iI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new v0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new v0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ie(i,e){return i<e?-1:i>e?1:0}function $m(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ie(s,o);{const u=UT(),h=lI(u.encode(_0(i,n)),u.encode(_0(e,n)));return h!==0?h:Ie(s,o)}}n+=s>65535?2:1}return Ie(i.length,e.length)}function _0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function lI(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ie(i[n],e[n]);return Ie(i.length,e.length)}function ao(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=-62135596800,T0=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*T0);return new ln(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<E0)throw new ye(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-E0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ln(0,0))}static max(){return new we(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="__name__";class oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ie(e.length,n.length)}static compareSegments(e,n){const s=oi.isNumericId(e),o=oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(e).compare(oi.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class lt extends oi{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(ue.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const uI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends oi{construct(e,n,s){return new tn(e,n,s)}static isValidIdentifier(e){return uI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new tn([w0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function cI(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ln(n+1,0):new ln(n,s));return new Fr(o,_e.empty(),e)}function hI(i){return new Fr(i.readTime,i.key,$l)}class Fr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(we.min(),_e.empty(),$l)}static max(){return new Fr(we.max(),_e.empty(),$l)}}function fI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ie(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(i){if(i.code!==ue.FAILED_PRECONDITION||i.message!==dI)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,s)=>{n(e)})}static reject(e){return new ne((n,s)=>{s(e)})}static waitFor(e){return new ne((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next(o=>o?ne.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ne((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{h[g]=v,++m,m===u&&s(h)},v=>o(v))}})}static doWhile(e,n){return new ne((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function pI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _o(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=-1;function jh(i){return i==null}function Qm(i){return i===0&&1/i==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="";function yI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=b0(e)),e=vI(i.get(n),e);return b0(e)}function vI(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case zT:n+="";break;default:n+=u}}return n}function b0(i){return i+zT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function au(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _I(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||jt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??jt.RED,this.left=o??jt.EMPTY,this.right=u??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new jt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return jt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1;jt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class A0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new Lr([])}unionWith(e){let n=new At(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new BT("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(i){if(it(!!i,39018),typeof i=="string"){let e=0;const n=EI.exec(i);if(it(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(i.seconds),nanos:ft(i.nanos)}}function ft(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Kr(i){return typeof i=="string"?Ht.fromBase64String(i):Ht.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="server_timestamp",HT="__type__",qT="__previous_value__",FT="__local_write_time__";function qp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[HT])===null||n===void 0?void 0:n.stringValue)===jT}function Hh(i){const e=i.mapValue.fields[qT];return qp(e)?Hh(e):e}function Ql(i){const e=Gr(i.mapValue.fields[FT].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,s,o,u,h,m,p,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const hh="(default)";class Zl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="__type__",bI="__max__",jc={mapValue:{}},SI="__vector__",Zm="value";function Yr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qp(i)?4:RI(i)?9007199254740991:AI(i)?10:11:be(28295,{value:i})}function pi(i,e){if(i===e)return!0;const n=Yr(i);if(n!==Yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ql(i).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Gr(o.timestampValue),m=Gr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ft(o.doubleValue),m=ft(u.doubleValue);return h===m?Qm(h)===Qm(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return ao(i.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(S0(h)!==S0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!pi(h[p],m[p])))return!1;return!0}(i,e);default:return be(52216,{left:i})}}function Wl(i,e){return(i.values||[]).find(n=>pi(n,e))!==void 0}function oo(i,e){if(i===e)return 0;const n=Yr(i),s=Yr(e);if(n!==s)return Ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=ft(u.integerValue||u.doubleValue),p=ft(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return R0(i.timestampValue,e.timestampValue);case 4:return R0(Ql(i),Ql(e));case 5:return $m(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Kr(u),p=Kr(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Ie(m[g],p[g]);if(v!==0)return v}return Ie(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ie(ft(u.latitude),ft(h.latitude));return m!==0?m:Ie(ft(u.longitude),ft(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return C0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,v;const T=u.fields||{},w=h.fields||{},C=(m=T[Zm])===null||m===void 0?void 0:m.arrayValue,I=(p=w[Zm])===null||p===void 0?void 0:p.arrayValue,z=Ie(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return z!==0?z:C0(C,I)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===jc.mapValue&&h===jc.mapValue)return 0;if(u===jc.mapValue)return 1;if(h===jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const w=$m(p[T],v[T]);if(w!==0)return w;const C=oo(m[p[T]],g[v[T]]);if(C!==0)return C}return Ie(p.length,v.length)}(i.mapValue,e.mapValue);default:throw be(23264,{Pe:n})}}function R0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ie(i,e);const n=Gr(i),s=Gr(e),o=Ie(n.seconds,s.seconds);return o!==0?o:Ie(n.nanos,s.nanos)}function C0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ie(n.length,s.length)}function lo(i){return Wm(i)}function Wm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Kr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Wm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Wm(n.fields[h])}`;return o+"}"}(i.mapValue):be(61005,{value:i})}function eh(i){switch(Yr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(i);return e?16+eh(e):16;case 5:return 2*i.stringValue.length;case 6:return Kr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+eh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return au(s.fields,(u,h)=>{o+=u.length+eh(h)}),o}(i.mapValue);default:throw be(13486,{value:i})}}function Jm(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function I0(i){return!!i&&"nullValue"in i}function O0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sm(i){return!!i&&"mapValue"in i}function AI(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[wI])===null||n===void 0?void 0:n.stringValue)===SI}function jl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return au(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=jl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function RI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===bI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=tn.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=jl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){au(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ui(jl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,we.min(),we.min(),we.min(),ui.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,we.min(),we.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,we.min(),we.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function D0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=oo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function N0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!pi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function CI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class St extends GT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new OI(e,n,s):n==="array-contains"?new kI(e,s):n==="in"?new MI(e,s):n==="not-in"?new xI(e,s):n==="array-contains-any"?new PI(e,s):new St(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new DI(e,s):new NI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(oo(n,this.value)):n!==null&&Yr(this.value)===Yr(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends GT{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new gi(e,n)}matches(e){return KT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function KT(i){return i.op==="and"}function YT(i){return II(i)&&KT(i)}function II(i){for(const e of i.filters)if(e instanceof gi)return!1;return!0}function ep(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+lo(i.value);if(YT(i))return i.filters.map(e=>ep(e)).join(",");{const e=i.filters.map(n=>ep(n)).join(",");return`${i.op}(${e})`}}function XT(i,e){return i instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&pi(s.value,o.value)}(i,e):i instanceof gi?function(s,o){return o instanceof gi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&XT(h,o.filters[m]),!0):!1}(i,e):void be(19439)}function $T(i){return i instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(i):i instanceof gi?function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"}(i):"Filter"}class OI extends St{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class DI extends St{constructor(e,n){super(e,"in",n),this.keys=QT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NI extends St{constructor(e,n){super(e,"not-in",n),this.keys=QT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class kI extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fp(n)&&Wl(n.arrayValue,this.value)}}class MI extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class xI extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Wl(this.value.arrayValue,n)}}class PI extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Ie=null}}function k0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new VI(i,e,n,s,o,u,h)}function Gp(i){const e=Ve(i);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ep(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>lo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>lo(s)).join(",")),e.Ie=n}return e.Ie}function Kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!CI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!XT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!N0(i.startAt,e.startAt)&&N0(i.endAt,e.endAt)}function tp(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function LI(i,e,n,s,o,u,h,m){return new qh(i,e,n,s,o,u,h,m)}function ZT(i){return new qh(i)}function M0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function UI(i){return i.collectionGroup!==null}function Hl(i){const e=Ve(i);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new At(tn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new dh(u,s))}),n.has(tn.keyField().canonicalString())||e.Ee.push(new dh(tn.keyField(),s))}return e.Ee}function fi(i){const e=Ve(i);return e.de||(e.de=zI(e,Hl(i))),e.de}function zI(i,e){if(i.limitType==="F")return k0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new dh(o.field,u)});const n=i.endAt?new fh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new fh(i.startAt.position,i.startAt.inclusive):null;return k0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function np(i,e,n){return new qh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Fh(i,e){return Kp(fi(i),fi(e))&&i.limitType===e.limitType}function WT(i){return`${Gp(fi(i))}|lt:${i.limitType}`}function $a(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>$T(o)).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${s})`}(fi(i))}; limitType=${i.limitType})`}function Gh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=D0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Hl(s),o)||s.endAt&&!function(h,m,p){const g=D0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Hl(s),o))}(i,e)}function BI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function JT(i){return(e,n)=>{let s=!1;for(const o of Hl(i)){const u=jI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jI(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?oo(p,g):be(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){au(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return _I(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new dt(_e.comparator);function Xr(){return HI}const ew=new dt(_e.comparator);function Ll(...i){let e=ew;for(const n of i)e=e.insert(n.key,n);return e}function qI(i){let e=ew;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Bs(){return ql()}function tw(){return ql()}function ql(){return new Ws(i=>i.toString(),(i,e)=>i.isEqual(e))}const FI=new At(_e.comparator);function Le(...i){let e=FI;for(const n of i)e=e.add(n);return e}const GI=new At(Ie);function KI(){return GI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qm(e)?"-0":e}}function XI(i){return{integerValue:""+i}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function $I(i,e,n){return i instanceof ip?function(o,u){const h={fields:{[HT]:{stringValue:jT},[FT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qp(u)&&(u=Hh(u)),u&&(h.fields[qT]=u),{mapValue:h}}(n,e):i instanceof mh?nw(i,e):i instanceof ph?iw(i,e):function(o,u){const h=ZI(o,u),m=x0(h)+x0(o.Re);return Jm(h)&&Jm(o.Re)?XI(m):YI(o.serializer,m)}(i,e)}function QI(i,e,n){return i instanceof mh?nw(i,e):i instanceof ph?iw(i,e):n}function ZI(i,e){return i instanceof rp?function(s){return Jm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class ip extends Kh{}class mh extends Kh{constructor(e){super(),this.elements=e}}function nw(i,e){const n=rw(e);for(const s of i.elements)n.some(o=>pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class ph extends Kh{constructor(e){super(),this.elements=e}}function iw(i,e){let n=rw(e);for(const s of i.elements)n=n.filter(o=>!pi(o,s));return{arrayValue:{values:n}}}class rp extends Kh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function x0(i){return ft(i.integerValue||i.doubleValue)}function rw(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function WI(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof mh&&o instanceof mh||s instanceof ph&&o instanceof ph?ao(s.elements,o.elements,pi):s instanceof rp&&o instanceof rp?pi(s.Re,o.Re):s instanceof ip&&o instanceof ip}(i.transform,e.transform)}class Hs{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hs}static exists(e){return new Hs(void 0,e)}static updateTime(e){return new Hs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Yp{}function sw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new e2(i.key,Hs.none()):new Xp(i.key,i.data,Hs.none());{const n=i.data,s=ui.empty();let o=new At(tn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Yh(i.key,s,new Lr(o.toArray()),Hs.none())}}function JI(i,e,n){i instanceof Xp?function(o,u,h){const m=o.value.clone(),p=V0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Yh?function(o,u,h){if(!th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=V0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(aw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function Fl(i,e,n,s){return i instanceof Xp?function(u,h,m,p){if(!th(u.precondition,h))return m;const g=u.value.clone(),v=L0(u.fieldTransforms,p,h);return g.setAll(v),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof Yh?function(u,h,m,p){if(!th(u.precondition,h))return m;const g=L0(u.fieldTransforms,p,h),v=h.data;return v.setAll(aw(u)),v.setAll(g),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(u,h,m){return th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function P0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,(u,h)=>WI(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Xp extends Yp{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yh extends Yp{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function aw(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function V0(i,e,n){const s=new Map;it(i.length===n.length,32656,{Ve:n.length,me:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,QI(h,m,n[o]))}return s}function L0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,$I(u,h,e))}return s}class e2 extends Yp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&JI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=sw(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,s)=>P0(n,s))&&ao(this.baseMutations,e.baseMutations,(n,s)=>P0(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Pe;function ow(i){if(i===void 0)return Ji("GRPC error has no .code"),ue.UNKNOWN;switch(i){case vt.OK:return ue.OK;case vt.CANCELLED:return ue.CANCELLED;case vt.UNKNOWN:return ue.UNKNOWN;case vt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case vt.INTERNAL:return ue.INTERNAL;case vt.UNAVAILABLE:return ue.UNAVAILABLE;case vt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case vt.NOT_FOUND:return ue.NOT_FOUND;case vt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case vt.ABORTED:return ue.ABORTED;case vt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case vt.DATA_LOSS:return ue.DATA_LOSS;default:return be(39323,{code:i})}}(Pe=vt||(vt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new jr([4294967295,4294967295],0);function U0(i){const e=UT().encode(i),n=new DT;return n.update(e),new Uint8Array(n.digest())}function z0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new jr([n,s],0),new jr([o,u],0)]}class $p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=jr.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(jr.fromNumber(s)));return o.compare(r2)===1&&(o=new jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=U0(e),[s,o]=z0(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);if(!this.be(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new $p(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.pe===0)return;const n=U0(e),[s,o]=z0(n);for(let u=0;u<this.hashCount;u++){const h=this.we(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xh(we.min(),o,new dt(Ie),Xr(),Le())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class lw{constructor(e,n){this.targetId=e,this.Ce=n}}class uw{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class B0{constructor(){this.Fe=0,this.Me=j0(),this.xe=Ht.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Le(),n=Le(),s=Le();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}}),new ou(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=j0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,it(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class s2{constructor(e){this.ze=e,this.je=new Map,this.He=Xr(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new dt(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:be(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(tp(u))if(s===0){const h=new _e(u.path);this.tt(n,h,$t.newNoDocument(h,we.min()))}else it(s===1,20013,{expectedCount:s});else{const h=this.ut(n);if(h!==s){const m=this.ct(e),p=m?this.lt(m,e,h):1;if(p!==0){this.st(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Kr(s).toUint8Array()}catch(p){if(p instanceof BT)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $p(h,o,u)}catch(p){return so(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,h)=>{const m=this._t(h);if(m){if(u.current&&tp(m.target)){const p=new _e(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,$t.newNoDocument(p,e))}u.Le&&(n.set(h,u.qe()),u.Qe())}});let s=Le();this.Ye.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this._t(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,h)=>h.setReadTime(e));const o=new Xh(e,n,this.Ze,this.He,s);return this.He=Xr(),this.Je=Hc(),this.Ye=Hc(),this.Ze=new dt(Ie),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new B0,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new At(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new At(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new B0),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new dt(_e.comparator)}function j0(){return new dt(_e.comparator)}const a2={asc:"ASCENDING",desc:"DESCENDING"},o2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l2={and:"AND",or:"OR"};class u2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(i,e){return i.useProto3Json||jh(e)?e:{value:e}}function c2(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h2(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ja(i){return it(!!i,49232),we.fromTimestamp(function(n){const s=Gr(n);return new ln(s.seconds,s.nanos)}(i))}function f2(i,e){return ap(i,e).canonicalString()}function ap(i,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function cw(i){const e=lt.fromString(i);return it(pw(e),10190,{key:e.toString()}),e}function Am(i,e){const n=cw(e);if(n.get(1)!==i.databaseId.projectId)throw new ye(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ye(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(fw(n))}function hw(i,e){return f2(i.databaseId,e)}function d2(i){const e=cw(i);return e.length===4?lt.emptyPath():fw(e)}function H0(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function fw(i){return it(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function m2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(it(v===void 0||typeof v=="string",58123),Ht.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Ht.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const v=g.code===void 0?ue.UNKNOWN:ow(g.code);return new ye(v,g.message||"")}(h);n=new uw(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Am(i,s.document.name),u=Ja(s.document.updateTime),h=s.document.createTime?Ja(s.document.createTime):we.min(),m=new ui({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,u,h,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new nh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Am(i,s.document),u=s.readTime?Ja(s.readTime):we.min(),h=$t.newNoDocument(o,u),m=s.removedTargetIds||[];n=new nh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Am(i,s.document),u=s.removedTargetIds||[];n=new nh([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new i2(o,u),m=s.targetId;n=new lw(m,h)}}return n}function p2(i,e){return{documents:[hw(i,e.path)]}}function g2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=hw(i,o);const u=function(g){if(g.length!==0)return mw(gi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(v=>function(w){return{field:Qa(w.field),direction:_2(w.dir)}}(v))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=sp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function y2(i){let e=d2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){it(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(T){const w=dw(T);return w instanceof gi&&YT(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(w=>function(I){return new dh(Za(I.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(T){let w;return w=typeof T=="object"?T.value:T,jh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(T){const w=!!T.before,C=T.values||[];return new fh(C,w)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const w=!T.before,C=T.values||[];return new fh(C,w)}(n.endAt)),LI(e,o,h,u,m,"F",p,g)}function v2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dw(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Za(n.unaryFilter.field);return St.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}}(i):i.fieldFilter!==void 0?function(n){return St.create(Za(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return gi.create(n.compositeFilter.filters.map(s=>dw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}}(n.compositeFilter.op))}(i):be(30097,{filter:i})}function _2(i){return a2[i]}function E2(i){return o2[i]}function T2(i){return l2[i]}function Qa(i){return{fieldPath:i.canonicalString()}}function Za(i){return tn.fromServerFormat(i.fieldPath)}function mw(i){return i instanceof St?function(n){if(n.op==="=="){if(O0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(I0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(O0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(I0(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:E2(n.op),value:n.value}}}(i):i instanceof gi?function(n){const s=n.getFilters().map(o=>mw(o));return s.length===1?s[0]:{compositeFilter:{op:T2(n.op),filters:s}}}(i):be(54877,{filter:i})}function pw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e){this.wt=e}}function b2(i){const e=y2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.Cn=new A2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(Fr.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class A2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new At(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new At(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gw=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(gw,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new uo(0)}static lr(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="LruGarbageCollector",R2=1048576;function G0([i,e],[n,s]){const o=Ie(i,n);return o===0?Ie(e,s):o}class C2{constructor(e){this.Er=e,this.buffer=new At(G0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();G0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class I2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(F0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_o(n)?ce(F0,"Ignoring IndexedDB error during garbage collection: ",n):await zh(n)}await this.mr(3e5)})}}class O2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Bh.le);const s=new C2(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(q0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,h,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,m=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),Xa()<=Ne.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-v}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function D2(i,e){return new O2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.changes=new Ws(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,Lr.empty(),ln.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=Bs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Ll();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Bs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=Xr();const h=ql(),m=function(){return ql()}();return n.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof Yh)?u=u.insert(g.key,g):v!==void 0?(h.set(g.key,v.mutation.getFieldMask()),Fl(v.mutation,g,v.mutation.getFieldMask(),ln.now())):h.set(g.key,Lr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>h.set(g,v)),n.forEach((g,v)=>{var T;return m.set(g,new k2(v,(T=h.get(g))!==null&&T!==void 0?T:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new dt((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Lr.empty();v=m.applyToLocalView(g,v),s.set(p,v);const T=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,T)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,T=tw();v.forEach(w=>{if(!u.has(w)){const C=sw(n.get(w),s.get(w));C!==null&&T.set(w,C),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Bs());let m=$l,p=u;return h.next(g=>ne.forEach(g,(v,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(w=>{p=p.insert(v,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(v=>({batchId:m,changes:qI(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Ll();return this.indexManager.getCollectionParents(e,u).next(m=>ne.forEach(m,p=>{const g=function(T,w){return new qh(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const v=g.getKey();h.get(v)===null&&(h=h.insert(v,$t.newInvalidDocument(v)))});let m=Ll();return h.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Fl(v.mutation,g,Lr.empty(),ln.now()),Gh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ne.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ja(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:b2(o.bundledQuery),readTime:Ja(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.overlays=new dt(_e.comparator),this.Qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Bs();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Bs(),u=n.length+1,h=new _e(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt((g,v)=>g-v);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Bs(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Bs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new n2(n,s));let u=this.Qr.get(n);u===void 0&&(u=Le(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.$r=new At(Mt.Ur),this.Kr=new At(Mt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Mt(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new _e(new lt([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),u.push(h.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new _e(new lt([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Le();return this.Kr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return _e.comparator(e.key,n.key)||Ie(e.Zr,n.Zr)}static Wr(e,n){return Ie(e.Zr,n.Zr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new At(Mt.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new t2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?gI:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);u.push(m)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new At(Ie);return n.forEach(o=>{const u=new Mt(o,0),h=new Mt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,h],m=>{s=s.add(m.Zr)})}),ne.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Mt(new _e(u),0);let m=new At(Ie);return this.Xr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Zr)),!0)},h),ne.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){it(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ne.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Xr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.ii=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=Xr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Xr();const h=n.path,m=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||fI(hI(v),s)<=0||(o.has(v.key)||Gh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}si(e,n){return ne.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new z2(this)}getSize(e){return ne.resolve(this.size)}}class z2 extends N2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ne.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.persistence=e,this.oi=new Ws(n=>Gp(n),Kp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this._i=0,this.ai=new Qp,this.targetCount=0,this.ui=uo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ne.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new uo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Tr(n),ne.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,n){this.ci={},this.overlays={},this.li=new Bh(0),this.hi=!1,this.hi=!0,this.Pi=new V2,this.referenceDelegate=e(this),this.Ti=new B2(this),this.indexManager=new S2,this.remoteDocumentCache=function(o){return new U2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new w2(n),this.Ei=new x2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new L2(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new j2(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ne.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class j2 extends mI{constructor(e){super(),this.currentSequenceNumber=e}}class Zp{constructor(e){this.persistence=e,this.Vi=new Qp,this.mi=null}static fi(e){return new Zp(e)}get gi(){if(this.mi)return this.mi;throw be(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,s=>{const o=_e.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ne.or([()=>ne.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class gh{constructor(e,n){this.persistence=e,this.yi=new Ws(s=>yI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=D2(this,n)}static fi(e,n){return new gh(e,n)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ne.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,h=>this.Dr(e,h,n).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}Dr(e,n,s){return ne.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Wp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return VR()?8:pI(Qt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new H2;return this.Ss(e,n,h).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,h,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(Xa()<=Ne.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(Xa()<=Ne.DEBUG&&ce("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Xa()<=Ne.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):ne.resolve())}ws(e,n){if(M0(n))return ne.resolve(null);let s=fi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),s=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ys.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.vs(n,m);return this.Cs(n,g,h,p.readTime)?this.ws(e,np(n,null,"F")):this.Fs(e,g,n,p)}))})))}bs(e,n,s,o){return M0(n)||o.isEqual(we.min())?ne.resolve(null):this.ys.getDocuments(e,s).next(u=>{const h=this.vs(n,u);return this.Cs(n,h,s,o)?ne.resolve(null):(Xa()<=Ne.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),$a(n)),this.Fs(e,h,n,cI(o,$l)).next(m=>m))})}vs(e,n){let s=new At(JT(e));return n.forEach((o,u)=>{Gh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Xa()<=Ne.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ys.getDocumentsMatchingQuery(e,n,Fr.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LocalStore",F2=3e8;class G2{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new dt(Ie),this.Os=new Ws(u=>Gp(u),Kp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function K2(i,e,n,s){return new G2(i,e,n,s)}async function vw(i,e){const n=Ve(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next(g=>({ks:g,removedBatchIds:h,addedBatchIds:m}))})})}function _w(i){const e=Ve(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function Y2(i,e){const n=Ve(i),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((v,T)=>{const w=o.get(T);if(!w)return;m.push(n.Ti.removeMatchingKeys(u,v.removedDocuments,T).next(()=>n.Ti.addMatchingKeys(u,v.addedDocuments,T)));let C=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(Ht.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):v.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(v.resumeToken,s)),o=o.insert(T,C),function(z,V,G){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=F2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,C,v)&&m.push(n.Ti.updateTargetData(u,C))});let p=Xr(),g=Le();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(X2(u,h,e.documentUpdates).next(v=>{p=v.qs,g=v.Qs})),!s.isEqual(we.min())){const v=n.Ti.getLastRemoteSnapshotVersion(u).next(T=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return ne.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.xs=o,u))}function X2(i,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Xr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(Jp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function $2(i,e){const n=Ve(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):n.Ti.allocateTargetId(s).next(h=>(o=new Ur(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function op(i,e,n){const s=Ve(i),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!_o(h))throw h;ce(Jp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function K0(i,e,n){const s=Ve(i);let o=we.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,v){const T=Ve(p),w=T.Os.get(v);return w!==void 0?ne.resolve(T.xs.get(w)):T.Ti.getTargetData(g,v)}(s,h,fi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:Le())).next(m=>(Q2(s,BI(e),m),{documents:m,$s:u})))}function Q2(i,e,n){let s=i.Ns.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Ns.set(e,s)}class Y0{constructor(){this.activeTargetIds=KI()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z2{constructor(){this.xo=new Y0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Y0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="ConnectivityMonitor";class $0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(X0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(X0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function lp(){return qc===null?qc=function(){return 268435456+Math.round(2147483648*Math.random())}():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="RestConnection",J2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eO{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===hh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const h=lp(),m=this.jo(e,n.toUriEncodedString());ce(Rm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,u);const{host:g}=new URL(m),v=Zs(g);return this.Jo(e,m,p,s,v).then(T=>(ce(Rm,`Received RPC '${e}' ${h}: `,T),T),T=>{throw so(Rm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T})}Yo(e,n,s,o,u,h){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=J2[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class nO extends eO{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=lp();return new Promise((m,p)=>{const g=new NT;g.setWithCredentials(!0),g.listenOnce(kT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Jc.NO_ERROR:const T=g.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Jc.TIMEOUT:ce(Kt,`RPC '${e}' ${h} timed out`),p(new ye(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=g.getStatus();if(ce(Kt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const I=C==null?void 0:C.error;if(I&&I.status&&I.message){const z=function(G){const B=G.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(B)>=0?B:ue.UNKNOWN}(I.status);p(new ye(z,I.message))}else p(new ye(ue.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(ue.UNAVAILABLE,"Connection failed."));break;default:be(9055,{h_:e,streamId:h,P_:g.getLastErrorCode(),T_:g.getLastError()})}}finally{ce(Kt,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);ce(Kt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",v,s,15)})}I_(e,n,s){const o=lp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=PT(),m=xT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");ce(Kt,`Creating RPC '${e}' stream ${o}: ${v}`,p);const T=h.createWebChannel(v,p);this.E_(T);let w=!1,C=!1;const I=new tO({Zo:V=>{C?ce(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(w||(ce(Kt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(Kt,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Xo:()=>T.close()}),z=(V,G,B)=>{V.listen(G,$=>{try{B($)}catch(Y){setTimeout(()=>{throw Y},0)}})};return z(T,Vl.EventType.OPEN,()=>{C||(ce(Kt,`RPC '${e}' stream ${o} transport opened.`),I.__())}),z(T,Vl.EventType.CLOSE,()=>{C||(C=!0,ce(Kt,`RPC '${e}' stream ${o} transport closed`),I.u_(),this.d_(T))}),z(T,Vl.EventType.ERROR,V=>{C||(C=!0,so(Kt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),I.u_(new ye(ue.UNAVAILABLE,"The operation could not be completed")))}),z(T,Vl.EventType.MESSAGE,V=>{var G;if(!C){const B=V.data[0];it(!!B,16349);const $=B,Y=($==null?void 0:$.error)||((G=$[0])===null||G===void 0?void 0:G.error);if(Y){ce(Kt,`RPC '${e}' stream ${o} received error:`,Y);const ee=Y.status;let re=function(R){const N=vt[R];if(N!==void 0)return ow(N)}(ee),O=Y.message;re===void 0&&(re=ue.INTERNAL,O="Unknown error status: "+ee+" with message "+Y.message),C=!0,I.u_(new ye(re,O)),T.close()}else ce(Kt,`RPC '${e}' stream ${o} received:`,B),I.c_(B)}}),z(m,MT.STAT_EVENT,V=>{V.stat===Xm.PROXY?ce(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Xm.NOPROXY&&ce(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.a_()},0),I}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(i){return new u2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="PersistentStream";class iO{constructor(e,n,s,o,u,h,m,p){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Tw(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===ue.RESOURCE_EXHAUSTED?(Ji(n.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new ye(ue.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ce(Q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ce(Q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rO extends iO{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=m2(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ja(h.readTime):we.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=H0(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=tp(p)?{documents:p2(u,p)}:{query:g2(u,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=h2(u,h.resumeToken);const g=sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=c2(u,h.snapshotVersion.toTimestamp());const g=sp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=v2(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=H0(this.serializer),n.removeTarget=e,this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{}class aO extends sO{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new ye(ue.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.zo(e,ap(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(ue.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(e,ap(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(ue.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class oO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ji(n),this.ua=!1):ce("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class lO{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(h=>{s.enqueueAndForget(async()=>{uu(this)&&(ce(co,"Restarting streams for network reachability change."),await async function(p){const g=Ve(p);g.da.add(4),await lu(g),g.Va.set("Unknown"),g.da.delete(4),await $h(g)}(this))})}),this.Va=new oO(s,o)}}async function $h(i){if(uu(i))for(const e of i.Aa)await e(!0)}async function lu(i){for(const e of i.Aa)await e(!1)}function ww(i,e){const n=Ve(i);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),ig(n)?ng(n):Eo(n).N_()&&tg(n,e))}function eg(i,e){const n=Ve(i),s=Eo(n);n.Ea.delete(e),s.N_()&&bw(n,e),n.Ea.size===0&&(s.N_()?s.k_():uu(n)&&n.Va.set("Unknown"))}function tg(i,e){if(i.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(i).Z_(e)}function bw(i,e){i.ma.Ke(e),Eo(i).X_(e)}function ng(i){i.ma=new s2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>i.Ea.get(e)||null,Pt:()=>i.datastore.serializer.databaseId}),Eo(i).start(),i.Va.ca()}function ig(i){return uu(i)&&!Eo(i).O_()&&i.Ea.size>0}function uu(i){return Ve(i).da.size===0}function Sw(i){i.ma=void 0}async function uO(i){i.Va.set("Online")}async function cO(i){i.Ea.forEach((e,n)=>{tg(i,e)})}async function hO(i,e){Sw(i),ig(i)?(i.Va.Pa(e),ng(i)):i.Va.set("Unknown")}async function fO(i,e,n){if(i.Va.set("Online"),e instanceof uw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(i,e)}catch(s){ce(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Z0(i,s)}else if(e instanceof nh?i.ma.Xe(e):e instanceof lw?i.ma.ot(e):i.ma.nt(e),!n.isEqual(we.min()))try{const s=await _w(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.ma.It(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.Ea.get(g);v&&u.Ea.set(g,v.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const v=u.Ea.get(p);if(!v)return;u.Ea.set(p,v.withResumeToken(Ht.EMPTY_BYTE_STRING,v.snapshotVersion)),bw(u,p);const T=new Ur(v.target,p,g,v.sequenceNumber);tg(u,T)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(co,"Failed to raise snapshot:",s),await Z0(i,s)}}async function Z0(i,e,n){if(!_o(e))throw e;i.da.add(1),await lu(i),i.Va.set("Offline"),n||(n=()=>_w(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(co,"Retrying IndexedDB access"),await n(),i.da.delete(1),await $h(i)})}async function W0(i,e){const n=Ve(i);n.asyncQueue.verifyOperationInProgress(),ce(co,"RemoteStore received new credentials");const s=uu(n);n.da.add(3),await lu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await $h(n)}async function dO(i,e){const n=Ve(i);e?(n.da.delete(2),await $h(n)):e||(n.da.add(2),await lu(n),n.Va.set("Unknown"))}function Eo(i){return i.fa||(i.fa=function(n,s,o){const u=Ve(n);return u.oa(),new rO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{e_:uO.bind(null,i),n_:cO.bind(null,i),i_:hO.bind(null,i),Y_:fO.bind(null,i)}),i.Aa.push(async e=>{e?(i.fa.L_(),ig(i)?ng(i):i.Va.set("Unknown")):(await i.fa.stop(),Sw(i))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new rg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Aw(i,e){if(Ji("AsyncQueue",`${e}: ${i}`),_o(i))return new ye(ue.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new eo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.pa=new dt(_e.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class ho{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new ho(e,n,eo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class pO{constructor(){this.queries=eE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ve(n),u=o.queries;o.queries=eE(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ye(ue.ABORTED,"Firestore shutting down"))}}function eE(){return new Ws(i=>WT(i),Fh)}async function gO(i,e){const n=Ve(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new mO,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Aw(h,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&sg(n)}async function yO(i,e){const n=Ve(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function vO(i,e){const n=Ve(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Ma(o)&&(s=!0);h.ba=o}}s&&sg(n)}function _O(i,e,n){const s=Ve(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function sg(i){i.Ca.forEach(e=>{e.next()})}var up,tE;(tE=up||(up={})).xa="default",tE.Cache="cache";class EO{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e){this.key=e}}class Cw{constructor(e){this.key=e}}class TO{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Le(),this.mutatedKeys=Le(),this.Za=JT(e),this.Xa=new eo(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new J0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,T)=>{const w=o.get(v),C=Gh(this.query,T)?T:null,I=!!w&&this.mutatedKeys.has(w.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;w&&C?w.data.isEqual(C.data)?I!==z&&(s.track({type:3,doc:C}),V=!0):this.ru(w,C)||(s.track({type:2,doc:C}),V=!0,(p&&this.Za(C,p)>0||g&&this.Za(C,g)<0)&&(m=!0)):!w&&C?(s.track({type:0,doc:C}),V=!0):w&&!C&&(s.track({type:1,doc:w}),V=!0,(p||g)&&(m=!0)),V&&(C?(h=h.add(C),u=z?u.add(v):u.delete(v)):(h=h.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const v=this.query.limitType==="F"?h.last():h.first();h=h.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Xa:h,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const h=e.nu.wa();h.sort((v,T)=>function(C,I){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:V})}};return z(C)-z(I)}(v.type,T.type)||this.Za(v.doc,T.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Ja;return this.Ja=p,h.length!==0||g?{snapshot:new ho(this.query,e.Xa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new J0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Le(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new Cw(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new Rw(s))}),n}au(e){this.Ha=e.$s,this.Ya=Le();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ho.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const ag="SyncEngine";class wO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class bO{constructor(e){this.key=e,this.cu=!1}}class SO{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new Ws(m=>WT(m),Fh),this.Pu=new Map,this.Tu=new Set,this.Iu=new dt(_e.comparator),this.Eu=new Map,this.du=new Qp,this.Au={},this.Ru=new Map,this.Vu=uo.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function AO(i,e,n=!0){const s=kw(i);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await Iw(s,e,n,!0),o}async function RO(i,e){const n=kw(i);await Iw(n,e,!0,!1)}async function Iw(i,e,n,s){const o=await $2(i.localStore,fi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await CO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&ww(i.remoteStore,o),m}async function CO(i,e,n,s,o){i.fu=(T,w,C)=>async function(z,V,G,B){let $=V.view.tu(G);$.Cs&&($=await K0(z.localStore,V.query,!1).then(({documents:O})=>V.view.tu(O,$)));const Y=B&&B.targetChanges.get(V.targetId),ee=B&&B.targetMismatches.get(V.targetId)!=null,re=V.view.applyChanges($,z.isPrimaryClient,Y,ee);return iE(z,V.targetId,re.ou),re.snapshot}(i,T,w,C);const u=await K0(i.localStore,e,!0),h=new TO(e,u.$s),m=h.tu(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);iE(i,n,g.ou);const v=new wO(e,n,h);return i.hu.set(e,v),i.Pu.has(n)?i.Pu.get(n).push(e):i.Pu.set(n,[e]),g.snapshot}async function IO(i,e,n){const s=Ve(i),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(h=>!Fh(h,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&eg(s.remoteStore,o.targetId),cp(s,o.targetId)}).catch(zh)):(cp(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function OO(i,e){const n=Ve(i),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),eg(n.remoteStore,s.targetId))}async function Ow(i,e){const n=Ve(i);try{const s=await Y2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?it(h.cu,14607):o.removedDocuments.size>0&&(it(h.cu,42227),h.cu=!1))}),await Nw(n,s,e)}catch(s){await zh(s)}}function nE(i,e,n){const s=Ve(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,h)=>{const m=h.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ve(h);p.onlineState=m;let g=!1;p.queries.forEach((v,T)=>{for(const w of T.Sa)w.Fa(m)&&(g=!0)}),g&&sg(p)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function DO(i,e,n){const s=Ve(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new dt(_e.comparator);h=h.insert(u,$t.newNoDocument(u,we.min()));const m=Le().add(u),p=new Xh(we.min(),new Map,new dt(Ie),h,m);await Ow(s,p),s.Iu=s.Iu.remove(u),s.Eu.delete(e),og(s)}else await op(s.localStore,e,!1).then(()=>cp(s,e,n)).catch(zh)}function cp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Pu.get(e))i.hu.delete(s),n&&i.lu.gu(s,n);i.Pu.delete(e),i.isPrimaryClient&&i.du.Hr(e).forEach(s=>{i.du.containsKey(s)||Dw(i,s)})}function Dw(i,e){i.Tu.delete(e.path.canonicalString());const n=i.Iu.get(e);n!==null&&(eg(i.remoteStore,n),i.Iu=i.Iu.remove(e),i.Eu.delete(n),og(i))}function iE(i,e,n){for(const s of n)s instanceof Rw?(i.du.addReference(s.key,e),NO(i,s)):s instanceof Cw?(ce(ag,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,e),i.du.containsKey(s.key)||Dw(i,s.key)):be(19791,{pu:s})}function NO(i,e){const n=e.key,s=n.path.canonicalString();i.Iu.get(n)||i.Tu.has(s)||(ce(ag,"New document in limbo: "+n),i.Tu.add(s),og(i))}function og(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const e=i.Tu.values().next().value;i.Tu.delete(e);const n=new _e(lt.fromString(e)),s=i.Vu.next();i.Eu.set(s,new bO(n)),i.Iu=i.Iu.insert(n,s),ww(i.remoteStore,new Ur(fi(ZT(n.path)),s,"TargetPurposeLimboResolution",Bh.le))}}async function Nw(i,e,n){const s=Ve(i),o=[],u=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{h.push(s.fu(p,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Wp.Rs(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,g){const v=Ve(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(g,w=>ne.forEach(w.ds,C=>v.persistence.referenceDelegate.addReference(T,w.targetId,C)).next(()=>ne.forEach(w.As,C=>v.persistence.referenceDelegate.removeReference(T,w.targetId,C)))))}catch(T){if(!_o(T))throw T;ce(Jp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const C=v.xs.get(w),I=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(I);v.xs=v.xs.insert(w,z)}}}(s.localStore,u))}async function kO(i,e){const n=Ve(i);if(!n.currentUser.isEqual(e)){ce(ag,"User change. New user:",e.toKey());const s=await vw(n.localStore,e);n.currentUser=e,function(u,h){u.Ru.forEach(m=>{m.forEach(p=>{p.reject(new ye(ue.CANCELLED,h))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nw(n,s.ks)}}function MO(i,e){const n=Ve(i),s=n.Eu.get(e);if(s&&s.cu)return Le().add(s.key);{let o=Le();const u=n.Pu.get(e);if(!u)return o;for(const h of u){const m=n.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function kw(i){const e=Ve(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DO.bind(null,e),e.lu.Y_=vO.bind(null,e.eventManager),e.lu.gu=_O.bind(null,e.eventManager),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ew(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return K2(this.persistence,new q2,e.initialUser,this.serializer)}Su(e){return new yw(Zp.fi,this.serializer)}bu(e){return new Z2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class xO extends yh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){it(this.persistence.referenceDelegate instanceof gh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new I2(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new yw(s=>gh.fi(s,n),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kO.bind(null,this.syncEngine),await dO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pO}()}createDatastore(e){const n=Ew(e.databaseInfo.databaseId),s=function(u){return new nO(u)}(e.databaseInfo);return function(u,h,m,p){return new aO(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new lO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return $0.C()?new $0:new W2}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,v){const T=new SO(o,u,h,m,p,g);return v&&(T.mu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ve(o);ce(co,"RemoteStore shutting down."),u.da.add(5),await lu(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ji("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class VO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=oI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce($r,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce($r,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Aw(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Im(i,e){i.asyncQueue.verifyOperationInProgress(),ce($r,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await vw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function rE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await LO(i);ce($r,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>W0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>W0(e.remoteStore,o)),i._onlineComponents=e}async function LO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce($r,"Using user provided OfflineComponentProvider");try{await Im(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ue.FAILED_PRECONDITION||o.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await Im(i,new yh)}}else ce($r,"Using default OfflineComponentProvider"),await Im(i,new xO(void 0));return i._offlineComponents}async function UO(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce($r,"Using user provided OnlineComponentProvider"),await rE(i,i._uninitializedComponentsProvider._online)):(ce($r,"Using default OnlineComponentProvider"),await rE(i,new hp))),i._onlineComponents}async function zO(i){const e=await UO(i),n=e.eventManager;return n.onListen=AO.bind(null,e.syncEngine),n.onUnlisten=IO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OO.bind(null,e.syncEngine),n}function BO(i,e,n={}){const s=new js;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const v=new PO({next:w=>{v.xu(),h.enqueueAndForget(()=>yO(u,T)),w.fromCache&&p.source==="server"?g.reject(new ye(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new EO(m,v,{includeMetadataChanges:!0,Qa:!0});return gO(u,T)}(await zO(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;function jO(i,e,n,s){if(e===!0&&s===!0)throw new ye(ue.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function aE(i){if(_e.isDocumentKey(i))throw new ye(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function HO(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function fp(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=HO(i);throw new ye(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firestore.googleapis.com",oE=!0;class lE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xw,this.ssl=oE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R2)throw new ye(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eI;switch(s.type){case"firstParty":return new rI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=sE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),sE.delete(n),s.terminate())}(this),Promise.resolve()}}function qO(i,e,n,s={}){var o;i=fp(i,lg);const u=Zs(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(Lp(`https://${p}`),Up("Firestore",!0)),h.host!==xw&&h.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!qs(g,m)&&(i._setSettings(g),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=Yt.MOCK_USER;else{v=CR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ye(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Yt(w)}i._authCredentials=new tI(new LT(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Qh(this.firestore,e,this._query)}}class To{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new To(this.firestore,e,this._key)}}class to extends Qh{constructor(e,n,s){super(e,n,ZT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new To(this.firestore,null,new _e(e))}withConverter(e){return new to(this.firestore,e,this._path)}}function FO(i,e,...n){if(i=_i(i),i instanceof lg){const s=lt.fromString(e,...n);return aE(s),new to(i,null,s)}{if(!(i instanceof To||i instanceof to))throw new ye(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return aE(s),new to(i.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="AsyncQueue";class cE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Tw(this,"async_queue_retry"),this.rc=()=>{const s=Cm();s&&ce(uE,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new js;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!_o(e))throw e;ce(uE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ji("INTERNAL UNHANDLED ERROR: ",hE(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=rg.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&be(47125,{cc:hE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function hE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Pw extends lg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new cE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cE(e),this._firestoreClient=void 0,await e}}}function GO(i,e){const n=jp(),s=hh,o=Uh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wT("firestore");u&&qO(o,...u)}return o}function KO(i){if(i._terminated)throw new ye(ue.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YO(i),i._firestoreClient}function YO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,v){return new TI(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Mw(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new VO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vh(Ht.fromBase64String(e))}catch(n){throw new ye(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vh(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}const QO=new RegExp("[~\\*/\\[\\]]");function ZO(i,e,n){if(e.search(QO)>=0)throw fE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new Vw(...e.split("."))._internalPath}catch{throw fE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function fE(i,e,n,s,o){let u=`Function ${e}() called with invalid data`;u+=". ";let h="";return new ye(ue.INVALID_ARGUMENT,u+i+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new To(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Uw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WO extends Lw{data(){return super.data()}}function Uw(i,e){return typeof e=="string"?ZO(i,e):e instanceof Vw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ye(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eD{convertValue(e,n="none"){switch(Yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return au(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Zm].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>ft(h.doubleValue));return new $O(u)}convertGeoPoint(e){return new XO(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);it(pw(s),9688,{name:e});const o=new Zl(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||Ji(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tD extends Lw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Uw("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ih extends tD{data(e={}){return super.data(e)}}class nD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ih(this._firestore,this._userDataWriter,s.key,s,new Fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ih(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),v=h.indexOf(m.doc.key)),{type:iD(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iD(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}class rD extends eD{constructor(e){super(),this.firestore=e}convertBytes(e){return new vh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new To(this.firestore,null,n)}}function sD(i){i=fp(i,Qh);const e=fp(i.firestore,Pw),n=KO(e),s=new rD(e);return JO(i._query),BO(n,i._query).then(o=>new nD(e,s,i,o))}(function(e,n=!0){(function(o){vo=o})(yo),Fs(new qr("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Pw(new nI(s.getProvider("auth-internal")),new sI(h,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(g.options.projectId,v)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),hi(g0,y0,e),hi(g0,y0,"esm2017")})();var aD="firebase",oD="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hi(aD,oD,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="type.googleapis.com/google.protobuf.Int64Value",uD="type.googleapis.com/google.protobuf.UInt64Value";function zw(i,e){const n={};for(const s in i)i.hasOwnProperty(s)&&(n[s]=e(i[s]));return n}function _h(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(e=>_h(e));if(typeof i=="function"||typeof i=="object")return zw(i,e=>_h(e));throw new Error("Data cannot be encoded in JSON: "+i)}function fo(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case lD:case uD:{const e=Number(i.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+i);return e}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(e=>fo(e)):typeof i=="function"||typeof i=="object"?zw(i,e=>fo(e)):i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends vi{constructor(e,n,s){super(`${ug}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,on.prototype)}}function cD(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Eh(i,e){let n=cD(i),s=n,o;try{const u=e&&e.error;if(u){const h=u.status;if(typeof h=="string"){if(!dE[h])return new on("internal","internal");n=dE[h],s=h}const m=u.message;typeof m=="string"&&(s=m),o=u.details,o!==void 0&&(o=fo(o))}}catch{}return n==="ok"?null:new on(n,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,s,o){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Mn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(u=>this.auth=u,()=>{}),this.messaging||s.get().then(u=>this.messaging=u,()=>{}),this.appCheck||o==null||o.get().then(u=>this.appCheck=u,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),o=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:o}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="us-central1",fD=/^data: (.*?)(?:\n|$)/;function dD(i){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new on("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{e&&clearTimeout(e)}}}class mD{constructor(e,n,s,o,u=dp,h=(...m)=>fetch(...m)){this.app=e,this.fetchImpl=h,this.emulatorOrigin=null,this.contextProvider=new hD(e,n,s,o),this.cancelAllRequests=new Promise(m=>{this.deleteService=()=>Promise.resolve(m())});try{const m=new URL(u);this.customDomain=m.origin+(m.pathname==="/"?"":m.pathname),this.region=dp}catch{this.customDomain=null,this.region=u}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function pD(i,e,n){const s=Zs(e);i.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(Lp(i.emulatorOrigin),Up("Functions",!0))}function gD(i,e,n){const s=o=>vD(i,e,o,{});return s.stream=(o,u)=>ED(i,e,o,u),s}async function yD(i,e,n,s){n["Content-Type"]="application/json";let o;try{o=await s(i,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let u=null;try{u=await o.json()}catch{}return{status:o.status,json:u}}async function Bw(i,e){const n={},s=await i.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function vD(i,e,n,s){const o=i._url(e);return _D(i,o,n,s)}async function _D(i,e,n,s){n=_h(n);const o={data:n},u=await Bw(i,s),h=s.timeout||7e4,m=dD(h),p=await Promise.race([yD(e,o,u,i.fetchImpl),m.promise,i.cancelAllRequests]);if(m.cancel(),!p)throw new on("cancelled","Firebase Functions instance was deleted.");const g=Eh(p.status,p.json);if(g)throw g;if(!p.json)throw new on("internal","Response is not valid JSON object.");let v=p.json.data;if(typeof v>"u"&&(v=p.json.result),typeof v>"u")throw new on("internal","Response is missing data field.");return{data:fo(v)}}function ED(i,e,n,s){const o=i._url(e);return TD(i,o,n,s||{})}async function TD(i,e,n,s){var o;n=_h(n);const u={data:n},h=await Bw(i,s);h["Content-Type"]="application/json",h.Accept="text/event-stream";let m;try{m=await i.fetchImpl(e,{method:"POST",body:JSON.stringify(u),headers:h,signal:s==null?void 0:s.signal})}catch(C){if(C instanceof Error&&C.name==="AbortError"){const z=new on("cancelled","Request was cancelled.");return{data:Promise.reject(z),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(z)}}}}}}const I=Eh(0,null);return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}let p,g;const v=new Promise((C,I)=>{p=C,g=I});(o=s==null?void 0:s.signal)===null||o===void 0||o.addEventListener("abort",()=>{const C=new on("cancelled","Request was cancelled.");g(C)});const T=m.body.getReader(),w=wD(T,p,g,s==null?void 0:s.signal);return{stream:{[Symbol.asyncIterator](){const C=w.getReader();return{async next(){const{value:I,done:z}=await C.read();return{value:I,done:z}},async return(){return await C.cancel(),{done:!0,value:void 0}}}}},data:v}}function wD(i,e,n,s){const o=(h,m)=>{const p=h.match(fD);if(!p)return;const g=p[1];try{const v=JSON.parse(g);if("result"in v){e(fo(v.result));return}if("message"in v){m.enqueue(fo(v.message));return}if("error"in v){const T=Eh(0,v);m.error(T),n(T);return}}catch(v){if(v instanceof on){m.error(v),n(v);return}}},u=new TextDecoder;return new ReadableStream({start(h){let m="";return p();async function p(){if(s!=null&&s.aborted){const g=new on("cancelled","Request was cancelled");return h.error(g),n(g),Promise.resolve()}try{const{value:g,done:v}=await i.read();if(v){m.trim()&&o(m.trim(),h),h.close();return}if(s!=null&&s.aborted){const w=new on("cancelled","Request was cancelled");h.error(w),n(w),await i.cancel();return}m+=u.decode(g,{stream:!0});const T=m.split(`
`);m=T.pop()||"";for(const w of T)w.trim()&&o(w.trim(),h);return p()}catch(g){const v=g instanceof on?g:Eh(0,null);h.error(v),n(v)}}},cancel(){return i.cancel()}})}const mE="@firebase/functions",pE="0.12.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="auth-internal",SD="app-check-internal",AD="messaging-internal";function RD(i){const e=(n,{instanceIdentifier:s})=>{const o=n.getProvider("app").getImmediate(),u=n.getProvider(bD),h=n.getProvider(AD),m=n.getProvider(SD);return new mD(o,u,h,m,s)};Fs(new qr(ug,e,"PUBLIC").setMultipleInstances(!0)),hi(mE,pE,i),hi(mE,pE,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(i=jp(),e=dp){const s=Uh(_i(i),ug).getImmediate({identifier:e}),o=wT("functions");return o&&ID(s,...o),s}function ID(i,e,n){pD(_i(i),e,n)}function OD(i,e,n){return gD(_i(i),e)}RD();function cg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function jw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DD=jw,Hw=new ru("auth","Firebase",jw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new zp("@firebase/auth");function ND(i,...e){Th.logLevel<=Ne.WARN&&Th.warn(`Auth (${yo}): ${i}`,...e)}function rh(i,...e){Th.logLevel<=Ne.ERROR&&Th.error(`Auth (${yo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(i,...e){throw hg(i,...e)}function di(i,...e){return hg(i,...e)}function qw(i,e,n){const s=Object.assign(Object.assign({},DD()),{[e]:n});return new ru("auth","Firebase",s).create(e,{appName:i.name})}function Hr(i){return qw(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Hw.create(i,...e)}function Ee(i,e,...n){if(!i)throw hg(e,...n)}function Yi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw rh(e),new Error(e)}function tr(i,e){i||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function kD(){return gE()==="http:"||gE()==="https:"}function gE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kD()||MR()||"connection"in navigator)?navigator.onLine:!0}function xD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=DR()||xR()}get(){return MD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(i,e){tr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LD=new cu(3e4,6e4);function Zh(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function wo(i,e,n,s,o={}){return Gw(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=su(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return kR()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Zs(i.emulatorConfig.host)&&(g.credentials="include"),Fw.fetch()(await Yw(i,i.config.apiHost,n,m),g)})}async function Gw(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},PD),e);try{const o=new UD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Gc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Gc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Gc(i,"user-disabled",h);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw qw(i,v,g);er(i,v)}}catch(o){if(o instanceof vi)throw o;er(i,"network-request-failed",{message:String(o)})}}async function Kw(i,e,n,s,o={}){const u=await wo(i,e,n,s,o);return"mfaPendingCredential"in u&&er(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Yw(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?fg(i.config,o):`${i.config.apiScheme}://${o}`;return VD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class UD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(di(this.auth,"network-request-failed")),LD.get())})}}function Gc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=di(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(i,e){return wo(i,"POST","/v1/accounts:delete",e)}async function wh(i,e){return wo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BD(i,e=!1){const n=_i(i),s=await n.getIdToken(e),o=dg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(Om(o.auth_time)),issuedAtTime:Gl(Om(o.iat)),expirationTime:Gl(Om(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Om(i){return Number(i)*1e3}function dg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ET(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function yE(i){const e=dg(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vi&&jD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function jD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Jl(i,wh(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Xw(u.providerUserInfo):[],m=FD(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new pp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,T)}async function qD(i){const e=_i(i);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Xw(i){return i.map(e=>{var{providerId:n}=e,s=cg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GD(i,e){const n=await Gw(i,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await Yw(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Zs(i.emulatorConfig.host)&&(p.credentials="include"),Fw.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KD(i,e){return wo(i,"POST","/v2/accounts:revokeToken",Zh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=yE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await GD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new no;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=cg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BD(this,e)}reload(){return qD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Hr(this.auth));const e=await this.getIdToken();return await Jl(this,zD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,v;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,C=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,I=(h=n.photoURL)!==null&&h!==void 0?h:void 0,z=(m=n.tenantId)!==null&&m!==void 0?m:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,B=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:$,emailVerified:Y,isAnonymous:ee,providerData:re,stsTokenManager:O}=n;Ee($&&O,e,"internal-error");const A=no.fromJSON(this.name,O);Ee(typeof $=="string",e,"internal-error"),kr(T,e.name),kr(w,e.name),Ee(typeof Y=="boolean",e,"internal-error"),Ee(typeof ee=="boolean",e,"internal-error"),kr(C,e.name),kr(I,e.name),kr(z,e.name),kr(V,e.name),kr(G,e.name),kr(B,e.name);const R=new Hn({uid:$,auth:e,email:w,emailVerified:Y,displayName:T,isAnonymous:ee,photoURL:I,phoneNumber:C,tenantId:z,stsTokenManager:A,createdAt:G,lastLoginAt:B});return re&&Array.isArray(re)&&(R.providerData=re.map(N=>Object.assign({},N))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Xw(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new no;m.updateFromIdToken(s);const p=new Hn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;function Xi(i){tr(i instanceof Function,"Expected a class definition");let e=vE.get(i);return e?(tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,vE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$w.type="NONE";const _E=$w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i,e,n){return`firebase:${i}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await wh(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(Xi(_E),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Xi(_E);const h=sh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(h);if(v){let T;if(typeof v=="string"){const w=await wh(e,{idToken:v}).catch(()=>{});if(!w)break;T=await Hn._fromGetAccountInfoResponse(e,w,v)}else T=Hn._fromJSON(e,v);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tb(e))return"Blackberry";if(nb(e))return"Webos";if(Zw(e))return"Safari";if((e.includes("chrome/")||Ww(e))&&!e.includes("edge/"))return"Chrome";if(eb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Qw(i=Qt()){return/firefox\//i.test(i)}function Zw(i=Qt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ww(i=Qt()){return/crios\//i.test(i)}function Jw(i=Qt()){return/iemobile/i.test(i)}function eb(i=Qt()){return/android/i.test(i)}function tb(i=Qt()){return/blackberry/i.test(i)}function nb(i=Qt()){return/webos/i.test(i)}function mg(i=Qt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function YD(i=Qt()){var e;return mg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XD(){return PR()&&document.documentMode===10}function ib(i=Qt()){return mg(i)||eb(i)||nb(i)||tb(i)||/windows phone/i.test(i)||Jw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(i,e=[]){let n;switch(i){case"Browser":n=EE(Qt());break;case"Worker":n=`${EE(Qt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(i,e={}){return wo(i,"GET","/v2/passwordPolicy",Zh(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=6;class WD{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:ZD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wh(this,{idToken:e}),s=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Hr(this));const n=e?_i(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QD(this),n=new WD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await KD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ND(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wh(i){return _i(i)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eN(i){pg=i}function tN(i){return pg.loadJS(i)}function nN(){return pg.gapiScript}function iN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i,e){const n=Uh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(qs(u,e??{}))return o;er(o,"already-initialized")}return n.initialize({options:e})}function sN(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function aN(i,e,n){const s=Wh(i);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=sb(e),{host:h,port:m}=oN(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},v=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(qs(g,s.config.emulator)&&qs(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Zs(h)?(Lp(`${u}//${h}${p}`),Up("Auth",!0)):lN()}function sb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function oN(i){const e=sb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:wE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:wE(h)}}}function wE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function lN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return Kw(i,"POST","/v1/accounts:signInWithIdp",Zh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="http://localhost";class Ks extends ab{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ks(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=cg(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ks(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:uN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends ob{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends hu{constructor(){super("facebook.com")}static credential(e){return Ks._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ks._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends hu{constructor(){super("github.com")}static credential(e){return Ks._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends hu{constructor(){super("twitter.com")}static credential(e,n){return Ks._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Hn._fromIdTokenResponse(e,s,o),h=bE(s);return new Ys({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=bE(s);return new Ys({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function bE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends vi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Sh(e,n,s,o)}}function lb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(i,u,e,s):u})}async function cN(i,e,n=!1){const s=await Jl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ys._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(i,e,n=!1){const{auth:s}=i;if(Mn(s.app))return Promise.reject(Hr(s));const o="reauthenticate";try{const u=await Jl(i,lb(s,o,e,i),n);Ee(u.idToken,s,"internal-error");const h=dg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(i.uid===m,s,"user-mismatch"),Ys._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(i,e,n=!1){if(Mn(i.app))return Promise.reject(Hr(i));const s="signIn",o=await lb(i,s,e),u=await Ys._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(i,e){return Kw(i,"POST","/v1/accounts:signInWithCustomToken",Zh(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(i,e){if(Mn(i.app))return Promise.reject(Hr(i));const n=Wh(i),s=await dN(n,{token:e,returnSecureToken:!0}),o=await Ys._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function pN(i,e,n,s){return _i(i).onIdTokenChanged(e,n,s)}function gN(i,e,n){return _i(i).beforeAuthStateChanged(e,n)}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=1e3,vN=10;class cb extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ib(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);XD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}cb.type="LOCAL";const _N=cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hb.type="SESSION";const fb=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await EN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=gg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(){return window}function wN(i){mi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(){return typeof mi().WorkerGlobalScope<"u"&&typeof mi().importScripts=="function"}async function bN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SN(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function AN(){return db()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="firebaseLocalStorageDb",RN=1,Rh="firebaseLocalStorage",pb="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(i,e){return i.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function CN(){const i=indexedDB.deleteDatabase(mb);return new fu(i).toPromise()}function gp(){const i=indexedDB.open(mb,RN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Rh,{keyPath:pb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await CN(),e(await gp()))})})}async function SE(i,e,n){const s=ef(i,!0).put({[pb]:e,value:n});return new fu(s).toPromise()}async function IN(i,e){const n=ef(i,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function AE(i,e){const n=ef(i,!0).delete(e);return new fu(n).toPromise()}const ON=800,DN=3;class gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(AN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await bN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await SE(e,Ah,"1"),await AE(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>SE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>IN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gb.type="LOCAL";const NN=gb;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(i,e){return e?Xi(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends ab{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MN(i){return fN(i.auth,new yg(i),i.bypassAuthState)}function xN(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),hN(n,new yg(i),i.bypassAuthState)}async function PN(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),cN(n,new yg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MN;case"linkViaPopup":case"linkViaRedirect":return PN;case"reauthViaPopup":case"reauthViaRedirect":return xN;default:er(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new cu(2e3,1e4);class Wa extends yb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=gg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,VN.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="pendingRedirect",ah=new Map;class UN extends yb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await zN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zN(i,e){const n=HN(e),s=jN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function BN(i,e){ah.set(i._key(),e)}function jN(i){return Xi(i._redirectPersistence)}function HN(i){return sh(LN,i.config.apiKey,i.name)}async function qN(i,e,n=!1){if(Mn(i.app))return Promise.reject(Hr(i));const s=Wh(i),o=kN(s,e),h=await new UN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=10*60*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!vb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(di(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(RE(e))}saveEventToCache(e){this.cachedEventUids.add(RE(e)),this.lastProcessedEventTime=Date.now()}}function RE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function vb({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(i,e={}){return wo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$N=/^https?/;async function QN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await YN(i);for(const n of e)try{if(ZN(n))return}catch{}er(i,"unauthorized-domain")}function ZN(i){const e=mp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!$N.test(n))return!1;if(XN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new cu(3e4,6e4);function CE(){const i=mi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function JN(i){return new Promise((e,n)=>{var s,o,u;function h(){CE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CE(),n(di(i,"network-request-failed"))},timeout:WN.get()})}if(!((o=(s=mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mi().gapi)===null||u===void 0)&&u.load)h();else{const m=iN("iframefcb");return mi()[m]=()=>{gapi.load?h():n(di(i,"network-request-failed"))},tN(`${nN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function ek(i){return oh=oh||JN(i),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new cu(5e3,15e3),nk="__/auth/iframe",ik="emulator/auth/iframe",rk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ak(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?fg(e,ik):`https://${i.config.authDomain}/${nk}`,s={apiKey:e.apiKey,appName:i.name,v:yo},o=sk.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function ok(i){const e=await ek(i),n=mi().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:ak(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rk,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=di(i,"network-request-failed"),m=mi().setTimeout(()=>{u(h)},tk.get());function p(){mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uk=500,ck=600,hk="_blank",fk="http://localhost";class IE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dk(i,e,n,s=uk,o=ck){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},lk),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Qt().toLowerCase();n&&(m=Ww(g)?hk:n),Qw(g)&&(e=e||fk,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[C,I])=>`${w}${C}=${I},`,"");if(YD(g)&&m!=="_self")return mk(e||"",m),new IE(null);const T=window.open(e||"",m,v);Ee(T,i,"popup-blocked");try{T.focus()}catch{}return new IE(T)}function mk(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="__/auth/handler",gk="emulator/auth/handler",yk=encodeURIComponent("fac");async function OE(i,e,n,s,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof ob){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",HR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))h[v]=T}if(e instanceof hu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(h.scopes=v.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${yk}=${encodeURIComponent(p)}`:"";return`${vk(i)}?${su(m).slice(1)}${g}`}function vk({config:i}){return i.emulator?fg(i,gk):`https://${i.authDomain}/${pk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class _k{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fb,this._completeRedirectFn=qN,this._overrideRedirectResult=BN}async _openPopup(e,n,s,o){var u;tr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await OE(e,n,s,mp(),o);return dk(e,h,gg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await OE(e,n,s,mp(),o);return wN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await ok(e),s=new GN(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];h!==void 0&&n(!!h),er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ib()||Zw()||mg()}}const Ek=_k;var DE="@firebase/auth",NE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bk(i){Fs(new qr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(i)},g=new JD(s,o,u,p);return sN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Fs(new qr("auth-internal",e=>{const n=Wh(e.getProvider("auth").getImmediate());return(s=>new Tk(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(DE,NE,wk(i)),hi(DE,NE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=5*60,Ak=ST("authIdTokenMaxAge")||Sk;let kE=null;const Rk=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Ak)return;const o=n==null?void 0:n.token;kE!==o&&(kE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ck(i=jp()){const e=Uh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=rN(i,{popupRedirectResolver:Ek,persistence:[NN,_N,fb]}),s=ST("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Rk(u.toString());gN(n,h,()=>h(n.currentUser)),pN(n,m=>h(m))}}const o=TT("auth");return o&&aN(n,`http://${o}`),n}function Ik(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}eN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Ik().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bk("Browser");const Ok={apiKey:"AIzaSyCV9KLDUWG25081Nz_DwxCwrYFA1qi82_U",authDomain:"dashboard-41ee0.firebaseapp.com",projectId:"dashboard-41ee0",storageBucket:"dashboard-41ee0.firebasestorage.app",messagingSenderId:"576683404898",appId:"1:576683404898:web:d45dd398286841f11eeb3b"},_b=CT(Ok),Eb=Ck(_b),Dk=CD(_b),Nk=i=>`${i.type}-${i.position.colStart}-${i.position.rowStart}-${i.position.colEnd}-${i.position.rowEnd}`,yp=i=>nt.jsx("div",{className:"widget-grid__widget","data-unsaved":i.unsaved,style:{gridArea:`${i.position.colStart} / ${i.position.rowStart} / ${i.position.colEnd} / ${i.position.rowEnd}`},children:i.children});var Nm={exports:{}},km={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function kk(){if(ME)return km;ME=1;var i=kh();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=i.useSyncExternalStore,o=i.useRef,u=i.useEffect,h=i.useMemo,m=i.useDebugValue;return km.useSyncExternalStoreWithSelector=function(p,g,v,T,w){var C=o(null);if(C.current===null){var I={hasValue:!1,value:null};C.current=I}else I=C.current;C=h(function(){function V(ee){if(!G){if(G=!0,B=ee,ee=T(ee),w!==void 0&&I.hasValue){var re=I.value;if(w(re,ee))return $=re}return $=ee}if(re=$,n(B,ee))return re;var O=T(ee);return w!==void 0&&w(re,O)?(B=ee,re):(B=ee,$=O)}var G=!1,B,$,Y=v===void 0?null:v;return[function(){return V(g())},Y===null?void 0:function(){return V(Y())}]},[g,v,T,w]);var z=s(p,C[0],C[1]);return u(function(){I.hasValue=!0,I.value=z},[z]),m(z),z},km}var xE;function Mk(){return xE||(xE=1,Nm.exports=kk()),Nm.exports}var xk=Mk();function Pk(i){i()}function Vk(){let i=null,e=null;return{clear(){i=null,e=null},notify(){Pk(()=>{let n=i;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=i;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:i=o,function(){!s||i===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:i=o.next)}}}}var PE={notify(){},get:()=>[]};function Lk(i,e){let n,s=PE,o=0,u=!1;function h(z){v();const V=s.subscribe(z);let G=!1;return()=>{G||(G=!0,V(),T())}}function m(){s.notify()}function p(){I.onStateChange&&I.onStateChange()}function g(){return u}function v(){o++,n||(n=i.subscribe(p),s=Vk())}function T(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=PE)}function w(){u||(u=!0,v())}function C(){u&&(u=!1,T())}const I={addNestedSub:h,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:w,tryUnsubscribe:C,getListeners:()=>s};return I}var Uk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zk=Uk(),Bk=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jk=Bk(),Hk=()=>zk||jk?q.useLayoutEffect:q.useEffect,qk=Hk(),Mm=Symbol.for("react-redux-context"),xm=typeof globalThis<"u"?globalThis:{};function Fk(){if(!q.createContext)return{};const i=xm[Mm]??(xm[Mm]=new Map);let e=i.get(q.createContext);return e||(e=q.createContext(null),i.set(q.createContext,e)),e}var Qr=Fk();function Gk(i){const{children:e,context:n,serverState:s,store:o}=i,u=q.useMemo(()=>{const p=Lk(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),h=q.useMemo(()=>o.getState(),[o]);qk(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),h!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,h]);const m=n||Qr;return q.createElement(m.Provider,{value:u},e)}var Kk=Gk;function vg(i=Qr){return function(){return q.useContext(i)}}var Tb=vg();function wb(i=Qr){const e=i===Qr?Tb:vg(i),n=()=>{const{store:s}=e();return s};return Object.assign(n,{withTypes:()=>n}),n}var Yk=wb();function Xk(i=Qr){const e=i===Qr?Yk:wb(i),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var $k=Xk(),Qk=(i,e)=>i===e;function Zk(i=Qr){const e=i===Qr?Tb:vg(i),n=(s,o={})=>{const{equalityFn:u=Qk}=typeof o=="function"?{equalityFn:o}:o,h=e(),{store:m,subscription:p,getServerState:g}=h;q.useRef(!0);const v=q.useCallback({[s.name](w){return s(w)}}[s.name],[s]),T=xk.useSyncExternalStoreWithSelector(p.addNestedSub,m.getState,g||m.getState,v,u);return q.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var Wk=Zk();function Bt(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var Jk=typeof Symbol=="function"&&Symbol.observable||"@@observable",VE=Jk,Pm=()=>Math.random().toString(36).substring(7).split("").join("."),eM={INIT:`@@redux/INIT${Pm()}`,REPLACE:`@@redux/REPLACE${Pm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Pm()}`},Ch=eM;function _g(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function bb(i,e,n){if(typeof i!="function")throw new Error(Bt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Bt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Bt(1));return n(bb)(i,e)}let s=i,o=e,u=new Map,h=u,m=0,p=!1;function g(){h===u&&(h=new Map,u.forEach((V,G)=>{h.set(G,V)}))}function v(){if(p)throw new Error(Bt(3));return o}function T(V){if(typeof V!="function")throw new Error(Bt(4));if(p)throw new Error(Bt(5));let G=!0;g();const B=m++;return h.set(B,V),function(){if(G){if(p)throw new Error(Bt(6));G=!1,g(),h.delete(B),u=null}}}function w(V){if(!_g(V))throw new Error(Bt(7));if(typeof V.type>"u")throw new Error(Bt(8));if(typeof V.type!="string")throw new Error(Bt(17));if(p)throw new Error(Bt(9));try{p=!0,o=s(o,V)}finally{p=!1}return(u=h).forEach(B=>{B()}),V}function C(V){if(typeof V!="function")throw new Error(Bt(10));s=V,w({type:Ch.REPLACE})}function I(){const V=T;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(Bt(11));function B(){const Y=G;Y.next&&Y.next(v())}return B(),{unsubscribe:V(B)}},[VE](){return this}}}return w({type:Ch.INIT}),{dispatch:w,subscribe:T,getState:v,replaceReducer:C,[VE]:I}}function tM(i){Object.keys(i).forEach(e=>{const n=i[e];if(typeof n(void 0,{type:Ch.INIT})>"u")throw new Error(Bt(12));if(typeof n(void 0,{type:Ch.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bt(13))})}function nM(i){const e=Object.keys(i),n={};for(let u=0;u<e.length;u++){const h=e[u];typeof i[h]=="function"&&(n[h]=i[h])}const s=Object.keys(n);let o;try{tM(n)}catch(u){o=u}return function(h={},m){if(o)throw o;let p=!1;const g={};for(let v=0;v<s.length;v++){const T=s[v],w=n[T],C=h[T],I=w(C,m);if(typeof I>"u")throw m&&m.type,new Error(Bt(14));g[T]=I,p=p||I!==C}return p=p||s.length!==Object.keys(h).length,p?g:h}}function Ih(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,n)=>(...s)=>e(n(...s)))}function iM(...i){return e=>(n,s)=>{const o=e(n,s);let u=()=>{throw new Error(Bt(15))};const h={getState:o.getState,dispatch:(p,...g)=>u(p,...g)},m=i.map(p=>p(h));return u=Ih(...m)(o.dispatch),{...o,dispatch:u}}}function rM(i){return _g(i)&&"type"in i&&typeof i.type=="string"}var Sb=Symbol.for("immer-nothing"),LE=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function jn(i,...e){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var mo=Object.getPrototypeOf;function Xs(i){return!!i&&!!i[vn]}function nr(i){var e;return i?Ab(i)||Array.isArray(i)||!!i[LE]||!!((e=i.constructor)!=null&&e[LE])||nf(i)||rf(i):!1}var sM=Object.prototype.constructor.toString();function Ab(i){if(!i||typeof i!="object")return!1;const e=mo(i);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sM}function Oh(i,e){tf(i)===0?Reflect.ownKeys(i).forEach(n=>{e(n,i[n],i)}):i.forEach((n,s)=>e(s,n,i))}function tf(i){const e=i[vn];return e?e.type_:Array.isArray(i)?1:nf(i)?2:rf(i)?3:0}function vp(i,e){return tf(i)===2?i.has(e):Object.prototype.hasOwnProperty.call(i,e)}function Rb(i,e,n){const s=tf(i);s===2?i.set(e,n):s===3?i.add(n):i[e]=n}function aM(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}function nf(i){return i instanceof Map}function rf(i){return i instanceof Set}function Ls(i){return i.copy_||i.base_}function _p(i,e){if(nf(i))return new Map(i);if(rf(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const n=Ab(i);if(e===!0||e==="class_only"&&!n){const s=Object.getOwnPropertyDescriptors(i);delete s[vn];let o=Reflect.ownKeys(s);for(let u=0;u<o.length;u++){const h=o[u],m=s[h];m.writable===!1&&(m.writable=!0,m.configurable=!0),(m.get||m.set)&&(s[h]={configurable:!0,writable:!0,enumerable:m.enumerable,value:i[h]})}return Object.create(mo(i),s)}else{const s=mo(i);if(s!==null&&n)return{...i};const o=Object.create(s);return Object.assign(o,i)}}function Eg(i,e=!1){return sf(i)||Xs(i)||!nr(i)||(tf(i)>1&&(i.set=i.add=i.clear=i.delete=oM),Object.freeze(i),e&&Object.entries(i).forEach(([n,s])=>Eg(s,!0))),i}function oM(){jn(2)}function sf(i){return Object.isFrozen(i)}var lM={};function $s(i){const e=lM[i];return e||jn(0,i),e}var eu;function Cb(){return eu}function uM(i,e){return{drafts_:[],parent_:i,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UE(i,e){e&&($s("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=e)}function Ep(i){Tp(i),i.drafts_.forEach(cM),i.drafts_=null}function Tp(i){i===eu&&(eu=i.parent_)}function zE(i){return eu=uM(eu,i)}function cM(i){const e=i[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BE(i,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return i!==void 0&&i!==n?(n[vn].modified_&&(Ep(e),jn(4)),nr(i)&&(i=Dh(e,i),e.parent_||Nh(e,i)),e.patches_&&$s("Patches").generateReplacementPatches_(n[vn].base_,i,e.patches_,e.inversePatches_)):i=Dh(e,n,[]),Ep(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),i!==Sb?i:void 0}function Dh(i,e,n){if(sf(e))return e;const s=e[vn];if(!s)return Oh(e,(o,u)=>jE(i,s,e,o,u,n)),e;if(s.scope_!==i)return e;if(!s.modified_)return Nh(i,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let u=o,h=!1;s.type_===3&&(u=new Set(o),o.clear(),h=!0),Oh(u,(m,p)=>jE(i,s,o,m,p,n,h)),Nh(i,o,!1),n&&i.patches_&&$s("Patches").generatePatches_(s,n,i.patches_,i.inversePatches_)}return s.copy_}function jE(i,e,n,s,o,u,h){if(Xs(o)){const m=u&&e&&e.type_!==3&&!vp(e.assigned_,s)?u.concat(s):void 0,p=Dh(i,o,m);if(Rb(n,s,p),Xs(p))i.canAutoFreeze_=!1;else return}else h&&n.add(o);if(nr(o)&&!sf(o)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;Dh(i,o),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,s)&&Nh(i,o)}}function Nh(i,e,n=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&Eg(e,n)}function hM(i,e){const n=Array.isArray(i),s={type_:n?1:0,scope_:e?e.scope_:Cb(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=s,u=Tg;n&&(o=[s],u=tu);const{revoke:h,proxy:m}=Proxy.revocable(o,u);return s.draft_=m,s.revoke_=h,m}var Tg={get(i,e){if(e===vn)return i;const n=Ls(i);if(!vp(n,e))return fM(i,n,e);const s=n[e];return i.finalized_||!nr(s)?s:s===Vm(i.base_,e)?(Lm(i),i.copy_[e]=bp(s,i)):s},has(i,e){return e in Ls(i)},ownKeys(i){return Reflect.ownKeys(Ls(i))},set(i,e,n){const s=Ib(Ls(i),e);if(s!=null&&s.set)return s.set.call(i.draft_,n),!0;if(!i.modified_){const o=Vm(Ls(i),e),u=o==null?void 0:o[vn];if(u&&u.base_===n)return i.copy_[e]=n,i.assigned_[e]=!1,!0;if(aM(n,o)&&(n!==void 0||vp(i.base_,e)))return!0;Lm(i),wp(i)}return i.copy_[e]===n&&(n!==void 0||e in i.copy_)||Number.isNaN(n)&&Number.isNaN(i.copy_[e])||(i.copy_[e]=n,i.assigned_[e]=!0),!0},deleteProperty(i,e){return Vm(i.base_,e)!==void 0||e in i.base_?(i.assigned_[e]=!1,Lm(i),wp(i)):delete i.assigned_[e],i.copy_&&delete i.copy_[e],!0},getOwnPropertyDescriptor(i,e){const n=Ls(i),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:i.type_!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty(){jn(11)},getPrototypeOf(i){return mo(i.base_)},setPrototypeOf(){jn(12)}},tu={};Oh(Tg,(i,e)=>{tu[i]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});tu.deleteProperty=function(i,e){return tu.set.call(this,i,e,void 0)};tu.set=function(i,e,n){return Tg.set.call(this,i[0],e,n,i[0])};function Vm(i,e){const n=i[vn];return(n?Ls(n):i)[e]}function fM(i,e,n){var o;const s=Ib(e,n);return s?"value"in s?s.value:(o=s.get)==null?void 0:o.call(i.draft_):void 0}function Ib(i,e){if(!(e in i))return;let n=mo(i);for(;n;){const s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=mo(n)}}function wp(i){i.modified_||(i.modified_=!0,i.parent_&&wp(i.parent_))}function Lm(i){i.copy_||(i.copy_=_p(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var dM=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,s)=>{if(typeof e=="function"&&typeof n!="function"){const u=n;n=e;const h=this;return function(p=u,...g){return h.produce(p,v=>n.call(this,v,...g))}}typeof n!="function"&&jn(6),s!==void 0&&typeof s!="function"&&jn(7);let o;if(nr(e)){const u=zE(this),h=bp(e,void 0);let m=!0;try{o=n(h),m=!1}finally{m?Ep(u):Tp(u)}return UE(u,s),BE(o,u)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===Sb&&(o=void 0),this.autoFreeze_&&Eg(o,!0),s){const u=[],h=[];$s("Patches").generateReplacementPatches_(e,o,u,h),s(u,h)}return o}else jn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(h,...m)=>this.produceWithPatches(h,p=>e(p,...m));let s,o;return[this.produce(e,n,(h,m)=>{s=h,o=m}),s,o]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){nr(i)||jn(8),Xs(i)&&(i=mM(i));const e=zE(this),n=bp(i,void 0);return n[vn].isManual_=!0,Tp(e),n}finishDraft(i,e){const n=i&&i[vn];(!n||!n.isManual_)&&jn(9);const{scope_:s}=n;return UE(s,e),BE(void 0,s)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){i=o.value;break}}n>-1&&(e=e.slice(n+1));const s=$s("Patches").applyPatches_;return Xs(i)?s(i,e):this.produce(i,o=>s(o,e))}};function bp(i,e){const n=nf(i)?$s("MapSet").proxyMap_(i,e):rf(i)?$s("MapSet").proxySet_(i,e):hM(i,e);return(e?e.scope_:Cb()).drafts_.push(n),n}function mM(i){return Xs(i)||jn(10,i),Ob(i)}function Ob(i){if(!nr(i)||sf(i))return i;const e=i[vn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=_p(i,e.scope_.immer_.useStrictShallowCopy_)}else n=_p(i,!0);return Oh(n,(s,o)=>{Rb(n,s,Ob(o))}),e&&(e.finalized_=!1),n}var _n=new dM,Db=_n.produce;_n.produceWithPatches.bind(_n);_n.setAutoFreeze.bind(_n);_n.setUseStrictShallowCopy.bind(_n);_n.applyPatches.bind(_n);_n.createDraft.bind(_n);_n.finishDraft.bind(_n);function Nb(i){return({dispatch:n,getState:s})=>o=>u=>typeof u=="function"?u(n,s,i):o(u)}var pM=Nb(),gM=Nb,yM=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ih:Ih.apply(null,arguments)};function HE(i,e){function n(...s){if(e){let o=e(...s);if(!o)throw new Error(Qi(0));return{type:i,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:i,payload:s[0]}}return n.toString=()=>`${i}`,n.type=i,n.match=s=>rM(s)&&s.type===i,n}var kb=class zl extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zl.prototype)}static get[Symbol.species](){return zl}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zl(...e[0].concat(this)):new zl(...e.concat(this))}};function qE(i){return nr(i)?Db(i,()=>{}):i}function Kc(i,e,n){return i.has(e)?i.get(e):i.set(e,n(e)).get(e)}function vM(i){return typeof i=="boolean"}var _M=()=>function(e){const{thunk:n=!0,immutableCheck:s=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let h=new kb;return n&&(vM(n)?h.push(pM):h.push(gM(n.extraArgument))),h},EM="RTK_autoBatch",FE=i=>e=>{setTimeout(e,i)},TM=(i={type:"raf"})=>e=>(...n)=>{const s=e(...n);let o=!0,u=!1,h=!1;const m=new Set,p=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:FE(10):i.type==="callback"?i.queueNotification:FE(i.timeout),g=()=>{h=!1,u&&(u=!1,m.forEach(v=>v()))};return Object.assign({},s,{subscribe(v){const T=()=>o&&v(),w=s.subscribe(T);return m.add(v),()=>{w(),m.delete(v)}},dispatch(v){var T;try{return o=!((T=v==null?void 0:v.meta)!=null&&T[EM]),u=!o,u&&(h||(h=!0,p(g))),s.dispatch(v)}finally{o=!0}}})},wM=i=>function(n){const{autoBatch:s=!0}=n??{};let o=new kb(i);return s&&o.push(TM(typeof s=="object"?s:void 0)),o};function bM(i){const e=_M(),{reducer:n=void 0,middleware:s,devTools:o=!0,preloadedState:u=void 0,enhancers:h=void 0}=i||{};let m;if(typeof n=="function")m=n;else if(_g(n))m=nM(n);else throw new Error(Qi(1));let p;typeof s=="function"?p=s(e):p=e();let g=Ih;o&&(g=yM({trace:!1,...typeof o=="object"&&o}));const v=iM(...p),T=wM(v);let w=typeof h=="function"?h(T):T();const C=g(...w);return bb(m,u,C)}function Mb(i){const e={},n=[];let s;const o={addCase(u,h){const m=typeof u=="string"?u:u.type;if(!m)throw new Error(Qi(28));if(m in e)throw new Error(Qi(29));return e[m]=h,o},addMatcher(u,h){return n.push({matcher:u,reducer:h}),o},addDefaultCase(u){return s=u,o}};return i(o),[e,n,s]}function SM(i){return typeof i=="function"}function AM(i,e){let[n,s,o]=Mb(e),u;if(SM(i))u=()=>qE(i());else{const m=qE(i);u=()=>m}function h(m=u(),p){let g=[n[p.type],...s.filter(({matcher:v})=>v(p)).map(({reducer:v})=>v)];return g.filter(v=>!!v).length===0&&(g=[o]),g.reduce((v,T)=>{if(T)if(Xs(v)){const C=T(v,p);return C===void 0?v:C}else{if(nr(v))return Db(v,w=>T(w,p));{const w=T(v,p);if(w===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return v},m)}return h.getInitialState=u,h}var RM=Symbol.for("rtk-slice-createasyncthunk");function CM(i,e){return`${i}/${e}`}function IM({creators:i}={}){var n;const e=(n=i==null?void 0:i.asyncThunk)==null?void 0:n[RM];return function(o){const{name:u,reducerPath:h=u}=o;if(!u)throw new Error(Qi(11));const m=(typeof o.reducers=="function"?o.reducers(NM()):o.reducers)||{},p=Object.keys(m),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},v={addCase(Y,ee){const re=typeof Y=="string"?Y:Y.type;if(!re)throw new Error(Qi(12));if(re in g.sliceCaseReducersByType)throw new Error(Qi(13));return g.sliceCaseReducersByType[re]=ee,v},addMatcher(Y,ee){return g.sliceMatchers.push({matcher:Y,reducer:ee}),v},exposeAction(Y,ee){return g.actionCreators[Y]=ee,v},exposeCaseReducer(Y,ee){return g.sliceCaseReducersByName[Y]=ee,v}};p.forEach(Y=>{const ee=m[Y],re={reducerName:Y,type:CM(u,Y),createNotation:typeof o.reducers=="function"};MM(ee)?PM(re,ee,v,e):kM(re,ee,v)});function T(){const[Y={},ee=[],re=void 0]=typeof o.extraReducers=="function"?Mb(o.extraReducers):[o.extraReducers],O={...Y,...g.sliceCaseReducersByType};return AM(o.initialState,A=>{for(let R in O)A.addCase(R,O[R]);for(let R of g.sliceMatchers)A.addMatcher(R.matcher,R.reducer);for(let R of ee)A.addMatcher(R.matcher,R.reducer);re&&A.addDefaultCase(re)})}const w=Y=>Y,C=new Map,I=new WeakMap;let z;function V(Y,ee){return z||(z=T()),z(Y,ee)}function G(){return z||(z=T()),z.getInitialState()}function B(Y,ee=!1){function re(A){let R=A[Y];return typeof R>"u"&&ee&&(R=Kc(I,re,G)),R}function O(A=w){const R=Kc(C,ee,()=>new WeakMap);return Kc(R,A,()=>{const N={};for(const[P,L]of Object.entries(o.selectors??{}))N[P]=OM(L,A,()=>Kc(I,A,G),ee);return N})}return{reducerPath:Y,getSelectors:O,get selectors(){return O(re)},selectSlice:re}}const $={name:u,reducer:V,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:G,...B(h),injectInto(Y,{reducerPath:ee,...re}={}){const O=ee??h;return Y.inject({reducerPath:O,reducer:V},re),{...$,...B(O,!0)}}};return $}}function OM(i,e,n,s){function o(u,...h){let m=e(u);return typeof m>"u"&&s&&(m=n()),i(m,...h)}return o.unwrapped=i,o}var DM=IM();function NM(){function i(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return i.withTypes=()=>i,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:i}}function kM({type:i,reducerName:e,createNotation:n},s,o){let u,h;if("reducer"in s){if(n&&!xM(s))throw new Error(Qi(17));u=s.reducer,h=s.prepare}else u=s;o.addCase(i,u).exposeCaseReducer(e,u).exposeAction(e,h?HE(i,h):HE(i))}function MM(i){return i._reducerDefinitionType==="asyncThunk"}function xM(i){return i._reducerDefinitionType==="reducerWithPrepare"}function PM({type:i,reducerName:e},n,s,o){if(!o)throw new Error(Qi(18));const{payloadCreator:u,fulfilled:h,pending:m,rejected:p,settled:g,options:v}=n,T=o(i,u,v);s.exposeAction(e,T),h&&s.addCase(T.fulfilled,h),m&&s.addCase(T.pending,m),p&&s.addCase(T.rejected,p),g&&s.addMatcher(T.settled,g),s.exposeCaseReducer(e,{fulfilled:h||Yc,pending:m||Yc,rejected:p||Yc,settled:g||Yc})}function Yc(){}function Qi(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const VM={isDragging:!1,selectedFillers:[],unsavedWidget:null,occupiedPositions:[]},xb=DM({name:"widget",initialState:VM,reducers:{setIsDragging(i,e){i.isDragging=e.payload},setSelected(i,e){i.selectedFillers=e.payload},setUnsavedWidget(i,e){i.unsavedWidget=e.payload},setOccupiedPositions(i,e){i.occupiedPositions=e.payload}}}),Xc=xb.actions,LM=xb.reducer,UM=bM({reducer:{widget:LM}}),$c=Wk;function Pb(){const i=$k(),e=$c(B=>B.widget.occupiedPositions),n=q.useRef([]);q.useEffect(()=>{n.current=e},[e]);const s=$c(B=>B.widget.isDragging),o=q.useRef(s);q.useEffect(()=>{o.current=s},[s]);const u=$c(B=>B.widget.selectedFillers),h=q.useRef(u);q.useEffect(()=>{h.current=u},[u]);const m=$c(B=>B.widget.unsavedWidget),p=q.useRef(m);q.useEffect(()=>{p.current=m},[m]);const g=B=>{i(Xc.setIsDragging(B))},v=B=>{i(Xc.setSelected(B))},T=B=>{i(Xc.setUnsavedWidget(B))},w=B=>{i(Xc.setOccupiedPositions(B))},C=B=>{console.log("mouse up",B),T(B)},I=(B,$)=>{o.current||(g(!0),T(null),v([B]),console.log("mouse down","selected",h.current),$.preventDefault())},z=B=>{if(!o.current||h.current.length===0)return!1;let $=1/0,Y=-1/0,ee=1/0,re=-1/0;console.log("isSelectionInUnoccupiedSpace","occupied",e);for(const O of[...h.current,B])O.row<$&&($=O.row),O.row>Y&&(Y=O.row),O.column<ee&&(ee=O.column),O.column>re&&(re=O.column);for(const[O,A]of n.current)if(O>=$&&O<=Y&&A>=ee&&A<=re)return!1;return!0};return{selectedFiller:u,unsavedWidget:m,handleMouseDown:I,handleMouseEnter:(B,$)=>{if(!z(B))return;const Y=h.current.findIndex(ee=>ee.row===B.row&&ee.column===B.column);Y>-1?v(h.current.slice(0,Y+1)):v([...h.current,B]),$.preventDefault()},handleMouseUp:B=>{o.current&&(g(!1),console.log("mouse up","selected",h.current),C({position:{rowStart:Math.min(...h.current.map($=>$.row)),rowEnd:Math.max(...h.current.map($=>$.row))+1,colStart:Math.min(...h.current.map($=>$.column)),colEnd:Math.max(...h.current.map($=>$.column))+1}}),v([]),console.log("dragging ended",s),B.preventDefault())},setOccupiedPositions:w}}const zM=i=>{const{handleMouseDown:e,handleMouseEnter:n}=Pb();return nt.jsx("div",{className:"widget-grid__filler","data-selected":i.selected,onMouseDown:s=>e(i,s),onMouseEnter:s=>n(i,s)})},BM=i=>{const{selectedFiller:e,unsavedWidget:n,handleMouseUp:s,setOccupiedPositions:o}=Pb();q.useEffect(()=>{window.addEventListener("mouseup",p=>s(p))},[]);const u=q.useMemo(()=>{const p=GE.Children.toArray(i.children),g=p.filter(v=>v.type===yp);return p.length>g.length&&console.error(`${p.length-g.length} child(ren) of WidgetGrid aren't Widgets`),n?[...g,q.createElement(yp,{...n,unsaved:!0,key:"unsaved"})]:g},[i.children,n]),h=q.useMemo(()=>u.reduce((p,g)=>{const v=[];for(let T=g.props.position.colStart;T<g.props.position.colEnd;T++)for(let w=g.props.position.rowStart;w<g.props.position.rowEnd;w++)v.push([w,T]);return[...p,...v]},[]),[u]);q.useEffect(()=>{console.log("isSelectionInUnoccupiedSpace","setting occupied",h),o(h)},[h]);const m=[];console.log(h);for(let p=1;p<=i.columns;p++)for(let g=1;g<=i.rows;g++)h.some(([T,w])=>T===g&&w===p)||m.push(nt.jsx(zM,{row:g,column:p,selected:e&&e.some(T=>T.row===g&&T.column===p)},`widget-filler-${g}-${p}`));return nt.jsxs("div",{className:"widget-grid",style:{gridTemplateColumns:`repeat(${i.columns}, 1fr)`,gridTemplateRows:`repeat(${i.rows}, 1fr)`},children:[u,m]})},jM=GO();function HM(){const i=Eb.currentUser;if(!i)return Promise.reject(new Error("Not authenticated"));const e=FO(jM,"users",i.uid,"widget-layouts");return sD(e).then(n=>n.docs.map(s=>({id:s.id,...s.data()})))}const qM=i=>{const[e,n]=q.useState([]),[s,o]=q.useState(!0),[u,h]=q.useState(null);return q.useEffect(()=>{i.isAuthenticated&&(o(!0),HM().then(m=>{n(m),o(!1)}).catch(m=>{h(m),o(!1)}))},[i.isAuthenticated]),i.isAuthLoading||s?nt.jsx("div",{children:"Loading..."}):i.isAuthenticated?u?nt.jsxs("div",{children:["Error loading layouts: ",u.message]}):nt.jsx("div",{className:"dashboard",children:nt.jsx(BM,{columns:5,rows:5,children:e.length>0&&e[0].widgets.map(m=>nt.jsx(yp,{...m},Nk(m)))})}):nt.jsx(hT,{to:"/login"})},FM=()=>{const{loginWithRedirect:i}=xh();return nt.jsx("button",{onClick:()=>i(),children:"Log In"})},GM=()=>{const{isAuthenticated:i}=xh();return nt.jsx("div",{children:i?nt.jsx(hT,{to:"/"}):nt.jsx(FM,{})})};function KM(){const{getAccessTokenSilently:i}=xh(),[e,n]=q.useState(null),[s,o]=q.useState(!1),[u,h]=q.useState(null),m=q.useCallback(async p=>{if(!p){n(null);return}o(!0),h(null);try{const T=(await OD(Dk,"auth0ToFirebase")({token:p})).data.firebaseToken,w=await mN(Eb,T);n(w.user)}catch(g){h(g),n(null)}finally{o(!1)}},[]);return q.useEffect(()=>{let p=!0;return(async()=>{try{const v=await i();p&&v&&await m(v)}catch(v){console.error("Auth0 token retrieval failed",v),p&&(h(v),n(null))}})(),()=>{p=!1}},[i,m]),{user:e,loading:s,error:u}}function YM(){const{isAuthenticated:i,isLoading:e}=xh(),{user:n,loading:s,error:o}=KM();return nt.jsx(lR,{children:nt.jsxs(U1,{children:[nt.jsx(jm,{path:"/",element:nt.jsx(qM,{isAuthenticated:i&&!!n,isAuthLoading:e||s,firebaseUser:n,firebaseAuthError:o})}),nt.jsx(jm,{path:"/login",element:nt.jsx(GM,{})})]})})}gA.createRoot(document.getElementById("root")).render(nt.jsx(YA,{domain:"dev-g4ors5whpl8izfzj.eu.auth0.com",clientId:"HlNxH7PrJSEiegWDPJ8aVLFOCV8lU3Zy",authorizationParams:{redirect_uri:window.location.origin,audience:"https://dashboard.nuan.dev/api"},children:nt.jsx(Kk,{store:UM,children:nt.jsx(YM,{})})}));
